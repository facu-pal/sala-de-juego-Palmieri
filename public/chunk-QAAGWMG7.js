var fR=Object.defineProperty,pR=Object.defineProperties;var gR=Object.getOwnPropertyDescriptors;var VI=Object.getOwnPropertySymbols,mR=Object.getPrototypeOf,yR=Object.prototype.hasOwnProperty,vR=Object.prototype.propertyIsEnumerable,_R=Reflect.get;var UI=(t,e,n)=>e in t?fR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F=(t,e)=>{for(var n in e||={})yR.call(e,n)&&UI(t,n,e[n]);if(VI)for(var n of VI(e))vR.call(e,n)&&UI(t,n,e[n]);return t},be=(t,e)=>pR(t,gR(e));var or=(t,e,n)=>_R(mR(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(l){i(l)}},o=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});function jI(t,e){return Object.is(t,e)}var He=null,Pc=!1,Oc=1,Nn=Symbol("SIGNAL");function fe(t){let e=He;return He=t,e}function BI(){return He}var Fo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Uh(t){if(Pc)throw new Error("");if(He===null)return;He.consumerOnSignalRead(t);let e=He.nextProducerIndex++;if(Vc(He),e<He.producerNode.length&&He.producerNode[e]!==t&&Lo(He)){let n=He.producerNode[e];Fc(n,He.producerIndexOfThis[e])}He.producerNode[e]!==t&&(He.producerNode[e]=t,He.producerIndexOfThis[e]=Lo(He)?zI(t,He,e):0),He.producerLastReadVersion[e]=t.version}function IR(){Oc++}function $I(t){if(!(Lo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Oc)){if(!t.producerMustRecompute(t)&&!Bh(t)){t.dirty=!1,t.lastCleanEpoch=Oc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Oc}}function HI(t){if(t.liveConsumerNode===void 0)return;let e=Pc;Pc=!0;try{for(let n of t.liveConsumerNode)n.dirty||wR(n)}finally{Pc=e}}function qI(){return He?.consumerAllowSignalWrites!==!1}function wR(t){t.dirty=!0,HI(t),t.consumerMarkedDirty?.(t)}function Lc(t){return t&&(t.nextProducerIndex=0),fe(t)}function jh(t,e){if(fe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Lo(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Fc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Bh(t){Vc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||($I(n),r!==n.version))return!0}return!1}function $h(t){if(Vc(t),Lo(t))for(let e=0;e<t.producerNode.length;e++)Fc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function zI(t,e,n){if(GI(t),t.liveConsumerNode.length===0&&WI(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=zI(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Fc(t,e){if(GI(t),t.liveConsumerNode.length===1&&WI(t))for(let r=0;r<t.producerNode.length;r++)Fc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Vc(i),i.producerIndexOfThis[r]=e}}function Lo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Vc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function GI(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function WI(t){return t.producerNode!==void 0}function KI(t){let e=Object.create(ER);e.computation=t;let n=()=>{if($I(e),Uh(e),e.value===kc)throw e.error;return e.value};return n[Nn]=e,n}var Fh=Symbol("UNSET"),Vh=Symbol("COMPUTING"),kc=Symbol("ERRORED"),ER=be(F({},Fo),{value:Fh,dirty:!0,error:null,equal:jI,producerMustRecompute(t){return t.value===Fh||t.value===Vh},producerRecomputeValue(t){if(t.value===Vh)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Vh;let n=Lc(t),r;try{r=t.computation()}catch(i){r=kc,t.error=i}finally{jh(t,n)}if(e!==Fh&&e!==kc&&r!==kc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function DR(){throw new Error}var QI=DR;function YI(){QI()}function ZI(t){QI=t}var TR=null;function JI(t){let e=Object.create(ew);e.value=t;let n=()=>(Uh(e),e.value);return n[Nn]=e,n}function Hh(t,e){qI()||YI(),t.equal(t.value,e)||(t.value=e,bR(t))}function XI(t,e){qI()||YI(),Hh(t,e(t.value))}var ew=be(F({},Fo),{equal:jI,value:void 0});function bR(t){t.version++,IR(),HI(t),TR?.()}function J(t){return typeof t=="function"}function zi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Uc=zi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function zr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Pe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(J(r))try{r()}catch(s){e=s instanceof Uc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{tw(s)}catch(o){e=e??[],o instanceof Uc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Uc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)tw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&zr(n,e)}remove(e){let{_finalizers:n}=this;n&&zr(n,e),e instanceof t&&e._removeParent(this)}};Pe.EMPTY=(()=>{let t=new Pe;return t.closed=!0,t})();var qh=Pe.EMPTY;function jc(t){return t instanceof Pe||t&&"closed"in t&&J(t.remove)&&J(t.add)&&J(t.unsubscribe)}function tw(t){J(t)?t():t.unsubscribe()}var Ht={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Gi={setTimeout(t,e,...n){let{delegate:r}=Gi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Gi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Bc(t){Gi.setTimeout(()=>{let{onUnhandledError:e}=Ht;if(e)e(t);else throw t})}function Vo(){}var nw=zh("C",void 0,void 0);function rw(t){return zh("E",void 0,t)}function iw(t){return zh("N",t,void 0)}function zh(t,e,n){return{kind:t,value:e,error:n}}var Gr=null;function Wi(t){if(Ht.useDeprecatedSynchronousErrorHandling){let e=!Gr;if(e&&(Gr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Gr;if(Gr=null,n)throw r}}else t()}function sw(t){Ht.useDeprecatedSynchronousErrorHandling&&Gr&&(Gr.errorThrown=!0,Gr.error=t)}var Wr=class extends Pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,jc(e)&&e.add(this)):this.destination=AR}static create(e,n,r){return new Ki(e,n,r)}next(e){this.isStopped?Wh(iw(e),this):this._next(e)}error(e){this.isStopped?Wh(rw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Wh(nw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},CR=Function.prototype.bind;function Gh(t,e){return CR.call(t,e)}var Kh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){$c(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){$c(r)}else $c(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){$c(n)}}},Ki=class extends Wr{constructor(e,n,r){super();let i;if(J(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ht.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Gh(e.next,s),error:e.error&&Gh(e.error,s),complete:e.complete&&Gh(e.complete,s)}):i=e}this.destination=new Kh(i)}};function $c(t){Ht.useDeprecatedSynchronousErrorHandling?sw(t):Bc(t)}function SR(t){throw t}function Wh(t,e){let{onStoppedNotification:n}=Ht;n&&Gi.setTimeout(()=>n(t,e))}var AR={closed:!0,next:Vo,error:SR,complete:Vo};var Qi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Dt(t){return t}function Hc(...t){return Qh(t)}function Qh(t){return t.length===0?Dt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var oe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=NR(n)?n:new Ki(n,r,i);return Wi(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=ow(r),new r((i,s)=>{let o=new Ki({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Qi](){return this}pipe(...n){return Qh(n)(this)}toPromise(n){return n=ow(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function ow(t){var e;return(e=t??Ht.Promise)!==null&&e!==void 0?e:Promise}function RR(t){return t&&J(t.next)&&J(t.error)&&J(t.complete)}function NR(t){return t&&t instanceof Wr||RR(t)&&jc(t)}function Yh(t){return J(t?.lift)}function le(t){return e=>{if(Yh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ae(t,e,n,r,i){return new Zh(t,e,n,r,i)}var Zh=class extends Wr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Yi(){return le((t,e)=>{let n=null;t._refCount++;let r=ae(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Zi=class extends oe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Yh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pe;let n=this.getSubject();e.add(this.source.subscribe(ae(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pe.EMPTY)}return e}refCount(){return Yi()(this)}};var aw=zi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ot=(()=>{class t extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new qc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new aw}next(n){Wi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Wi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Wi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?qh:(this.currentObservers=null,s.push(n),new Pe(()=>{this.currentObservers=null,zr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new oe;return n.source=this,n}}return t.create=(e,n)=>new qc(e,n),t})(),qc=class extends ot{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:qh}};var Je=class extends ot{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Jh={now(){return(Jh.delegate||Date).now()},delegate:void 0};var zc=class extends Pe{constructor(e,n){super()}schedule(e,n=0){return this}};var Uo={setInterval(t,e,...n){let{delegate:r}=Uo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Uo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ji=class extends zc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Uo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Uo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,zr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Xi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Xi.now=Jh.now;var es=class extends Xi{constructor(e,n=Xi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Xh=new es(Ji);var Gc=class extends Ji{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Wc=class extends es{};var ef=new Wc(Gc);var Tt=new oe(t=>t.complete());function cw(t){return t&&J(t.schedule)}function uw(t){return t[t.length-1]}function Kc(t){return J(uw(t))?t.pop():void 0}function ar(t){return cw(uw(t))?t.pop():void 0}function tf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function dw(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function lw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Kr(t){return this instanceof Kr?(this.v=t,this):new Kr(t)}function hw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(v){return function(S){return Promise.resolve(S).then(v,p)}}function a(v,S){r[v]&&(i[v]=function(M){return new Promise(function(R,k){s.push([v,M,R,k])>1||u(v,M)})},S&&(i[v]=S(i[v])))}function u(v,S){try{l(r[v](S))}catch(M){m(s[0][3],M)}}function l(v){v.value instanceof Kr?Promise.resolve(v.value.v).then(h,p):m(s[0][2],v)}function h(v){u("next",v)}function p(v){u("throw",v)}function m(v,S){v(S),s.shift(),s.length&&u(s[0][0],s[0][1])}}function fw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof lw=="function"?lw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var Qc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Yc(t){return J(t?.then)}function Zc(t){return J(t[Qi])}function Jc(t){return Symbol.asyncIterator&&J(t?.[Symbol.asyncIterator])}function Xc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function MR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var eu=MR();function tu(t){return J(t?.[eu])}function nu(t){return hw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Kr(n.read());if(i)return yield Kr(void 0);yield yield Kr(r)}}finally{n.releaseLock()}})}function ru(t){return J(t?.getReader)}function Le(t){if(t instanceof oe)return t;if(t!=null){if(Zc(t))return xR(t);if(Qc(t))return PR(t);if(Yc(t))return OR(t);if(Jc(t))return pw(t);if(tu(t))return kR(t);if(ru(t))return LR(t)}throw Xc(t)}function xR(t){return new oe(e=>{let n=t[Qi]();if(J(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function PR(t){return new oe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function OR(t){return new oe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Bc)})}function kR(t){return new oe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function pw(t){return new oe(e=>{FR(t,e).catch(n=>e.error(n))})}function LR(t){return pw(nu(t))}function FR(t,e){var n,r,i,s;return dw(this,void 0,void 0,function*(){try{for(n=fw(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function It(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function cr(t,e=0){return le((n,r)=>{n.subscribe(ae(r,i=>It(r,t,()=>r.next(i),e),()=>It(r,t,()=>r.complete(),e),i=>It(r,t,()=>r.error(i),e)))})}function ur(t,e=0){return le((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function gw(t,e){return Le(t).pipe(ur(e),cr(e))}function mw(t,e){return Le(t).pipe(ur(e),cr(e))}function yw(t,e){return new oe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function vw(t,e){return new oe(n=>{let r;return It(n,e,()=>{r=t[eu](),It(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>J(r?.return)&&r.return()})}function iu(t,e){if(!t)throw new Error("Iterable cannot be null");return new oe(n=>{It(n,e,()=>{let r=t[Symbol.asyncIterator]();It(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function _w(t,e){return iu(nu(t),e)}function Iw(t,e){if(t!=null){if(Zc(t))return gw(t,e);if(Qc(t))return yw(t,e);if(Yc(t))return mw(t,e);if(Jc(t))return iu(t,e);if(tu(t))return vw(t,e);if(ru(t))return _w(t,e)}throw Xc(t)}function Re(t,e){return e?Iw(t,e):Le(t)}function z(...t){let e=ar(t);return Re(t,e)}function ts(t,e){let n=J(t)?t:()=>t,r=i=>i.error(n());return new oe(e?i=>e.schedule(r,0,i):r)}function nf(t){return!!t&&(t instanceof oe||J(t.lift)&&J(t.subscribe))}var Mn=zi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ie(t,e){return le((n,r)=>{let i=0;n.subscribe(ae(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:VR}=Array;function UR(t,e){return VR(e)?t(...e):t(e)}function su(t){return ie(e=>UR(t,e))}var{isArray:jR}=Array,{getPrototypeOf:BR,prototype:$R,keys:HR}=Object;function ou(t){if(t.length===1){let e=t[0];if(jR(e))return{args:e,keys:null};if(qR(e)){let n=HR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function qR(t){return t&&typeof t=="object"&&BR(t)===$R}function au(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function jo(...t){let e=ar(t),n=Kc(t),{args:r,keys:i}=ou(t);if(r.length===0)return Re([],e);let s=new oe(zR(r,e,i?o=>au(i,o):Dt));return n?s.pipe(su(n)):s}function zR(t,e,n=Dt){return r=>{ww(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)ww(e,()=>{let l=Re(t[u],e),h=!1;l.subscribe(ae(r,p=>{s[u]=p,h||(h=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function ww(t,e,n){t?It(n,t,e):e()}function Ew(t,e,n,r,i,s,o,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},v=M=>l<r?S(M):u.push(M),S=M=>{s&&e.next(M),l++;let R=!1;Le(n(M,h++)).subscribe(ae(e,k=>{i?.(k),s?v(k):e.next(k)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let k=u.shift();o?It(e,o,()=>S(k)):S(k)}m()}catch(k){e.error(k)}}))};return t.subscribe(ae(e,v,()=>{p=!0,m()})),()=>{a?.()}}function Fe(t,e,n=1/0){return J(e)?Fe((r,i)=>ie((s,o)=>e(r,s,i,o))(Le(t(r,i))),n):(typeof e=="number"&&(n=e),le((r,i)=>Ew(r,i,t,n)))}function lr(t=1/0){return Fe(Dt,t)}function Dw(){return lr(1)}function ns(...t){return Dw()(Re(t,ar(t)))}function cu(t){return new oe(e=>{Le(t()).subscribe(e)})}function GR(...t){let e=Kc(t),{args:n,keys:r}=ou(t),i=new oe(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;Le(n[h]).subscribe(ae(s,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?au(r,a):a),s.complete())}))}});return e?i.pipe(su(e)):i}function bt(t,e){return le((n,r)=>{let i=0;n.subscribe(ae(r,s=>t.call(e,s,i++)&&r.next(s)))})}function dr(t){return le((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ae(n,void 0,void 0,o=>{s=Le(t(o,dr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Tw(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(ae(o,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Qr(t,e){return J(e)?Fe(t,e,1):Fe(t,1)}function hr(t){return le((e,n)=>{let r=!1;e.subscribe(ae(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function xn(t){return t<=0?()=>Tt:le((e,n)=>{let r=0;e.subscribe(ae(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function rf(t){return ie(()=>t)}function uu(t=WR){return le((e,n)=>{let r=!1;e.subscribe(ae(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function WR(){return new Mn}function Bo(t){return le((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function nn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?bt((i,s)=>t(i,s,r)):Dt,xn(1),n?hr(e):uu(()=>new Mn))}function rs(t){return t<=0?()=>Tt:le((e,n)=>{let r=[];e.subscribe(ae(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function sf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?bt((i,s)=>t(i,s,r)):Dt,rs(1),n?hr(e):uu(()=>new Mn))}function lu(t,e){return le(Tw(t,e,arguments.length>=2,!0))}function du(...t){let e=ar(t);return le((n,r)=>{(e?ns(t,n,e):ns(t,n)).subscribe(r)})}function Ot(t,e){return le((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(ae(r,u=>{i?.unsubscribe();let l=0,h=s++;Le(t(u,h)).subscribe(i=ae(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function of(t){return le((e,n)=>{Le(t).subscribe(ae(n,()=>n.complete(),Vo)),!n.closed&&e.subscribe(n)})}function qe(t,e,n){let r=J(t)||e||n?{next:t,error:e,complete:n}:t;return r?le((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ae(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Dt}var dE="https://g.co/ng/security#xss",U=class extends Error{constructor(e,n){super(_p(e,n)),this.code=e}};function _p(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Yo(t){return{toString:t}.toString()}var hu="__parameters__";function KR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function hE(t,e,n){return Yo(()=>{let r=KR(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,h){let p=u.hasOwnProperty(hu)?u[hu]:Object.defineProperty(u,hu,{value:[]})[hu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Xr=globalThis;function Ee(t){for(let e in t)if(t[e]===Ee)return e;throw Error("Could not find renamed property on target object.")}function QR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function mt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(mt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function bw(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var YR=Ee({__forward_ref__:Ee});function fE(t){return t.__forward_ref__=fE,t.toString=function(){return mt(this())},t}function gt(t){return pE(t)?t():t}function pE(t){return typeof t=="function"&&t.hasOwnProperty(YR)&&t.__forward_ref__===fE}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Zo(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ku(t){return Cw(t,mE)||Cw(t,yE)}function gE(t){return Ku(t)!==null}function Cw(t,e){return t.hasOwnProperty(e)?t[e]:null}function ZR(t){let e=t&&(t[mE]||t[yE]);return e||null}function Sw(t){return t&&(t.hasOwnProperty(Aw)||t.hasOwnProperty(JR))?t[Aw]:null}var mE=Ee({\u0275prov:Ee}),Aw=Ee({\u0275inj:Ee}),yE=Ee({ngInjectableDef:Ee}),JR=Ee({ngInjectorDef:Ee}),j=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function vE(t){return t&&!!t.\u0275providers}var XR=Ee({\u0275cmp:Ee}),eN=Ee({\u0275dir:Ee}),tN=Ee({\u0275pipe:Ee}),nN=Ee({\u0275mod:Ee}),Du=Ee({\u0275fac:Ee}),Ho=Ee({__NG_ELEMENT_ID__:Ee}),Rw=Ee({__NG_ENV_ID__:Ee});function ls(t){return typeof t=="string"?t:t==null?"":String(t)}function rN(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ls(t)}function iN(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new U(-200,t)}function Ip(t,e){throw new U(-201,!1)}var ne=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ne||{}),wf;function _E(){return wf}function wt(t){let e=wf;return wf=t,e}function IE(t,e,n){let r=Ku(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ne.Optional)return null;if(e!==void 0)return e;Ip(t,"Injector")}var sN={},qo=sN,Ef="__NG_DI_FLAG__",Tu="ngTempTokenPath",oN="ngTokenPath",aN=/\n/gm,cN="\u0275",Nw="__source",cs;function uN(){return cs}function fr(t){let e=cs;return cs=t,e}function lN(t,e=ne.Default){if(cs===void 0)throw new U(-203,!1);return cs===null?IE(t,void 0,e):cs.get(t,e&ne.Optional?null:void 0,e)}function Q(t,e=ne.Default){return(_E()||lN)(gt(t),e)}function O(t,e=ne.Default){return Q(t,Qu(e))}function Qu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Df(t){let e=[];for(let n=0;n<t.length;n++){let r=gt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new U(900,!1);let i,s=ne.Default;for(let o=0;o<r.length;o++){let a=r[o],u=dN(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(Q(i,s))}else e.push(Q(r))}return e}function wE(t,e){return t[Ef]=e,t.prototype[Ef]=e,t}function dN(t){return t[Ef]}function hN(t,e,n,r){let i=t[Tu];throw e[Nw]&&i.unshift(e[Nw]),t.message=fN(`
`+t.message,i,n,r),t[oN]=i,t[Tu]=null,t}function fN(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==cN?t.slice(2):t;let i=mt(e);if(Array.isArray(e))i=e.map(mt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):mt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(aN,`
  `)}`}var et=wE(hE("Optional"),8);var Yu=wE(hE("SkipSelf"),4);function ti(t,e){let n=t.hasOwnProperty(Du);return n?t[Du]:null}function pN(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function gN(t){return t.flat(Number.POSITIVE_INFINITY)}function wp(t,e){t.forEach(n=>Array.isArray(n)?wp(n,e):e(n))}function EE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function bu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function mN(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function yN(t,e,n){let r=Jo(t,e);return r>=0?t[r|1]=n:(r=~r,mN(t,r,e,n)),r}function af(t,e){let n=Jo(t,e);if(n>=0)return t[n|1]}function Jo(t,e){return vN(t,e,1)}function vN(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var ds={},kt=[],hs=new j(""),DE=new j("",-1),TE=new j(""),Cu=class{get(e,n=qo){if(n===qo){let r=new Error(`NullInjectorError: No provider for ${mt(e)}!`);throw r.name="NullInjectorError",r}return n}},bE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(bE||{}),on=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(on||{}),mr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(mr||{});function _N(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Tf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];IN(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function CE(t){return t===3||t===4||t===6}function IN(t){return t.charCodeAt(0)===64}function zo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Mw(t,n,i,null,e[++r]):Mw(t,n,i,null,null))}}return t}function Mw(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var SE="ng-template";function wN(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&_N(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Ep(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Ep(t){return t.type===4&&t.value!==SE}function EN(t,e,n){let r=t.type===4&&!n?SE:t.value;return e===r}function DN(t,e,n){let r=4,i=t.attrs,s=i!==null?CN(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!qt(r)&&!qt(u))return!1;if(o&&qt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!EN(t,u,n)||u===""&&e.length===1){if(qt(r))return!1;o=!0}}else if(r&8){if(i===null||!wN(t,i,u,n)){if(qt(r))return!1;o=!0}}else{let l=e[++a],h=TN(u,i,Ep(t),n);if(h===-1){if(qt(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(qt(r))return!1;o=!0}}}}return qt(r)||o}function qt(t){return(t&1)===0}function TN(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return SN(e,t)}function bN(t,e,n=!1){for(let r=0;r<e.length;r++)if(DN(t,e[r],n))return!0;return!1}function CN(t){for(let e=0;e<t.length;e++){let n=t[e];if(CE(n))return e}return t.length}function SN(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function xw(t,e){return t?":not("+e.trim()+")":e}function AN(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!qt(o)&&(e+=xw(s,i),i=""),r=o,s=s||!qt(r);n++}return i!==""&&(e+=xw(s,i)),e}function RN(t){return t.map(AN).join(",")}function NN(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!qt(i))break;i=s}r++}return{attrs:e,classes:n}}function AE(t){return Yo(()=>{let e=OE(t),n=be(F({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===bE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||on.Emulated,styles:t.styles||kt,_:null,schemas:t.schemas||null,tView:null,id:""});kE(n);let r=t.dependencies;return n.directiveDefs=Ow(r,!1),n.pipeDefs=Ow(r,!0),n.id=PN(n),n})}function MN(t){return yr(t)||NE(t)}function xN(t){return t!==null}function Xo(t){return Yo(()=>({type:t.type,bootstrap:t.bootstrap||kt,declarations:t.declarations||kt,imports:t.imports||kt,exports:t.exports||kt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Pw(t,e){if(t==null)return ds;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=mr.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==mr.None?[r,a]:r,e[s]=o):n[s]=r}return n}function kn(t){return Yo(()=>{let e=OE(t);return kE(e),e})}function RE(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function yr(t){return t[XR]||null}function NE(t){return t[eN]||null}function ME(t){return t[tN]||null}function xE(t){let e=yr(t)||NE(t)||ME(t);return e!==null?e.standalone:!1}function PE(t,e){let n=t[nN]||null;if(!n&&e===!0)throw new Error(`Type ${mt(t)} does not have '\u0275mod' property.`);return n}function OE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ds,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||kt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Pw(t.inputs,e),outputs:Pw(t.outputs),debugInfo:null}}function kE(t){t.features?.forEach(e=>e(t))}function Ow(t,e){if(!t)return null;let n=e?ME:MN;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(xN)}function PN(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function hn(t){return{\u0275providers:t}}function ON(...t){return{\u0275providers:LE(!0,t),\u0275fromNgModule:!0}}function LE(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return wp(e,o=>{let a=o;bf(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&FE(i,s),n}function FE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Dp(i,s=>{e(s,r)})}}function bf(t,e,n,r){if(t=gt(t),!t)return!1;let i=null,s=Sw(t),o=!s&&yr(t);if(!s&&!o){let u=t.ngModule;if(s=Sw(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)bf(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{wp(s.imports,h=>{bf(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&FE(l,e)}if(!a){let l=ti(i)||(()=>new i);e({provide:i,useFactory:l,deps:kt},i),e({provide:TE,useValue:i,multi:!0},i),e({provide:hs,useValue:()=>Q(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;Dp(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Dp(t,e){for(let n of t)vE(n)&&(n=n.\u0275providers),Array.isArray(n)?Dp(n,e):e(n)}var kN=Ee({provide:String,useValue:Ee});function VE(t){return t!==null&&typeof t=="object"&&kN in t}function LN(t){return!!(t&&t.useExisting)}function FN(t){return!!(t&&t.useFactory)}function fs(t){return typeof t=="function"}function VN(t){return!!t.useClass}var Zu=new j(""),yu={},UN={},cf;function Tp(){return cf===void 0&&(cf=new Cu),cf}var St=class{},Go=class extends St{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sf(e,o=>this.processProvider(o)),this.records.set(DE,is(void 0,this)),i.has("environment")&&this.records.set(St,is(void 0,this));let s=this.records.get(Zu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(TE,kt,ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=fe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=fr(this),r=wt(void 0),i;try{return e()}finally{fr(n),wt(r)}}get(e,n=qo,r=ne.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Rw))return e[Rw](this);r=Qu(r);let i,s=fr(this),o=wt(void 0);try{if(!(r&ne.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=qN(e)&&Ku(e);l&&this.injectableDefInScope(l)?u=is(Cf(e),yu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ne.Self?Tp():this.parent;return n=r&ne.Optional&&n===qo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Tu]=a[Tu]||[]).unshift(mt(e)),s)throw a;return hN(a,e,"R3InjectorError",this.source)}else throw a}finally{wt(o),fr(s)}}resolveInjectorInitializers(){let e=fe(null),n=fr(this),r=wt(void 0),i;try{let s=this.get(hs,kt,ne.Self);for(let o of s)o()}finally{fr(n),wt(r),fe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(mt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new U(205,!1)}processProvider(e){e=gt(e);let n=fs(e)?e:gt(e&&e.provide),r=BN(e);if(!fs(e)&&e.multi===!0){let i=this.records.get(n);i||(i=is(void 0,yu,!0),i.factory=()=>Df(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=fe(null);try{return n.value===yu&&(n.value=UN,n.value=n.factory()),typeof n.value=="object"&&n.value&&HN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{fe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=gt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Cf(t){let e=Ku(t),n=e!==null?e.factory:ti(t);if(n!==null)return n;if(t instanceof j)throw new U(204,!1);if(t instanceof Function)return jN(t);throw new U(204,!1)}function jN(t){if(t.length>0)throw new U(204,!1);let n=ZR(t);return n!==null?()=>n.factory(t):()=>new t}function BN(t){if(VE(t))return is(void 0,t.useValue);{let e=UE(t);return is(e,yu)}}function UE(t,e,n){let r;if(fs(t)){let i=gt(t);return ti(i)||Cf(i)}else if(VE(t))r=()=>gt(t.useValue);else if(FN(t))r=()=>t.useFactory(...Df(t.deps||[]));else if(LN(t))r=()=>Q(gt(t.useExisting));else{let i=gt(t&&(t.useClass||t.provide));if($N(t))r=()=>new i(...Df(t.deps));else return ti(i)||Cf(i)}return r}function is(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function $N(t){return!!t.deps}function HN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function qN(t){return typeof t=="function"||typeof t=="object"&&t instanceof j}function Sf(t,e){for(let n of t)Array.isArray(n)?Sf(n,e):n&&vE(n)?Sf(n.\u0275providers,e):e(n)}function fn(t,e){t instanceof Go&&t.assertNotDestroyed();let n,r=fr(t),i=wt(void 0);try{return e()}finally{fr(r),wt(i)}}function jE(){return _E()!==void 0||uN()!=null}function zN(t){if(!jE())throw new U(-203,!1)}function GN(t){return typeof t=="function"}var Ln=0,ee=1,K=2,at=3,zt=4,Wt=5,Su=6,Au=7,Gt=8,ps=9,an=10,Ve=11,Wo=12,kw=13,ws=14,cn=15,ni=16,ss=17,Pn=18,Ju=19,BE=20,pr=21,uf=22,Lt=23,un=25,$E=1;var ri=7,Ru=8,gs=9,Ct=10,Nu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Nu||{});function gr(t){return Array.isArray(t)&&typeof t[$E]=="object"}function Fn(t){return Array.isArray(t)&&t[$E]===!0}function HE(t){return(t.flags&4)!==0}function Xu(t){return t.componentOffset>-1}function bp(t){return(t.flags&1)===1}function vr(t){return!!t.template}function Af(t){return(t[K]&512)!==0}var Rf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function qE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Es(){return zE}function zE(t){return t.type.prototype.ngOnChanges&&(t.setInput=KN),WN}Es.ngInherit=!0;function WN(){let t=WE(this),e=t?.current;if(e){let n=t.previous;if(n===ds)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function KN(t,e,n,r,i){let s=this.declaredInputs[r],o=WE(t)||QN(t,{previous:ds,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new Rf(l&&l.currentValue,n,u===ds),qE(t,e,i,n)}var GE="__ngSimpleChanges__";function WE(t){return t[GE]||null}function QN(t,e){return t[GE]=e}var Lw=null;var rn=function(t,e,n){Lw?.(t,e,n)},YN="svg",ZN="math";function ln(t){for(;Array.isArray(t);)t=t[Ln];return t}function KE(t,e){return ln(e[t])}function Ft(t,e){return ln(e[t.index])}function QE(t,e){return t.data[e]}function JN(t,e){return t[e]}function wr(t,e){let n=e[t];return gr(n)?n:n[Ln]}function XN(t){return(t[K]&4)===4}function Cp(t){return(t[K]&128)===128}function eM(t){return Fn(t[at])}function Mu(t,e){return e==null?null:t[e]}function YE(t){t[ss]=0}function ZE(t){t[K]&1024||(t[K]|=1024,Cp(t)&&tl(t))}function tM(t,e){for(;t>0;)e=e[ws],t--;return e}function el(t){return!!(t[K]&9216||t[Lt]?.dirty)}function Nf(t){t[an].changeDetectionScheduler?.notify(8),t[K]&64&&(t[K]|=1024),el(t)&&tl(t)}function tl(t){t[an].changeDetectionScheduler?.notify(0);let e=ii(t);for(;e!==null&&!(e[K]&8192||(e[K]|=8192,!Cp(e)));)e=ii(e)}function JE(t,e){if((t[K]&256)===256)throw new U(911,!1);t[pr]===null&&(t[pr]=[]),t[pr].push(e)}function nM(t,e){if(t[pr]===null)return;let n=t[pr].indexOf(e);n!==-1&&t[pr].splice(n,1)}function ii(t){let e=t[at];return Fn(e)?e[at]:e}var re={lFrame:uD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var XE=!1;function rM(){return re.lFrame.elementDepthCount}function iM(){re.lFrame.elementDepthCount++}function sM(){re.lFrame.elementDepthCount--}function eD(){return re.bindingsEnabled}function oM(){return re.skipHydrationRootTNode!==null}function aM(t){return re.skipHydrationRootTNode===t}function cM(){re.skipHydrationRootTNode=null}function de(){return re.lFrame.lView}function Ge(){return re.lFrame.tView}function U9(t){return re.lFrame.contextLView=t,t[Gt]}function j9(t){return re.lFrame.contextLView=null,t}function ut(){let t=tD();for(;t!==null&&t.type===64;)t=t.parent;return t}function tD(){return re.lFrame.currentTNode}function uM(){let t=re.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ea(t,e){let n=re.lFrame;n.currentTNode=t,n.isParent=e}function nD(){return re.lFrame.isParent}function lM(){re.lFrame.isParent=!1}function rD(){return XE}function Fw(t){XE=t}function iD(){let t=re.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function dM(){return re.lFrame.bindingIndex}function hM(t){return re.lFrame.bindingIndex=t}function nl(){return re.lFrame.bindingIndex++}function sD(t){let e=re.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function fM(){return re.lFrame.inI18n}function pM(t,e){let n=re.lFrame;n.bindingIndex=n.bindingRootIndex=t,Mf(e)}function gM(){return re.lFrame.currentDirectiveIndex}function Mf(t){re.lFrame.currentDirectiveIndex=t}function mM(t){let e=re.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function oD(){return re.lFrame.currentQueryIndex}function Sp(t){re.lFrame.currentQueryIndex=t}function yM(t){let e=t[ee];return e.type===2?e.declTNode:e.type===1?t[Wt]:null}function aD(t,e,n){if(n&ne.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&ne.Host);)if(i=yM(s),i===null||(s=s[ws],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=re.lFrame=cD();return r.currentTNode=e,r.lView=t,!0}function Ap(t){let e=cD(),n=t[ee];re.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function cD(){let t=re.lFrame,e=t===null?null:t.child;return e===null?uD(t):e}function uD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function lD(){let t=re.lFrame;return re.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var dD=lD;function Rp(){let t=lD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function vM(t){return(re.lFrame.contextLView=tM(t,re.lFrame.contextLView))[Gt]}function fi(){return re.lFrame.selectedIndex}function si(t){re.lFrame.selectedIndex=t}function rl(){let t=re.lFrame;return QE(t.tView,t.selectedIndex)}function _M(){return re.lFrame.currentNamespace}var hD=!0;function Np(){return hD}function Mp(t){hD=t}function IM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=zE(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function xp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function vu(t,e,n){fD(t,e,3,n)}function _u(t,e,n,r){(t[K]&3)===n&&fD(t,e,n,r)}function lf(t,e){let n=t[K];(n&3)===e&&(n&=16383,n+=1,t[K]=n)}function fD(t,e,n,r){let i=r!==void 0?t[ss]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[ss]+=65536),(a<s||s==-1)&&(wM(t,n,e,u),t[ss]=(t[ss]&4294901760)+u+2),u++}function Vw(t,e){rn(4,t,e);let n=fe(null);try{e.call(t)}finally{fe(n),rn(5,t,e)}}function wM(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[K]>>14<t[ss]>>16&&(t[K]&3)===e&&(t[K]+=16384,Vw(a,s)):Vw(a,s)}var us=-1,oi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function EM(t){return t instanceof oi}function DM(t){return(t.flags&8)!==0}function TM(t){return(t.flags&16)!==0}var df={},xf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Qu(r);let i=this.injector.get(e,df,r);return i!==df||n===df?i:this.parentInjector.get(e,n,r)}};function pD(t){return t!==us}function xu(t){return t&32767}function bM(t){return t>>16}function Pu(t,e){let n=bM(t),r=e;for(;n>0;)r=r[ws],n--;return r}var Pf=!0;function Ou(t){let e=Pf;return Pf=t,e}var CM=256,gD=CM-1,mD=5,SM=0,sn={};function AM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ho)&&(r=n[Ho]),r==null&&(r=n[Ho]=SM++);let i=r&gD,s=1<<i;e.data[t+(i>>mD)]|=s}function ku(t,e){let n=yD(t,e);if(n!==-1)return n;let r=e[ee];r.firstCreatePass&&(t.injectorIndex=e.length,hf(r.data,t),hf(e,null),hf(r.blueprint,null));let i=Pp(t,e),s=t.injectorIndex;if(pD(i)){let o=xu(i),a=Pu(i,e),u=a[ee].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function hf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function yD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Pp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=ED(i),r===null)return us;if(n++,i=i[ws],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return us}function Of(t,e,n){AM(t,e,n)}function RM(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(CE(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function vD(t,e,n){if(n&ne.Optional||t!==void 0)return t;Ip(e,"NodeInjector")}function _D(t,e,n,r){if(n&ne.Optional&&r===void 0&&(r=null),!(n&(ne.Self|ne.Host))){let i=t[ps],s=wt(void 0);try{return i?i.get(e,r,n&ne.Optional):IE(e,r,n&ne.Optional)}finally{wt(s)}}return vD(r,e,n)}function ID(t,e,n,r=ne.Default,i){if(t!==null){if(e[K]&2048&&!(r&ne.Self)){let o=PM(t,e,n,r,sn);if(o!==sn)return o}let s=wD(t,e,n,r,sn);if(s!==sn)return s}return _D(e,n,r,i)}function wD(t,e,n,r,i){let s=MM(n);if(typeof s=="function"){if(!aD(e,t,r))return r&ne.Host?vD(i,n,r):_D(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&ne.Optional))Ip(n);else return o}finally{dD()}}else if(typeof s=="number"){let o=null,a=yD(t,e),u=us,l=r&ne.Host?e[cn][Wt]:null;for((a===-1||r&ne.SkipSelf)&&(u=a===-1?Pp(t,e):e[a+8],u===us||!jw(r,!1)?a=-1:(o=e[ee],a=xu(u),e=Pu(u,e)));a!==-1;){let h=e[ee];if(Uw(s,a,h.data)){let p=NM(a,e,n,o,r,l);if(p!==sn)return p}u=e[a+8],u!==us&&jw(r,e[ee].data[a+8]===l)&&Uw(s,a,e)?(o=h,a=xu(u),e=Pu(u,e)):a=-1}}return i}function NM(t,e,n,r,i,s){let o=e[ee],a=o.data[t+8],u=r==null?Xu(a)&&Pf:r!=o&&(a.type&3)!==0,l=i&ne.Host&&s===a,h=Iu(a,o,n,u,l);return h!==null?ai(e,o,h,a):sn}function Iu(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,h=s>>20,p=r?a:a+h,m=i?a+h:l;for(let v=p;v<m;v++){let S=o[v];if(v<u&&n===S||v>=u&&S.type===n)return v}if(i){let v=o[u];if(v&&vr(v)&&v.type===n)return u}return null}function ai(t,e,n,r){let i=t[n],s=e.data;if(EM(i)){let o=i;o.resolving&&iN(rN(s[n]));let a=Ou(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?wt(o.injectImpl):null,h=aD(t,r,ne.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&IM(n,s[n],e)}finally{l!==null&&wt(l),Ou(a),o.resolving=!1,dD()}}return i}function MM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ho)?t[Ho]:void 0;return typeof e=="number"?e>=0?e&gD:xM:e}function Uw(t,e,n){let r=1<<t;return!!(n[e+(t>>mD)]&r)}function jw(t,e){return!(t&ne.Self)&&!(t&ne.Host&&e)}var ei=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return ID(this._tNode,this._lView,e,Qu(r),n)}};function xM(){return new ei(ut(),de())}function Op(t){return Yo(()=>{let e=t.prototype.constructor,n=e[Du]||kf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Du]||kf(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function kf(t){return pE(t)?()=>{let e=kf(gt(t));return e&&e()}:ti(t)}function PM(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[K]&2048&&!(o[K]&512);){let a=wD(s,o,n,r|ne.Self,sn);if(a!==sn)return a;let u=s.parent;if(!u){let l=o[BE];if(l){let h=l.get(n,sn,r);if(h!==sn)return h}u=ED(o),o=o[ws]}s=u}return i}function ED(t){let e=t[ee],n=e.type;return n===2?e.declTNode:n===1?t[Wt]:null}function kp(t){return RM(ut(),t)}function Bw(t,e=null,n=null,r){let i=DD(t,e,n,r);return i.resolveInjectorInitializers(),i}function DD(t,e=null,n=null,r,i=new Set){let s=[n||kt,ON(t)];return r=r||(typeof t=="object"?void 0:mt(t)),new Go(s,e||Tp(),r||null,i)}var Zr=class Zr{static create(e,n){if(Array.isArray(e))return Bw({name:""},n,e,"");{let r=e.name??"";return Bw({name:r},e.parent,e.providers,r)}}};Zr.THROW_IF_NOT_FOUND=qo,Zr.NULL=new Cu,Zr.\u0275prov=B({token:Zr,providedIn:"any",factory:()=>Q(DE)}),Zr.__NG_ELEMENT_ID__=-1;var ct=Zr;var OM=new j("");OM.__NG_ELEMENT_ID__=t=>{let e=ut();if(e===null)throw new U(204,!1);if(e.type&2)return e.value;if(t&ne.Optional)return null;throw new U(204,!1)};var kM="ngOriginalError";function ff(t){return t[kM]}var TD=!0,Lp=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=LM,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Lf=class extends Lp{constructor(e){super(),this._lView=e}onDestroy(e){return JE(this._lView,e),()=>nM(this._lView,e)}};function LM(){return new Lf(de())}var Ds=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Je(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Ff=class extends ot{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,jE()&&(this.destroyRef=O(Lp,{optional:!0})??void 0,this.pendingTasks=O(Ds,{optional:!0})??void 0)}emit(e){let n=fe(null);try{super.next(e)}finally{fe(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Pe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Xe=Ff;function Lu(...t){}function bD(t){let e,n;function r(){t=Lu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function $w(t){return queueMicrotask(()=>t()),()=>{t=Lu}}var Fp="isAngularZone",Fu=Fp+"_ID",FM=0,ve=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xe(!1),this.onMicrotaskEmpty=new Xe(!1),this.onStable=new Xe(!1),this.onError=new Xe(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=TD}=e;if(typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,jM(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Fp)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new U(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,VM,Lu,Lu);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},VM={};function Vp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function UM(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){bD(()=>{t.callbackScheduled=!1,Vf(t),t.isCheckStableRunning=!0,Vp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Vf(t)}function jM(t){let e=()=>{UM(t)},n=FM++;t._inner=t._inner.fork({name:"angular",properties:{[Fp]:!0,[Fu]:n,[Fu+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(BM(u))return r.invokeTask(s,o,a,u);try{return Hw(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),qw(t)}},onInvoke:(r,i,s,o,a,u,l)=>{try{return Hw(t),r.invoke(s,o,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!$M(u)&&e(),qw(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Vf(t),Vp(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Vf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Hw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qw(t){t._nesting--,Vp(t)}var Uf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xe,this.onMicrotaskEmpty=new Xe,this.onStable=new Xe,this.onError=new Xe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function BM(t){return CD(t,"__ignore_ng_zone__")}function $M(t){return CD(t,"__scheduler_tick__")}function CD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var On=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&ff(e);for(;n&&ff(n);)n=ff(n);return n||null}},HM=new j("",{providedIn:"root",factory:()=>{let t=O(ve),e=O(On);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function qM(){return Ts(ut(),de())}function Ts(t,e){return new Kt(Ft(t,e))}var Kt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=qM;let t=e;return t})();function zM(t){return t instanceof Kt?t.nativeElement:t}function GM(){return this._results[Symbol.iterator]()}var jf=class t{get changes(){return this._changes??=new Xe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=GM)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=gN(e);(this._changesDetected=!pN(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function SD(t){return(t.flags&128)===128}var AD=new Map,WM=0;function KM(){return WM++}function QM(t){AD.set(t[Ju],t)}function Bf(t){AD.delete(t[Ju])}var zw="__ngContext__";function ci(t,e){gr(e)?(t[zw]=e[Ju],QM(e)):t[zw]=e}function RD(t){return MD(t[Wo])}function ND(t){return MD(t[zt])}function MD(t){for(;t!==null&&!Fn(t);)t=t[zt];return t}var $f;function xD(t){$f=t}function YM(){if($f!==void 0)return $f;if(typeof document<"u")return document;throw new U(210,!1)}var Up=new j("",{providedIn:"root",factory:()=>ZM}),ZM="ng",jp=new j(""),pn=new j("",{providedIn:"platform",factory:()=>"unknown"});var Bp=new j("",{providedIn:"root",factory:()=>YM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var JM="h",XM="b";var ex=()=>null;function $p(t,e,n=!1){return ex(t,e,n)}var PD=!1,tx=new j("",{providedIn:"root",factory:()=>PD});var fu;function nx(){if(fu===void 0&&(fu=null,Xr.trustedTypes))try{fu=Xr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return fu}function Gw(t){return nx()?.createScriptURL(t)||t}var Vu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${dE})`}};function ta(t){return t instanceof Vu?t.changingThisBreaksApplicationSecurity:t}function Hp(t,e){let n=rx(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${dE})`)}return n===e}function rx(t){return t instanceof Vu&&t.getTypeName()||null}var ix=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function OD(t){return t=String(t),t.match(ix)?t:"unsafe:"+t}var il=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(il||{});function sx(t){let e=LD();return e?e.sanitize(il.URL,t)||"":Hp(t,"URL")?ta(t):OD(ls(t))}function ox(t){let e=LD();if(e)return Gw(e.sanitize(il.RESOURCE_URL,t)||"");if(Hp(t,"ResourceURL"))return Gw(ta(t));throw new U(904,!1)}function ax(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?ox:sx}function kD(t,e,n){return ax(e,n)(t)}function LD(){let t=de();return t&&t[an].sanitizer}function FD(t){return t instanceof Function?t():t}function cx(t){return(t??O(ct)).get(pn)==="browser"}var dn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(dn||{}),ux;function qp(t,e){return ux(t,e)}function os(t,e,n,r,i){if(r!=null){let s,o=!1;Fn(r)?s=r:gr(r)&&(o=!0,r=r[Ln]);let a=ln(r);t===0&&n!==null?i==null?$D(e,n,a):Uu(e,n,a,i||null,!0):t===1&&n!==null?Uu(e,n,a,i||null,!0):t===2?Tx(e,a,o):t===3&&e.destroyNode(a),s!=null&&Cx(e,t,s,n,i)}}function lx(t,e){return t.createText(e)}function dx(t,e,n){t.setValue(e,n)}function VD(t,e,n){return t.createElement(e,n)}function hx(t,e){UD(t,e),e[Ln]=null,e[Wt]=null}function fx(t,e,n,r,i,s){r[Ln]=i,r[Wt]=e,sl(t,r,n,1,i,s)}function UD(t,e){e[an].changeDetectionScheduler?.notify(9),sl(t,e,e[Ve],2,null,null)}function px(t){let e=t[Wo];if(!e)return pf(t[ee],t);for(;e;){let n=null;if(gr(e))n=e[Wo];else{let r=e[Ct];r&&(n=r)}if(!n){for(;e&&!e[zt]&&e!==t;)gr(e)&&pf(e[ee],e),e=e[at];e===null&&(e=t),gr(e)&&pf(e[ee],e),n=e&&e[zt]}e=n}}function gx(t,e,n,r){let i=Ct+r,s=n.length;r>0&&(n[i-1][zt]=e),r<s-Ct?(e[zt]=n[i],EE(n,Ct+r,e)):(n.push(e),e[zt]=null),e[at]=n;let o=e[ni];o!==null&&n!==o&&jD(o,e);let a=e[Pn];a!==null&&a.insertView(t),Nf(e),e[K]|=128}function jD(t,e){let n=t[gs],r=e[at];if(gr(r))t[K]|=Nu.HasTransplantedViews;else{let i=r[at][cn];e[cn]!==i&&(t[K]|=Nu.HasTransplantedViews)}n===null?t[gs]=[e]:n.push(e)}function zp(t,e){let n=t[gs],r=n.indexOf(e);n.splice(r,1)}function Hf(t,e){if(t.length<=Ct)return;let n=Ct+e,r=t[n];if(r){let i=r[ni];i!==null&&i!==t&&zp(i,r),e>0&&(t[n-1][zt]=r[zt]);let s=bu(t,Ct+e);hx(r[ee],r);let o=s[Pn];o!==null&&o.detachView(s[ee]),r[at]=null,r[zt]=null,r[K]&=-129}return r}function BD(t,e){if(!(e[K]&256)){let n=e[Ve];n.destroyNode&&sl(t,e,n,3,null,null),px(e)}}function pf(t,e){if(e[K]&256)return;let n=fe(null);try{e[K]&=-129,e[K]|=256,e[Lt]&&$h(e[Lt]),yx(t,e),mx(t,e),e[ee].type===1&&e[Ve].destroy();let r=e[ni];if(r!==null&&Fn(e[at])){r!==e[at]&&zp(r,e);let i=e[Pn];i!==null&&i.detachView(t)}Bf(e)}finally{fe(n)}}function mx(t,e){let n=t.cleanup,r=e[Au];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Au]=null);let i=e[pr];if(i!==null){e[pr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function yx(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof oi)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];rn(4,a,u);try{u.call(a)}finally{rn(5,a,u)}}else{rn(4,i,s);try{s.call(i)}finally{rn(5,i,s)}}}}}function vx(t,e,n){return _x(t,e.parent,n)}function _x(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Ln];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===on.None||s===on.Emulated)return null}return Ft(r,n)}}function Uu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function $D(t,e,n){t.appendChild(e,n)}function Ww(t,e,n,r,i){r!==null?Uu(t,e,n,r,i):$D(t,e,n)}function HD(t,e){return t.parentNode(e)}function Ix(t,e){return t.nextSibling(e)}function wx(t,e,n){return Dx(t,e,n)}function Ex(t,e,n){return t.type&40?Ft(t,n):null}var Dx=Ex,Kw;function Gp(t,e,n,r){let i=vx(t,r,e),s=e[Ve],o=r.parent||e[Wt],a=wx(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Ww(s,i,n[u],a,!1);else Ww(s,i,n,a,!1);Kw!==void 0&&Kw(s,r,e,n,i)}function $o(t,e){if(e!==null){let n=e.type;if(n&3)return Ft(e,t);if(n&4)return qf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return $o(t,r);{let i=t[e.index];return Fn(i)?qf(-1,i):ln(i)}}else{if(n&128)return $o(t,e.next);if(n&32)return qp(e,t)()||ln(t[e.index]);{let r=qD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ii(t[cn]);return $o(i,r)}else return $o(t,e.next)}}}return null}function qD(t,e){if(e!==null){let r=t[cn][Wt],i=e.projection;return r.projection[i]}return null}function qf(t,e){let n=Ct+t+1;if(n<e.length){let r=e[n],i=r[ee].firstChild;if(i!==null)return $o(r,i)}return e[ri]}function Tx(t,e,n){t.removeChild(null,e,n)}function Wp(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&ci(ln(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Wp(t,e,n.child,r,i,s,!1),os(e,t,i,a,s);else if(u&32){let l=qp(n,r),h;for(;h=l();)os(e,t,i,h,s);os(e,t,i,a,s)}else u&16?bx(t,e,r,n,i,s):os(e,t,i,a,s);n=o?n.projectionNext:n.next}}function sl(t,e,n,r,i,s){Wp(n,r,t.firstChild,e,i,s,!1)}function bx(t,e,n,r,i,s){let o=n[cn],u=o[Wt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];os(e,t,i,h,s)}else{let l=u,h=o[at];SD(r)&&(l.flags|=128),Wp(t,e,l,h,i,s,!0)}}function Cx(t,e,n,r,i){let s=n[ri],o=ln(n);s!==o&&os(e,t,r,s,i);for(let a=Ct;a<n.length;a++){let u=n[a];sl(u[ee],u,t,e,r,s)}}function Sx(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:dn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=dn.Important),t.setStyle(n,r,i,s))}}function Ax(t,e,n){t.setAttribute(e,"style",n)}function zD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function GD(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Tf(t,e,r),i!==null&&zD(t,e,i),s!==null&&Ax(t,e,s)}var gn={};function B9(t=1){WD(Ge(),de(),fi()+t,!1)}function WD(t,e,n,r){if(!r)if((e[K]&3)===3){let s=t.preOrderCheckHooks;s!==null&&vu(e,s,n)}else{let s=t.preOrderHooks;s!==null&&_u(e,s,0,n)}si(n)}function Ie(t,e=ne.Default){let n=de();if(n===null)return Q(t,e);let r=ut();return ID(r,n,gt(t),e)}function KD(){let t="invalid";throw new Error(t)}function QD(t,e,n,r,i,s){let o=fe(null);try{let a=null;i&mr.SignalBased&&(a=e[r][Nn]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&mr.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):qE(e,a,r,s)}finally{fe(o)}}function Rx(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)si(~i);else{let s=i,o=n[++r],a=n[++r];pM(o,s);let u=e[s];a(2,u)}}}finally{si(-1)}}function ol(t,e,n,r,i,s,o,a,u,l,h){let p=e.blueprint.slice();return p[Ln]=i,p[K]=r|4|128|8|64,(l!==null||t&&t[K]&2048)&&(p[K]|=2048),YE(p),p[at]=p[ws]=t,p[Gt]=n,p[an]=o||t&&t[an],p[Ve]=a||t&&t[Ve],p[ps]=u||t&&t[ps]||null,p[Wt]=s,p[Ju]=KM(),p[Su]=h,p[BE]=l,p[cn]=e.type==2?t[cn]:p,p}function al(t,e,n,r,i){let s=t.data[e];if(s===null)s=Nx(t,e,n,r,i),fM()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=uM();s.injectorIndex=o===null?-1:o.injectorIndex}return ea(s,!0),s}function Nx(t,e,n,r,i){let s=tD(),o=nD(),a=o?s:s&&s.parent,u=t.data[e]=Lx(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function YD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ZD(t,e,n,r,i){let s=fi(),o=r&2;try{si(-1),o&&e.length>un&&WD(t,e,un,!1),rn(o?2:0,i),n(r,i)}finally{si(s),rn(o?3:1,i)}}function JD(t,e,n){if(HE(e)){let r=fe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{fe(r)}}}function XD(t,e,n){eD()&&($x(t,e,n,Ft(n,e)),(n.flags&64)===64&&iT(t,e,n))}function eT(t,e,n=Ft){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function tT(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Kp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Kp(t,e,n,r,i,s,o,a,u,l,h){let p=un+r,m=p+i,v=Mx(p,m),S=typeof l=="function"?l():l;return v[ee]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function Mx(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:gn);return n}function xx(t,e,n,r){let s=r.get(tx,PD)||n===on.ShadowDom,o=t.selectRootElement(e,s);return Px(o),o}function Px(t){Ox(t)}var Ox=()=>null;function kx(t,e,n,r){let i=aT(e);i.push(n),t.firstCreatePass&&cT(t).push(r,i.length-1)}function Lx(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return oM()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Qw(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=mr.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?Yw(r,n,l,a,u):Yw(r,n,l,a)}return r}function Yw(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function Fx(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],m=n?n.get(p):null,v=m?m.inputs:null,S=m?m.outputs:null;u=Qw(0,p.inputs,h,u,v),l=Qw(1,p.outputs,h,l,S);let M=u!==null&&o!==null&&!Ep(e)?Xx(u,h,o):null;a.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function Vx(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Qp(t,e,n,r,i,s,o,a){let u=Ft(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Yp(t,n,h,r,i),Xu(e)&&Ux(n,e.index)):e.type&3?(r=Vx(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function Ux(t,e){let n=wr(e,t);n[K]&16||(n[K]|=64)}function nT(t,e,n,r){if(eD()){let i=r===null?null:{"":-1},s=qx(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&rT(t,e,n,o,i,a),i&&zx(n,r,i)}n.mergedAttrs=zo(n.mergedAttrs,n.attrs)}function rT(t,e,n,r,i,s){for(let l=0;l<r.length;l++)Of(ku(n,e),t,r[l].type);Wx(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=YD(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=zo(n.mergedAttrs,h.hostAttrs),Kx(t,n,e,u,h),Gx(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}Fx(t,n,s)}function jx(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;Bx(o)!=a&&o.push(a),o.push(n,r,s)}}function Bx(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function $x(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Xu(n)&&Qx(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||ku(n,e),ci(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=ai(e,t,a,n);if(ci(l,e),o!==null&&Jx(e,a-i,l,u,n,o),vr(u)){let h=wr(n.index,e);h[Gt]=ai(e,t,a,n)}}}function iT(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=gM();try{si(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Mf(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Hx(u,l)}}finally{si(-1),Mf(o)}}function Hx(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function qx(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(bN(e,o.selectors,!1))if(r||(r=[]),vr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;zf(t,e,u)}else r.unshift(o),zf(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function zf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function zx(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new U(-301,!1);r.push(e[i],s)}}}function Gx(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vr(e)&&(n[""]=t)}}function Wx(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Kx(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=ti(i.type,!0)),o=new oi(s,vr(i),Ie);t.blueprint[r]=o,n[r]=o,jx(t,e,r,YD(t,n,i.hostVars,gn),i)}function Qx(t,e,n){let r=Ft(e,t),i=tT(n),s=t[an].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=cl(t,ol(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function Yx(t,e,n,r,i,s){let o=Ft(t,e);Zx(e[Ve],o,s,t.value,n,r,i)}function Zx(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?ls(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function Jx(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],h=o[a++],p=o[a++];QD(r,n,u,l,h,p)}}function Xx(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function sT(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function oT(t,e){let n=t.contentQueries;if(n!==null){let r=fe(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Sp(s),a.contentQueries(2,e[o],o)}}}finally{fe(r)}}}function cl(t,e){return t[Wo]?t[kw][zt]=e:t[Wo]=e,t[kw]=e,e}function Gf(t,e,n){Sp(0);let r=fe(null);try{e(t,n)}finally{fe(r)}}function aT(t){return t[Au]??=[]}function cT(t){return t.cleanup??=[]}function uT(t,e){let n=t[ps],r=n?n.get(On,null):null;r&&r.handleError(e)}function Yp(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],h=t.data[o];QD(h,l,r,a,u,i)}}function lT(t,e,n){let r=KE(e,t);dx(t[Ve],r,n)}function eP(t,e){let n=wr(e,t),r=n[ee];tP(r,n);let i=n[Ln];i!==null&&n[Su]===null&&(n[Su]=$p(i,n[ps])),Zp(r,n,n[Gt])}function tP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Zp(t,e,n){Ap(e);try{let r=t.viewQuery;r!==null&&Gf(1,r,n);let i=t.template;i!==null&&ZD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Pn]?.finishViewCreation(t),t.staticContentQueries&&oT(t,e),t.staticViewQueries&&Gf(2,t.viewQuery,n);let s=t.components;s!==null&&nP(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[K]&=-5,Rp()}}function nP(t,e){for(let n=0;n<e.length;n++)eP(t,e[n])}function rP(t,e,n,r){let i=fe(null);try{let s=e.tView,a=t[K]&4096?4096:16,u=ol(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[ni]=l;let h=t[Pn];return h!==null&&(u[Pn]=h.createEmbeddedView(s)),Zp(s,u,n),u}finally{fe(i)}}function Zw(t,e){return!e||e.firstChild===null||SD(t)}function iP(t,e,n,r=!0){let i=e[ee];if(gx(i,e,t,n),r){let o=qf(n,t),a=e[Ve],u=HD(a,t[ri]);u!==null&&fx(i,t[Wt],a,e,u,o)}let s=e[Su];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function ju(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(ln(s)),Fn(s)&&sP(s,r);let o=n.type;if(o&8)ju(t,e,n.child,r);else if(o&32){let a=qp(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=qD(e,n);if(Array.isArray(a))r.push(...a);else{let u=ii(e[cn]);ju(u[ee],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function sP(t,e){for(let n=Ct;n<t.length;n++){let r=t[n],i=r[ee].firstChild;i!==null&&ju(r[ee],r,i,e)}t[ri]!==t[Ln]&&e.push(t[ri])}var dT=[];function oP(t){return t[Lt]??aP(t)}function aP(t){let e=dT.pop()??Object.create(uP);return e.lView=t,e}function cP(t){t.lView[Lt]!==t&&(t.lView=null,dT.push(t))}var uP=be(F({},Fo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{tl(t.lView)},consumerOnSignalRead(){this.lView[Lt]=this}});function lP(t){let e=t[Lt]??Object.create(dP);return e.lView=t,e}var dP=be(F({},Fo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=ii(t.lView);for(;e&&!hT(e[ee]);)e=ii(e);e&&ZE(e)},consumerOnSignalRead(){this.lView[Lt]=this}});function hT(t){return t.type!==2}var hP=100;function fT(t,e=!0,n=0){let r=t[an],i=r.rendererFactory,s=!1;s||i.begin?.();try{fP(t,n)}catch(o){throw e&&uT(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function fP(t,e){let n=rD();try{Fw(!0),Wf(t,e);let r=0;for(;el(t);){if(r===hP)throw new U(103,!1);r++,Wf(t,1)}}finally{Fw(n)}}function pP(t,e,n,r){let i=e[K];if((i&256)===256)return;let s=!1,o=!1;!s&&e[an].inlineEffectRunner?.flush(),Ap(e);let a=!0,u=null,l=null;s||(hT(t)?(l=oP(e),u=Lc(l)):BI()===null?(a=!1,l=lP(e),u=Lc(l)):e[Lt]&&($h(e[Lt]),e[Lt]=null));try{YE(e),hM(t.bindingStartIndex),n!==null&&ZD(t,e,n,2,r);let h=(i&3)===3;if(!s)if(h){let v=t.preOrderCheckHooks;v!==null&&vu(e,v,null)}else{let v=t.preOrderHooks;v!==null&&_u(e,v,0,null),lf(e,0)}if(o||gP(e),pT(e,0),t.contentQueries!==null&&oT(t,e),!s)if(h){let v=t.contentCheckHooks;v!==null&&vu(e,v)}else{let v=t.contentHooks;v!==null&&_u(e,v,1),lf(e,1)}Rx(t,e);let p=t.components;p!==null&&mT(e,p,0);let m=t.viewQuery;if(m!==null&&Gf(2,m,r),!s)if(h){let v=t.viewCheckHooks;v!==null&&vu(e,v)}else{let v=t.viewHooks;v!==null&&_u(e,v,2),lf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[uf]){for(let v of e[uf])v();e[uf]=null}s||(e[K]&=-73)}catch(h){throw s||tl(e),h}finally{l!==null&&(jh(l,u),a&&cP(l)),Rp()}}function pT(t,e){for(let n=RD(t);n!==null;n=ND(n))for(let r=Ct;r<n.length;r++){let i=n[r];gT(i,e)}}function gP(t){for(let e=RD(t);e!==null;e=ND(e)){if(!(e[K]&Nu.HasTransplantedViews))continue;let n=e[gs];for(let r=0;r<n.length;r++){let i=n[r];ZE(i)}}}function mP(t,e,n){let r=wr(e,t);gT(r,n)}function gT(t,e){Cp(t)&&Wf(t,e)}function Wf(t,e){let r=t[ee],i=t[K],s=t[Lt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Bh(s)),o||=!1,s&&(s.dirty=!1),t[K]&=-9217,o)pP(r,t,r.template,t[Gt]);else if(i&8192){pT(t,1);let a=r.components;a!==null&&mT(t,a,1)}}function mT(t,e,n){for(let r=0;r<e.length;r++)mP(t,e[r],n)}function Jp(t,e){let n=rD()?64:1088;for(t[an].changeDetectionScheduler?.notify(e);t;){t[K]|=n;let r=ii(t);if(Af(t)&&!r)return t;t=r}return null}var ui=class{get rootNodes(){let e=this._lView,n=e[ee];return ju(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Gt]}set context(e){this._lView[Gt]=e}get destroyed(){return(this._lView[K]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[at];if(Fn(e)){let n=e[Ru],r=n?n.indexOf(this):-1;r>-1&&(Hf(e,r),bu(n,r))}this._attachedToViewContainer=!1}BD(this._lView[ee],this._lView)}onDestroy(e){JE(this._lView,e)}markForCheck(){Jp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[K]&=-129}reattach(){Nf(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,fT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Af(this._lView),n=this._lView[ni];n!==null&&!e&&zp(n,this._lView),UD(this._lView[ee],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e;let n=Af(this._lView),r=this._lView[ni];r!==null&&!n&&jD(r,this._lView),Nf(this._lView)}},li=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=_P;let t=e;return t})(),yP=li,vP=class extends yP{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=rP(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ui(i)}};function _P(){return Xp(ut(),de())}function Xp(t,e){return t.type&4?new vP(e,t,Ts(t,e)):null}var H9=new RegExp(`^(\\d+)*(${XM}|${JM})*(.*)`);var IP=()=>null;function Jw(t,e){return IP(t,e)}var ms=class{},eg=new j("",{providedIn:"root",factory:()=>!1});var yT=new j(""),vT=new j(""),Kf=class{},Bu=class{};function wP(t){let e=Error(`No component factory found for ${mt(t)}.`);return e[EP]=t,e}var EP="ngComponent";var Qf=class{resolveComponentFactory(e){throw wP(e)}},lg=class lg{};lg.NULL=new Qf;var ys=lg,vs=class{},pi=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>DP();let t=e;return t})();function DP(){let t=de(),e=ut(),n=wr(e.index,t);return(gr(n)?n:t)[Ve]}var TP=(()=>{let e=class e{};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function Yf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=bw(i,a);else if(s==2){let u=a,l=e[++o];r=bw(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var $u=class extends ys{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=yr(e);return new _s(n,this.ngModule)}};function Xw(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:mr.None;e?n.push({propName:o,templateName:r,isSignal:(a&mr.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function bP(t){let e=t.toLowerCase();return e==="svg"?YN:e==="math"?ZN:null}var _s=class extends Bu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Xw(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Xw(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=RN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=fe(null);try{i=i||this.ngModule;let o=i instanceof St?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new xf(e,o):e,u=a.get(vs,null);if(u===null)throw new U(407,!1);let l=a.get(TP,null),h=a.get(ms,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",S=r?xx(m,r,this.componentDef.encapsulation,a):VD(m,v,bP(v)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let R=null;S!==null&&(R=$p(S,a,!0));let k=Kp(0,null,null,1,0,null,null,null,null,null,null),$=ol(null,k,null,M,null,null,p,m,a,null,R);Ap($);let q,se,Me=null;try{let Z=this.componentDef,D,y=null;Z.findHostDirectiveDefs?(D=[],y=new Map,Z.findHostDirectiveDefs(Z,D,y),D.push(Z)):D=[Z];let _=CP($,S);Me=SP(_,S,Z,D,$,p,m),se=QE(k,un),S&&NP(m,Z,S,r),n!==void 0&&MP(se,this.ngContentSelectors,n),q=RP(Me,Z,D,y,$,[xP]),Zp(k,$,null)}catch(Z){throw Me!==null&&Bf(Me),Bf($),Z}finally{Rp()}return new Zf(this.componentType,q,Ts(se,$),$,se)}finally{fe(s)}}},Zf=class extends Kf{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ui(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Yp(s[ee],s,i,e,n),this.previousInputValues.set(e,n);let o=wr(this._tNode.index,s);Jp(o,1)}}get injector(){return new ei(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function CP(t,e){let n=t[ee],r=un;return t[r]=e,al(n,r,2,"#host",null)}function SP(t,e,n,r,i,s,o){let a=i[ee];AP(r,t,e,o);let u=null;e!==null&&(u=$p(e,i[ps]));let l=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=ol(i,tT(n),null,h,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&zf(a,t,r.length-1),cl(i,p),i[t.index]=p}function AP(t,e,n,r){for(let i of t)e.mergedAttrs=zo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Yf(e,e.mergedAttrs,!0),n!==null&&GD(r,n,e))}function RP(t,e,n,r,i,s){let o=ut(),a=i[ee],u=Ft(o,i);rT(a,i,o,n,null,r);for(let h=0;h<n.length;h++){let p=o.directiveStart+h,m=ai(i,a,p,o);ci(m,i)}iT(a,i,o),u&&ci(u,i);let l=ai(i,a,o.directiveStart+o.componentOffset,o);if(t[Gt]=i[Gt]=l,s!==null)for(let h of s)h(l,e);return JD(a,o,i),l}function NP(t,e,n,r){if(r)Tf(t,n,["ng-version","18.2.3"]);else{let{attrs:i,classes:s}=NN(e.selectors[0]);i&&Tf(t,n,i),s&&s.length>0&&zD(t,n,s.join(" "))}}function MP(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function xP(){let t=ut();xp(de()[ee],t)}var Er=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=PP;let t=e;return t})();function PP(){let t=ut();return IT(t,de())}var OP=Er,_T=class extends OP{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ts(this._hostTNode,this._hostLView)}get injector(){return new ei(this._hostTNode,this._hostLView)}get parentInjector(){let e=Pp(this._hostTNode,this._hostLView);if(pD(e)){let n=Pu(e,this._hostLView),r=xu(e),i=n[ee].data[r+8];return new ei(i,n)}else return new ei(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=eE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ct}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Jw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Zw(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!GN(e),a;if(o)a=n;else{let S=n||{};a=S.index,r=S.injector,i=S.projectableNodes,s=S.environmentInjector||S.ngModuleRef}let u=o?e:new _s(yr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let M=(o?l:this.parentInjector).get(St,null);M&&(s=M)}let h=yr(u.componentType??{}),p=Jw(this._lContainer,h?.id??null),m=p?.firstChild??null,v=u.create(l,i,m,s);return this.insertImpl(v.hostView,a,Zw(this._hostTNode,p)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(eM(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[at],l=new _T(u,u[Wt],u[at]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return iP(o,i,s,r),e.attachToViewContainerRef(),EE(gf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=eE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Hf(this._lContainer,n);r&&(bu(gf(this._lContainer),n),BD(r[ee],r))}detach(e){let n=this._adjustIndex(e,-1),r=Hf(this._lContainer,n);return r&&bu(gf(this._lContainer),n)!=null?new ui(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function eE(t){return t[Ru]}function gf(t){return t[Ru]||(t[Ru]=[])}function IT(t,e){let n,r=e[t.index];return Fn(r)?n=r:(n=sT(r,e,null,t),e[t.index]=n,cl(e,n)),LP(n,e,t,r),new _T(n,t,e)}function kP(t,e){let n=t[Ve],r=n.createComment(""),i=Ft(e,t),s=HD(n,i);return Uu(n,s,r,Ix(n,i),!1),r}var LP=UP,FP=()=>!1;function VP(t,e,n){return FP(t,e,n)}function UP(t,e,n,r){if(t[ri])return;let i;n.type&8?i=ln(r):i=kP(e,n),t[ri]=i}var Jf=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Xf=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)tg(e,n).matches!==null&&this.queries[n].setDirty()}},Hu=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=WP(e):this.predicate=e}},ep=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},tp=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,jP(n,s)),this.matchTNodeWithReadOption(e,n,Iu(n,e,s,!1,!1))}else r===li?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Iu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Kt||i===Er||i===li&&n.type&4)this.addMatch(n.index,-2);else{let s=Iu(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function jP(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function BP(t,e){return t.type&11?Ts(t,e):t.type&4?Xp(t,e):null}function $P(t,e,n,r){return n===-1?BP(e,t):n===-2?HP(t,e,r):ai(t,t[ee],n,e)}function HP(t,e,n){if(n===Kt)return Ts(e,t);if(n===li)return Xp(e,t);if(n===Er)return IT(e,t)}function wT(t,e,n,r){let i=e[Pn].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let u=0;o!==null&&u<o.length;u+=2){let l=o[u];if(l<0)a.push(null);else{let h=s[l];a.push($P(e,h,o[u+1],n.metadata.read))}}i.matches=a}return i.matches}function np(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=wT(t,e,i,n);for(let a=0;a<s.length;a+=2){let u=s[a];if(u>0)r.push(o[a/2]);else{let l=s[a+1],h=e[-u];for(let p=Ct;p<h.length;p++){let m=h[p];m[ni]===m[at]&&np(m[ee],m,l,r)}if(h[gs]!==null){let p=h[gs];for(let m=0;m<p.length;m++){let v=p[m];np(v[ee],v,l,r)}}}}}return r}function qP(t,e){return t[Pn].queries[e].queryList}function ET(t,e,n){let r=new jf((n&4)===4);return kx(t,e,r,r.destroy),(e[Pn]??=new Xf).queries.push(new Jf(r))-1}function zP(t,e,n){let r=Ge();return r.firstCreatePass&&(DT(r,new Hu(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),ET(r,de(),e)}function GP(t,e,n,r){let i=Ge();if(i.firstCreatePass){let s=ut();DT(i,new Hu(e,n,r),s.index),KP(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return ET(i,de(),n)}function WP(t){return t.split(",").map(e=>e.trim())}function DT(t,e,n){t.queries===null&&(t.queries=new ep),t.queries.track(new tp(e,n))}function KP(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function tg(t,e){return t.queries.getByIndex(e)}function QP(t,e){let n=t[ee],r=tg(n,e);return r.crossesNgTemplate?np(n,t,e,[]):wT(n,t,r,e)}var tE=new Set;function bs(t){tE.has(t)||(tE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function YP(t){return typeof t=="function"&&t[Nn]!==void 0}function z9(t,e){bs("NgSignals");let n=JI(t),r=n[Nn];return e?.equal&&(r.equal=e.equal),n.set=i=>Hh(r,i),n.update=i=>XI(r,i),n.asReadonly=ZP.bind(n),n}function ZP(){let t=this[Nn];if(t.readonlyFn===void 0){let e=()=>this();e[Nn]=t,t.readonlyFn=e}return t.readonlyFn}function TT(t){return YP(t)&&typeof t.set=="function"}function JP(t){return Object.getPrototypeOf(t.prototype).constructor}function XP(t){let e=JP(t.type),n=!0,r=[t];for(;e;){let i;if(vr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=pu(t.inputs),o.inputTransforms=pu(t.inputTransforms),o.declaredInputs=pu(t.declaredInputs),o.outputs=pu(t.outputs);let a=i.hostBindings;a&&iO(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&nO(t,u),l&&rO(t,l),eO(t,i),QR(t.outputs,i.outputs),vr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===XP&&(n=!1)}}e=Object.getPrototypeOf(e)}tO(r)}function eO(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function tO(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=zo(i.hostAttrs,n=zo(n,i.hostAttrs))}}function pu(t){return t===ds?{}:t===kt?[]:t}function nO(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function rO(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function iO(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function ng(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var _r=class{},Ko=class{};var rp=class extends _r{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new $u(this);let s=PE(e);this._bootstrapComponents=FD(s.bootstrap),this._r3Injector=DD(e,n,[{provide:_r,useValue:this},{provide:ys,useValue:this.componentFactoryResolver},...r],mt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ip=class extends Ko{constructor(e){super(),this.moduleType=e}create(e){return new rp(this.moduleType,e,[])}};var qu=class extends _r{constructor(e){super(),this.componentFactoryResolver=new $u(this),this.instance=null;let n=new Go([...e.providers,{provide:_r,useValue:this},{provide:ys,useValue:this.componentFactoryResolver}],e.parent||Tp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ul(t,e,n=null){return new qu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function bT(t){return rg(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function sO(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function rg(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function oO(t,e,n){return t[e]=n}function di(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function CT(t,e,n,r){let i=di(t,e,n);return di(t,e+1,r)||i}function aO(t){return(t.flags&32)===32}function cO(t,e,n,r,i,s,o,a,u){let l=e.consts,h=al(e,t,4,o||null,a||null);nT(e,n,h,Mu(l,u)),xp(e,h);let p=h.tView=Kp(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function uO(t,e,n,r,i,s,o,a,u,l){let h=n+un,p=e.firstCreatePass?cO(h,e,t,r,i,s,o,a,u):e.data[h];ea(p,!1);let m=dO(e,t,p,n);Np()&&Gp(e,t,m,p),ci(m,t);let v=sT(m,t,m,p);return t[h]=v,cl(t,v),VP(v,p,t),bp(p)&&XD(e,t,p),u!=null&&eT(t,p,l),p}function lO(t,e,n,r,i,s,o,a){let u=de(),l=Ge(),h=Mu(l.consts,s);return uO(u,l,t,e,n,r,i,h,o,a),lO}var dO=hO;function hO(t,e,n,r){return Mp(!0),e[Ve].createComment("")}var as=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(as||{}),ST=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),Jr=class Jr{constructor(){this.ngZone=O(ve),this.scheduler=O(ms),this.errorHandler=O(On,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of Jr.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};Jr.PHASES=[as.EarlyRead,as.Write,as.MixedReadWrite,as.Read],Jr.\u0275prov=B({token:Jr,providedIn:"root",factory:()=>new Jr});var sp=Jr,op=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function ig(t,e){!e?.injector&&zN(ig);let n=e?.injector??O(ct);return cx(n)?(bs("NgAfterNextRender"),pO(t,n,e,!0)):gO}function fO(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function pO(t,e,n,r){let i=e.get(ST);i.impl??=e.get(sp);let s=n?.phase??as.MixedReadWrite,o=new op(i.impl,fO(t,s),r,e.get(Lp));return i.impl.register(o),o}var gO={destroy(){}};function sg(t,e,n,r){let i=de(),s=nl();if(di(i,s,e)){let o=Ge(),a=rl();Yx(a,i,t,e,n,r)}return sg}function AT(t,e,n,r){return di(t,nl(),n)?e+ls(n)+r:gn}function mO(t,e,n,r,i,s){let o=dM(),a=CT(t,o,n,i);return sD(2),a?e+ls(n)+r+ls(i)+s:gn}function gu(t,e){return t<<17|e<<2}function hi(t){return t>>17&32767}function yO(t){return(t&2)==2}function vO(t,e){return t&131071|e<<17}function ap(t){return t|2}function Is(t){return(t&131068)>>2}function mf(t,e){return t&-131069|e<<2}function _O(t){return(t&1)===1}function cp(t){return t|1}function IO(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=hi(o),u=Is(o);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Jo(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=hi(t[a+1]);t[r+1]=gu(m,a),m!==0&&(t[m+1]=mf(t[m+1],r)),t[a+1]=vO(t[a+1],r)}else t[r+1]=gu(a,0),a!==0&&(t[a+1]=mf(t[a+1],r)),a=r;else t[r+1]=gu(u,0),a===0?a=r:t[u+1]=mf(t[u+1],r),u=r;l&&(t[r+1]=ap(t[r+1])),nE(t,h,r,!0),nE(t,h,r,!1),wO(e,h,t,r,s),o=gu(a,u),s?e.classBindings=o:e.styleBindings=o}function wO(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Jo(s,e)>=0&&(n[r+1]=cp(n[r+1]))}function nE(t,e,n,r){let i=t[n+1],s=e===null,o=r?hi(i):Is(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];EO(u,e)&&(a=!0,t[o+1]=r?cp(l):ap(l)),o=r?hi(l):Is(l)}a&&(t[n+1]=r?ap(i):cp(i))}function EO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Jo(t,e)>=0:!1}function DO(t,e,n){let r=de(),i=nl();if(di(r,i,e)){let s=Ge(),o=rl();Qp(s,o,r,t,e,r[Ve],n,!1)}return DO}function rE(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Yp(t,n,s[o],o,r)}function TO(t,e){return bO(t,e,null,!0),TO}function bO(t,e,n,r){let i=de(),s=Ge(),o=sD(2);if(s.firstUpdatePass&&SO(s,t,o,r),e!==gn&&di(i,o,e)){let a=s.data[fi()];xO(s,a,i,i[Ve],t,i[o+1]=PO(e,n),r,o)}}function CO(t,e){return e>=t.expandoStartIndex}function SO(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[fi()],o=CO(t,n);OO(s,r)&&e===null&&!o&&(e=!1),e=AO(i,s,e,r),IO(i,s,e,n,o,r)}}function AO(t,e,n,r){let i=mM(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=yf(null,t,e,n,r),n=Qo(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=yf(i,t,e,n,r),s===null){let u=RO(t,e,r);u!==void 0&&Array.isArray(u)&&(u=yf(null,t,e,u[1],r),u=Qo(u,e.attrs,r),NO(t,e,r,u))}else s=MO(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function RO(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Is(r)!==0)return t[hi(r)]}function NO(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[hi(i)]=r}function MO(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Qo(r,o,n)}return Qo(r,e.attrs,n)}function yf(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Qo(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Qo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),yN(t,o,n?!0:e[++s]))}return t===void 0?null:t}function xO(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=_O(l)?iE(u,e,n,i,Is(l),o):void 0;if(!zu(h)){zu(s)||yO(l)&&(s=iE(u,null,n,i,a,o));let p=KE(fi(),n);Sx(r,o,p,i,s)}}function iE(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===gn&&(m=p?kt:void 0);let v=p?af(m,r):h===r?m:void 0;if(l&&!zu(v)&&(v=af(u,r)),zu(v)&&(a=v,o))return a;let S=t[i+1];i=o?hi(S):Is(S)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=af(u,r))}return a}function zu(t){return t!==void 0}function PO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=mt(ta(t)))),t}function OO(t,e){return(t.flags&(e?8:16))!==0}function kO(t,e,n,r,i,s){let o=e.consts,a=Mu(o,i),u=al(e,t,2,r,a);return nT(e,n,u,Mu(o,s)),u.attrs!==null&&Yf(u,u.attrs,!1),u.mergedAttrs!==null&&Yf(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function RT(t,e,n,r){let i=de(),s=Ge(),o=un+t,a=i[Ve],u=s.firstCreatePass?kO(o,s,i,e,n,r):s.data[o],l=LO(s,i,u,a,e,t);i[o]=l;let h=bp(u);return ea(u,!0),GD(a,l,u),!aO(u)&&Np()&&Gp(s,i,l,u),rM()===0&&ci(l,i),iM(),h&&(XD(s,i,u),JD(s,u,i)),r!==null&&eT(i,u),RT}function NT(){let t=ut();nD()?lM():(t=t.parent,ea(t,!1));let e=t;aM(e)&&cM(),sM();let n=Ge();return n.firstCreatePass&&(xp(n,t),HE(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&DM(e)&&rE(n,e,de(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&TM(e)&&rE(n,e,de(),e.stylesWithoutHost,!1),NT}function og(t,e,n,r){return RT(t,e,n,r),NT(),og}var LO=(t,e,n,r,i,s)=>(Mp(!0),VD(r,i,_M()));function G9(){return de()}var Yr=void 0;function FO(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var VO=["en",[["a","p"],["AM","PM"],Yr],[["AM","PM"],Yr,Yr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yr,"{1} 'at' {0}",Yr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",FO],vf={};function Vt(t){let e=UO(t),n=sE(e);if(n)return n;let r=e.split("-")[0];if(n=sE(r),n)return n;if(r==="en")return VO;throw new U(701,!1)}function sE(t){return t in vf||(vf[t]=Xr.ng&&Xr.ng.common&&Xr.ng.common.locales&&Xr.ng.common.locales[t]),vf[t]}var ke=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(ke||{});function UO(t){return t.toLowerCase().replace(/_/g,"-")}var Gu="en-US";var jO=Gu;function BO(t){typeof t=="string"&&(jO=t.toLowerCase().replace(/_/g,"-"))}var $O=(t,e,n)=>{};function ag(t,e,n,r){let i=de(),s=Ge(),o=ut();return MT(s,i,i[Ve],o,t,e,r),ag}function HO(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Au],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function MT(t,e,n,r,i,s,o){let a=bp(r),l=t.firstCreatePass&&cT(t),h=e[Gt],p=aT(e),m=!0;if(r.type&3||o){let M=Ft(r,e),R=o?o(M):M,k=p.length,$=o?se=>o(ln(se[r.index])):r.index,q=null;if(!o&&a&&(q=HO(t,e,i,r.index)),q!==null){let se=q.__ngLastListenerFn__||q;se.__ngNextListenerFn__=s,q.__ngLastListenerFn__=s,m=!1}else{s=aE(r,e,h,s),$O(M,i,s);let se=n.listen(R,i,s);p.push(s,se),l&&l.push(i,$,k,k+1)}}else s=aE(r,e,h,s);let v=r.outputs,S;if(m&&v!==null&&(S=v[i])){let M=S.length;if(M)for(let R=0;R<M;R+=2){let k=S[R],$=S[R+1],Me=e[k][$].subscribe(s),Z=p.length;p.push(s,Me),l&&l.push(i,r.index,Z,-(Z+1))}}}function oE(t,e,n,r){let i=fe(null);try{return rn(6,e,n),n(r)!==!1}catch(s){return uT(t,s),!1}finally{rn(7,e,n),fe(i)}}function aE(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?wr(t.index,e):e;Jp(o,5);let a=oE(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=oE(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function W9(t=1){return vM(t)}function qO(t,e,n){return xT(t,"",e,"",n),qO}function xT(t,e,n,r,i){let s=de(),o=AT(s,e,n,r);if(o!==gn){let a=Ge(),u=rl();Qp(a,u,s,t,o,s[Ve],i,!1)}return xT}function PT(t,e,n,r){GP(t,e,n,r)}function K9(t,e,n){zP(t,e,n)}function OT(t){let e=de(),n=Ge(),r=oD();Sp(r+1);let i=tg(n,r);if(t.dirty&&XN(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=QP(e,r);t.reset(s,zM),t.notifyOnChanges()}return!0}return!1}function kT(){return qP(de(),oD())}function zO(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Q9(t,e=""){let n=de(),r=Ge(),i=t+un,s=r.firstCreatePass?al(r,i,1,e,null):r.data[i],o=GO(r,n,s,e,t);n[i]=o,Np()&&Gp(r,n,o,s),ea(s,!1)}var GO=(t,e,n,r,i)=>(Mp(!0),lx(e[Ve],r));function WO(t){return LT("",t,""),WO}function LT(t,e,n){let r=de(),i=AT(r,t,e,n);return i!==gn&&lT(r,fi(),i),LT}function KO(t,e,n,r,i){let s=de(),o=mO(s,t,e,n,r,i);return o!==gn&&lT(s,fi(),o),KO}function QO(t,e,n){TT(e)&&(e=e());let r=de(),i=nl();if(di(r,i,e)){let s=Ge(),o=rl();Qp(s,o,r,t,e,r[Ve],n,!1)}return QO}function Y9(t,e){let n=TT(t);return n&&t.set(e),n}function YO(t,e){let n=de(),r=Ge(),i=ut();return MT(r,n,n[Ve],i,t,e),YO}function ZO(t,e,n){let r=Ge();if(r.firstCreatePass){let i=vr(t);up(n,r.data,r.blueprint,i,!0),up(e,r.data,r.blueprint,i,!1)}}function up(t,e,n,r,i){if(t=gt(t),Array.isArray(t))for(let s=0;s<t.length;s++)up(t[s],e,n,r,i);else{let s=Ge(),o=de(),a=ut(),u=fs(t)?t:gt(t.provide),l=UE(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(fs(t)||!t.multi){let v=new oi(l,i,Ie),S=If(u,e,i?h:h+m,p);S===-1?(Of(ku(a,o),s,u),_f(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),o.push(v)):(n[S]=v,o[S]=v)}else{let v=If(u,e,h+m,p),S=If(u,e,h,h+m),M=v>=0&&n[v],R=S>=0&&n[S];if(i&&!R||!i&&!M){Of(ku(a,o),s,u);let k=ek(i?XO:JO,n.length,i,r,l);!i&&R&&(n[S].providerFactory=k),_f(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(k),o.push(k)}else{let k=FT(n[i?S:v],l,!i&&r);_f(s,t,v>-1?v:S,k)}!i&&r&&R&&n[S].componentProviders++}}}function _f(t,e,n,r){let i=fs(e),s=VN(e);if(i||s){let u=(s?gt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function FT(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function If(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function JO(t,e,n,r){return lp(this.multi,[])}function XO(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=ai(n,n[ee],this.providerFactory.index,r);s=a.slice(0,o),lp(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],lp(i,s);return s}function lp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function ek(t,e,n,r,i){let s=new oi(t,n,Ie);return s.multi=[],s.index=e,s.componentProviders=0,FT(s,i,r&&!n),s}function Z9(t,e=[]){return n=>{n.providersResolver=(r,i)=>ZO(r,i?i(t):t,e)}}var tk=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=LE(!1,r.type),s=i.length>0?ul([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=B({token:e,providedIn:"environment",factory:()=>new e(Q(St))});let t=e;return t})();function VT(t){bs("NgStandalone"),t.getStandaloneInjector=e=>e.get(tk).getOrCreateStandaloneInjector(t)}function J9(t,e,n,r,i){return UT(de(),iD(),t,e,n,r,i)}function nk(t,e){let n=t[e];return n===gn?void 0:n}function UT(t,e,n,r,i,s,o){let a=e+n;return CT(t,a,i,s)?oO(t,a+2,o?r.call(o,i,s):r(i,s)):nk(t,a+2)}function X9(t,e){let n=Ge(),r,i=t+un;n.firstCreatePass?(r=rk(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=ti(r.type,!0)),o,a=wt(Ie);try{let u=Ou(!1),l=s();return Ou(u),zO(n,de(),i,l),l}finally{wt(a)}}function rk(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function eW(t,e,n,r){let i=t+un,s=de(),o=JN(s,i);return ik(s,i)?UT(s,iD(),e,o.transform,n,r,o):o.transform(n,r)}function ik(t,e){return t[ee].data[e].pure}var Ir=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},jT=new Ir("18.2.3");var ll=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var BT=new j("");function na(t){return!!t&&typeof t.then=="function"}function $T(t){return!!t&&typeof t.subscribe=="function"}var dl=new j(""),HT=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=O(dl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(na(o))r.push(o);else if($T(o)){let a=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hl=new j("");function sk(){ZI(()=>{throw new U(600,!1)})}function ok(t){return t.isBoundToModule}var ak=10;function ck(t,e,n){try{let r=n();return na(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var gi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(HM),this.afterRenderManager=O(ST),this.zonelessEnabled=O(eg),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ot,this.afterTick=new ot,this.componentTypes=[],this.components=[],this.isStable=O(Ds).hasPendingTasks.pipe(ie(r=>!r)),this._injector=O(St)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Bu;if(!this._injector.get(HT).done){let v=!s&&xE(r),S=!1;throw new U(405,S)}let a;s?a=r:a=this._injector.get(ys).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=ok(a)?void 0:this._injector.get(_r),l=i||a.selector,h=a.create(ct.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(BT,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),wu(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new U(101,!1);let r=fe(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,fe(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(vs,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<ak;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:o}of this._views)uk(s,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>el(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;wu(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(hl,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>wu(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new U(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function uk(t,e,n,r){if(!n&&!el(t))return;fT(t,e,n&&!r?0:1)}var dp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},fl=(()=>{let e=class e{compileModuleSync(r){return new ip(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=PE(r),o=FD(s.declarations).reduce((a,u)=>{let l=yr(u);return l&&a.push(new _s(l)),a},[]);return new dp(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var lk=(()=>{let e=class e{constructor(){this.zone=O(ve),this.changeDetectionScheduler=O(ms),this.applicationRef=O(gi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dk=new j("",{factory:()=>!1});function qT({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ve(be(F({},zT()),{scheduleInRootZone:n})),[{provide:ve,useFactory:t},{provide:hs,multi:!0,useFactory:()=>{let r=O(lk,{optional:!0});return()=>r.initialize()}},{provide:hs,multi:!0,useFactory:()=>{let r=O(hk);return()=>{r.initialize()}}},e===!0?{provide:yT,useValue:!0}:[],{provide:vT,useValue:n??TD}]}function tW(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=qT({ngZoneFactory:()=>{let i=zT(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&bs("NgZone_CoalesceEvent"),new ve(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return hn([{provide:dk,useValue:!0},{provide:eg,useValue:!1},r])}function zT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var hk=(()=>{let e=class e{constructor(){this.subscription=new Pe,this.initialized=!1,this.zone=O(ve),this.pendingTasks=O(Ds)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ve.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ve.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fk=(()=>{let e=class e{constructor(){this.appRef=O(gi),this.taskService=O(Ds),this.ngZone=O(ve),this.zonelessEnabled=O(eg),this.disableScheduling=O(yT,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Pe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Fu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(vT,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Uf||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?$w:bD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Fu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,$w(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pk(){return typeof $localize<"u"&&$localize.locale||Gu}var pl=new j("",{providedIn:"root",factory:()=>O(pl,ne.Optional|ne.SkipSelf)||pk()});var GT=new j("");function mu(t){return!!t.platformInjector}function gk(t){let e=mu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ve);return n.run(()=>{mu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(On,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),mu(t)){let s=()=>e.destroy(),o=t.platformInjector.get(GT);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{wu(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return ck(r,n,()=>{let s=e.get(HT);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(pl,Gu);if(BO(o||Gu),mu(t)){let a=e.get(gi);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return mk(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function mk(t,e){let n=t.injector.get(gi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new U(-403,!1);e.push(t)}var Eu=null;function yk(t=[],e){return ct.create({name:e,providers:[{provide:Zu,useValue:"platform"},{provide:GT,useValue:new Set([()=>Eu=null])},...t]})}function vk(t=[]){if(Eu)return Eu;let e=yk(t);return Eu=e,sk(),_k(e),e}function _k(t){t.get(jp,null)?.forEach(n=>n())}var Cs=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Ik;let t=e;return t})();function Ik(t){return wk(ut(),de(),(t&16)===16)}function wk(t,e,n){if(Xu(t)&&!n){let r=wr(t.index,e);return new ui(r,r)}else if(t.type&175){let r=e[cn];return new ui(r,e)}return null}var hp=class{constructor(){}supports(e){return bT(e)}create(e){return new fp(e)}},Ek=(t,e)=>e,fp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Ek}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<cE(r,i,s)?n:r,a=cE(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let v=m<s.length?s[m]:s[m]=0,S=v+m;h<=S&&S<l&&(s[m]=v+1)}let p=o.previousIndex;s[p]=h-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!bT(e))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,sO(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new pp(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Wu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Wu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},pp=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},gp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Wu=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new gp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function cE(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var mp=class{constructor(){}supports(e){return e instanceof Map||rg(e)}create(){return new yp}},yp=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||rg(e)))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new vp(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},vp=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function uE(){return new cg([new hp])}var cg=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||uE()),deps:[[e,new Yu,new et]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new U(901,!1)}};e.\u0275prov=B({token:e,providedIn:"root",factory:uE});let t=e;return t})();function lE(){return new ug([new mp])}var ug=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||lE()),deps:[[e,new Yu,new et]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i)return i;throw new U(901,!1)}};e.\u0275prov=B({token:e,providedIn:"root",factory:lE});let t=e;return t})();function WT(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=vk(r),s=[qT({}),{provide:ms,useExisting:fk},...n||[]],o=new qu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return gk({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var KT=new j("");function ra(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function nW(t,e){bs("NgSignals");let n=KI(t);return e?.equal&&(n[Nn].equal=e.equal),n}function Dk(t){let e=fe(null);try{return t()}finally{fe(e)}}function QT(t){let e=yr(t);if(!e)return null;let n=new _s(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var nb=null;function Ss(){return nb}function rb(t){nb??=t}var Tl=class{};var vt=new j(""),_g=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>O(Tk),providedIn:"platform"});let t=e;return t})(),ib=new j(""),Tk=(()=>{let e=class e extends _g{constructor(){super(),this._doc=O(vt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ss().getBaseHref(this._doc)}onPopState(r){let i=Ss().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Ss().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Ig(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function YT(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Un(t){return t&&t[0]!=="?"?"?"+t:t}var Bn=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>O(wg),providedIn:"root"});let t=e;return t})(),sb=new j(""),wg=(()=>{let e=class e extends Bn{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??O(vt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Ig(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Un(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Un(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Un(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(Q(_g),Q(sb,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ob=(()=>{let e=class e extends Bn{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Ig(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Un(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Un(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(Q(_g),Q(sb,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),As=(()=>{let e=class e{constructor(r){this._subject=new Xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=Sk(YT(ZT(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Un(i))}normalize(r){return e.stripTrailingSlash(Ck(this._basePath,ZT(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Un(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Un(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Un,e.joinWithSlash=Ig,e.stripTrailingSlash=YT,e.\u0275fac=function(i){return new(i||e)(Q(Bn))},e.\u0275prov=B({token:e,factory:()=>bk(),providedIn:"root"});let t=e;return t})();function bk(){return new As(Q(Bn))}function Ck(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function ZT(t){return t.replace(/\/index.html$/,"")}function Sk(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var yt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(yt||{}),De=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(De||{}),At=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(At||{}),Dr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Ak(t){return Vt(t)[ke.LocaleId]}function Rk(t,e,n){let r=Vt(t),i=[r[ke.DayPeriodsFormat],r[ke.DayPeriodsStandalone]],s=Ut(i,e);return Ut(s,n)}function Nk(t,e,n){let r=Vt(t),i=[r[ke.DaysFormat],r[ke.DaysStandalone]],s=Ut(i,e);return Ut(s,n)}function Mk(t,e,n){let r=Vt(t),i=[r[ke.MonthsFormat],r[ke.MonthsStandalone]],s=Ut(i,e);return Ut(s,n)}function xk(t,e){let r=Vt(t)[ke.Eras];return Ut(r,e)}function ml(t,e){let n=Vt(t);return Ut(n[ke.DateFormat],e)}function yl(t,e){let n=Vt(t);return Ut(n[ke.TimeFormat],e)}function vl(t,e){let r=Vt(t)[ke.DateTimeFormat];return Ut(r,e)}function Sl(t,e){let n=Vt(t),r=n[ke.NumberSymbols][e];if(typeof r>"u"){if(e===Dr.CurrencyDecimal)return n[ke.NumberSymbols][Dr.Decimal];if(e===Dr.CurrencyGroup)return n[ke.NumberSymbols][Dr.Group]}return r}function ab(t){if(!t[ke.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[ke.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Pk(t){let e=Vt(t);return ab(e),(e[ke.ExtraData][2]||[]).map(r=>typeof r=="string"?dg(r):[dg(r[0]),dg(r[1])])}function Ok(t,e,n){let r=Vt(t);ab(r);let i=[r[ke.ExtraData][0],r[ke.ExtraData][1]],s=Ut(i,e)||[];return Ut(s,n)||[]}function Ut(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function dg(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var kk=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,_l={},Lk=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,jn=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(jn||{}),ye=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(ye||{}),me=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(me||{});function Fk(t,e,n,r){let i=Gk(t);e=Vn(n,e)||e;let o=[],a;for(;e;)if(a=Lk.exec(e),a){o=o.concat(a.slice(1));let h=o.pop();if(!h)break;e=h}else{o.push(e);break}let u=i.getTimezoneOffset();r&&(u=ub(r,u),i=zk(i,r,!0));let l="";return o.forEach(h=>{let p=Hk(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function bl(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Vn(t,e){let n=Ak(t);if(_l[n]??={},_l[n][e])return _l[n][e];let r="";switch(e){case"shortDate":r=ml(t,At.Short);break;case"mediumDate":r=ml(t,At.Medium);break;case"longDate":r=ml(t,At.Long);break;case"fullDate":r=ml(t,At.Full);break;case"shortTime":r=yl(t,At.Short);break;case"mediumTime":r=yl(t,At.Medium);break;case"longTime":r=yl(t,At.Long);break;case"fullTime":r=yl(t,At.Full);break;case"short":let i=Vn(t,"shortTime"),s=Vn(t,"shortDate");r=Il(vl(t,At.Short),[i,s]);break;case"medium":let o=Vn(t,"mediumTime"),a=Vn(t,"mediumDate");r=Il(vl(t,At.Medium),[o,a]);break;case"long":let u=Vn(t,"longTime"),l=Vn(t,"longDate");r=Il(vl(t,At.Long),[u,l]);break;case"full":let h=Vn(t,"fullTime"),p=Vn(t,"fullDate");r=Il(vl(t,At.Full),[h,p]);break}return r&&(_l[n][e]=r),r}function Il(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Qt(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function Vk(t,e){return Qt(t,3).substring(0,e)}function Ue(t,e,n=0,r=!1,i=!1){return function(s,o){let a=Uk(t,s);if((n>0||a>-n)&&(a+=n),t===ye.Hours)a===0&&n===-12&&(a=12);else if(t===ye.FractionalSeconds)return Vk(a,e);let u=Sl(o,Dr.MinusSign);return Qt(a,e,u,r,i)}}function Uk(t,e){switch(t){case ye.FullYear:return e.getFullYear();case ye.Month:return e.getMonth();case ye.Date:return e.getDate();case ye.Hours:return e.getHours();case ye.Minutes:return e.getMinutes();case ye.Seconds:return e.getSeconds();case ye.FractionalSeconds:return e.getMilliseconds();case ye.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Ce(t,e,n=yt.Format,r=!1){return function(i,s){return jk(i,s,t,e,n,r)}}function jk(t,e,n,r,i,s){switch(n){case me.Months:return Mk(e,i,r)[t.getMonth()];case me.Days:return Nk(e,i,r)[t.getDay()];case me.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let l=Pk(e),h=Ok(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[v,S]=m,M=o>=v.hours&&a>=v.minutes,R=o<S.hours||o===S.hours&&a<S.minutes;if(v.hours<S.hours){if(M&&R)return!0}else if(M||R)return!0}else if(m.hours===o&&m.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return Rk(e,i,r)[o<12?0:1];case me.Eras:return xk(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function wl(t){return function(e,n,r){let i=-1*r,s=Sl(n,Dr.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case jn.Short:return(i>=0?"+":"")+Qt(o,2,s)+Qt(Math.abs(i%60),2,s);case jn.ShortGMT:return"GMT"+(i>=0?"+":"")+Qt(o,1,s);case jn.Long:return"GMT"+(i>=0?"+":"")+Qt(o,2,s)+":"+Qt(Math.abs(i%60),2,s);case jn.Extended:return r===0?"Z":(i>=0?"+":"")+Qt(o,2,s)+":"+Qt(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var Bk=0,Dl=4;function $k(t){let e=bl(t,Bk,1).getDay();return bl(t,0,1+(e<=Dl?Dl:Dl+7)-e)}function cb(t){let e=t.getDay(),n=e===0?-3:Dl-e;return bl(t.getFullYear(),t.getMonth(),t.getDate()+n)}function hg(t,e=!1){return function(n,r){let i;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{let s=cb(n),o=$k(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Qt(i,t,Sl(r,Dr.MinusSign))}}function El(t,e=!1){return function(n,r){let s=cb(n).getFullYear();return Qt(s,t,Sl(r,Dr.MinusSign),e)}}var fg={};function Hk(t){if(fg[t])return fg[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ce(me.Eras,De.Abbreviated);break;case"GGGG":e=Ce(me.Eras,De.Wide);break;case"GGGGG":e=Ce(me.Eras,De.Narrow);break;case"y":e=Ue(ye.FullYear,1,0,!1,!0);break;case"yy":e=Ue(ye.FullYear,2,0,!0,!0);break;case"yyy":e=Ue(ye.FullYear,3,0,!1,!0);break;case"yyyy":e=Ue(ye.FullYear,4,0,!1,!0);break;case"Y":e=El(1);break;case"YY":e=El(2,!0);break;case"YYY":e=El(3);break;case"YYYY":e=El(4);break;case"M":case"L":e=Ue(ye.Month,1,1);break;case"MM":case"LL":e=Ue(ye.Month,2,1);break;case"MMM":e=Ce(me.Months,De.Abbreviated);break;case"MMMM":e=Ce(me.Months,De.Wide);break;case"MMMMM":e=Ce(me.Months,De.Narrow);break;case"LLL":e=Ce(me.Months,De.Abbreviated,yt.Standalone);break;case"LLLL":e=Ce(me.Months,De.Wide,yt.Standalone);break;case"LLLLL":e=Ce(me.Months,De.Narrow,yt.Standalone);break;case"w":e=hg(1);break;case"ww":e=hg(2);break;case"W":e=hg(1,!0);break;case"d":e=Ue(ye.Date,1);break;case"dd":e=Ue(ye.Date,2);break;case"c":case"cc":e=Ue(ye.Day,1);break;case"ccc":e=Ce(me.Days,De.Abbreviated,yt.Standalone);break;case"cccc":e=Ce(me.Days,De.Wide,yt.Standalone);break;case"ccccc":e=Ce(me.Days,De.Narrow,yt.Standalone);break;case"cccccc":e=Ce(me.Days,De.Short,yt.Standalone);break;case"E":case"EE":case"EEE":e=Ce(me.Days,De.Abbreviated);break;case"EEEE":e=Ce(me.Days,De.Wide);break;case"EEEEE":e=Ce(me.Days,De.Narrow);break;case"EEEEEE":e=Ce(me.Days,De.Short);break;case"a":case"aa":case"aaa":e=Ce(me.DayPeriods,De.Abbreviated);break;case"aaaa":e=Ce(me.DayPeriods,De.Wide);break;case"aaaaa":e=Ce(me.DayPeriods,De.Narrow);break;case"b":case"bb":case"bbb":e=Ce(me.DayPeriods,De.Abbreviated,yt.Standalone,!0);break;case"bbbb":e=Ce(me.DayPeriods,De.Wide,yt.Standalone,!0);break;case"bbbbb":e=Ce(me.DayPeriods,De.Narrow,yt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ce(me.DayPeriods,De.Abbreviated,yt.Format,!0);break;case"BBBB":e=Ce(me.DayPeriods,De.Wide,yt.Format,!0);break;case"BBBBB":e=Ce(me.DayPeriods,De.Narrow,yt.Format,!0);break;case"h":e=Ue(ye.Hours,1,-12);break;case"hh":e=Ue(ye.Hours,2,-12);break;case"H":e=Ue(ye.Hours,1);break;case"HH":e=Ue(ye.Hours,2);break;case"m":e=Ue(ye.Minutes,1);break;case"mm":e=Ue(ye.Minutes,2);break;case"s":e=Ue(ye.Seconds,1);break;case"ss":e=Ue(ye.Seconds,2);break;case"S":e=Ue(ye.FractionalSeconds,1);break;case"SS":e=Ue(ye.FractionalSeconds,2);break;case"SSS":e=Ue(ye.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=wl(jn.Short);break;case"ZZZZZ":e=wl(jn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=wl(jn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=wl(jn.Long);break;default:return null}return fg[t]=e,e}function ub(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function qk(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function zk(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),s=ub(e,i);return qk(t,r*(s-i))}function Gk(t){if(JT(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,o=1]=t.split("-").map(a=>+a);return bl(i,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(kk))return Wk(r)}let e=new Date(t);if(!JT(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function Wk(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,u,l),e}function JT(t){return t instanceof Date&&!isNaN(t.valueOf())}function lb(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var pg=/\s+/,XT=[],bW=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=XT,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(pg):XT}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(pg):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(pg).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(Ie(Kt),Ie(pi))},e.\u0275dir=kn({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var gg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},CW=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new gg(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let u=i.get(o);i.move(u,a),eb(u,s)}});for(let s=0,o=i.length;s<o;s++){let u=i.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);eb(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Ie(Er),Ie(li),Ie(cg))},e.\u0275dir=kn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function eb(t,e){t.context.$implicit=e.item}var SW=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new mg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){tb("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){tb("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Ie(Er),Ie(li))},e.\u0275dir=kn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),mg=class{constructor(){this.$implicit=null,this.ngIf=null}};function tb(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${mt(e)}'.`)}var AW=(()=>{let e=class e{constructor(r,i,s){this._ngEl=r,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(r){this._ngStyle=r,!this._differ&&r&&(this._differ=this._differs.find(r).create())}ngDoCheck(){if(this._differ){let r=this._differ.diff(this._ngStyle);r&&this._applyChanges(r)}}_setStyle(r,i){let[s,o]=r.split("."),a=s.indexOf("-")===-1?void 0:dn.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(r){r.forEachRemovedItem(i=>this._setStyle(i.key,null)),r.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),r.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}};e.\u0275fac=function(i){return new(i||e)(Ie(Kt),Ie(ug),Ie(pi))},e.\u0275dir=kn({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let t=e;return t})();function Kk(t,e){return new U(2100,!1)}var Qk="mediumDate",Yk=new j(""),Zk=new j(""),RW=(()=>{let e=class e{constructor(r,i,s){this.locale=r,this.defaultTimezone=i,this.defaultOptions=s}transform(r,i,s,o){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??Qk,u=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Fk(r,a,o||this.locale,u)}catch(a){throw Kk(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(Ie(pl,16),Ie(Yk,24),Ie(Zk,24))},e.\u0275pipe=RE({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var Jk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Xo({type:e}),e.\u0275inj=Zo({});let t=e;return t})(),Eg="browser",Xk="server";function e1(t){return t===Eg}function Dg(t){return t===Xk}var db=(()=>{let e=class e{};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>e1(O(pn))?new yg(O(vt),window):new vg});let t=e;return t})(),yg=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=t1(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function t1(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var vg=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Cl=class{};var Cg=class extends Tl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Sg=class t extends Cg{static makeCurrent(){rb(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=r1();return n==null?null:i1(n)}resetBaseElement(){ia=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return lb(document.cookie,e)}},ia=null;function r1(){return ia=ia||document.querySelector("base"),ia?ia.getAttribute("href"):null}function i1(t){return new URL(t,document.baseURI).pathname}var s1=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Al=new j(""),gb=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new U(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(Q(Al),Q(ve))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),sa=class{constructor(e){this._doc=e}},Tg="ng-app-id",mb=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Dg(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Tg}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Tg),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Tg,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(Q(vt),Q(Up),Q(Bp,8),Q(pn))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),bg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Rg=/%COMP%/g,yb="%COMP%",o1=`_nghost-${yb}`,a1=`_ngcontent-${yb}`,c1=!0,u1=new j("",{providedIn:"root",factory:()=>c1});function l1(t){return a1.replace(Rg,t)}function d1(t){return o1.replace(Rg,t)}function vb(t,e){return e.map(n=>n.replace(Rg,t))}var hb=(()=>{let e=class e{constructor(r,i,s,o,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Dg(u),this.defaultRenderer=new oa(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===on.ShadowDom&&(i=be(F({},i),{encapsulation:on.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Rl?s.applyToHost(r):s instanceof aa&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case on.Emulated:o=new Rl(l,h,i,this.appId,p,a,u,m);break;case on.ShadowDom:return new Ag(l,h,r,i,a,u,this.nonce,m);default:o=new aa(l,h,i,p,a,u,m);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(Q(gb),Q(mb),Q(Up),Q(u1),Q(vt),Q(pn),Q(ve),Q(Bp))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),oa=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(bg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(fb(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(fb(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=bg[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=bg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(dn.DashCase|dn.Important)?e.style.setProperty(n,r,i&dn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&dn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Ss().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function fb(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Ag=class extends oa{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=vb(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},aa=class extends oa{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?vb(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Rl=class extends aa{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=l1(l),this.hostAttr=d1(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},h1=(()=>{let e=class e extends sa{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(Q(vt))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),f1=(()=>{let e=class e extends sa{constructor(r){super(r),this.delegate=O(KT,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(Q(vt))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),pb=["alt","control","meta","shift"],p1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},g1={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},m1=(()=>{let e=class e extends sa{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ss().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),pb.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=p1[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),pb.forEach(a=>{if(a!==s){let u=g1[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(Q(vt))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function e3(t,e){return WT(F({rootComponent:t},y1(e)))}function y1(t){return{appProviders:[...E1,...t?.providers??[]],platformProviders:w1}}function v1(){Sg.makeCurrent()}function _1(){return new On}function I1(){return xD(document),document}var w1=[{provide:pn,useValue:Eg},{provide:jp,useValue:v1,multi:!0},{provide:vt,useFactory:I1,deps:[]}];var E1=[{provide:Zu,useValue:"root"},{provide:On,useFactory:_1,deps:[]},{provide:Al,useClass:h1,multi:!0,deps:[vt,ve,pn]},{provide:Al,useClass:m1,multi:!0,deps:[vt]},{provide:Al,useClass:f1,multi:!0},hb,mb,gb,{provide:vs,useExisting:hb},{provide:Cl,useClass:s1,deps:[]},[]];var _b=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(Q(vt))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var te="primary",Ea=Symbol("RouteTitle"),Og=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Os(t){return new Og(t)}function T1(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function b1(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!mn(t[n],e[n]))return!1;return!0}function mn(t,e){let n=t?kg(t):void 0,r=e?kg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Mb(t[i],e[i]))return!1;return!0}function kg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Mb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function xb(t){return t.length>0?t[t.length-1]:null}function Cr(t){return nf(t)?t:na(t)?Re(Promise.resolve(t)):z(t)}var C1={exact:Ob,subset:kb},Pb={exact:S1,subset:A1,ignored:()=>!0};function Ib(t,e,n){return C1[n.paths](t.root,e.root,n.matrixParams)&&Pb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function S1(t,e){return mn(t,e)}function Ob(t,e,n){if(!yi(t.segments,e.segments)||!xl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Ob(t.children[r],e.children[r],n))return!1;return!0}function A1(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Mb(t[n],e[n]))}function kb(t,e,n){return Lb(t,e,e.segments,n)}function Lb(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!yi(i,n)||e.hasChildren()||!xl(i,n,r))}else if(t.segments.length===n.length){if(!yi(t.segments,n)||!xl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!kb(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!yi(t.segments,i)||!xl(t.segments,i,r)||!t.children[te]?!1:Lb(t.children[te],e,s,r)}}function xl(t,e,n){return e.every((r,i)=>Pb[n](t[i].parameters,r.parameters))}var Hn=class{constructor(e=new _e([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Os(this.queryParams),this._queryParamMap}toString(){return M1.serialize(this)}},_e=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pl(this)}},mi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Os(this.parameters),this._parameterMap}toString(){return Vb(this)}};function R1(t,e){return yi(t,e)&&t.every((n,r)=>mn(n.parameters,e[r].parameters))}function yi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function N1(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===te&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==te&&(n=n.concat(e(i,r)))}),n}var Da=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>new ks,providedIn:"root"});let t=e;return t})(),ks=class{parse(e){let n=new Fg(e);return new Hn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ca(e.root,!0)}`,r=O1(e.queryParams),i=typeof e.fragment=="string"?`#${x1(e.fragment)}`:"";return`${n}${r}${i}`}},M1=new ks;function Pl(t){return t.segments.map(e=>Vb(e)).join("/")}function ca(t,e){if(!t.hasChildren())return Pl(t);if(e){let n=t.children[te]?ca(t.children[te],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==te&&r.push(`${i}:${ca(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=N1(t,(r,i)=>i===te?[ca(t.children[te],!1)]:[`${i}:${ca(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[te]!=null?`${Pl(t)}/${n[0]}`:`${Pl(t)}/(${n.join("//")})`}}function Fb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nl(t){return Fb(t).replace(/%3B/gi,";")}function x1(t){return encodeURI(t)}function Lg(t){return Fb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ol(t){return decodeURIComponent(t)}function wb(t){return Ol(t.replace(/\+/g,"%20"))}function Vb(t){return`${Lg(t.path)}${P1(t.parameters)}`}function P1(t){return Object.entries(t).map(([e,n])=>`;${Lg(e)}=${Lg(n)}`).join("")}function O1(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Nl(n)}=${Nl(i)}`).join("&"):`${Nl(n)}=${Nl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var k1=/^[^\/()?;#]+/;function Ng(t){let e=t.match(k1);return e?e[0]:""}var L1=/^[^\/()?;=#]+/;function F1(t){let e=t.match(L1);return e?e[0]:""}var V1=/^[^=?&#]+/;function U1(t){let e=t.match(V1);return e?e[0]:""}var j1=/^[^&#]+/;function B1(t){let e=t.match(j1);return e?e[0]:""}var Fg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[te]=new _e(e,n)),r}parseSegment(){let e=Ng(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new mi(Ol(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=F1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Ng(this.remaining);i&&(r=i,this.capture(r))}e[Ol(n)]=Ol(r)}parseQueryParam(e){let n=U1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=B1(this.remaining);o&&(r=o,this.capture(r))}let i=wb(n),s=wb(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ng(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new U(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=te);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[te]:new _e([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}};function Ub(t){return t.segments.length>0?new _e([],{[te]:t}):t}function jb(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=jb(i);if(r===te&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new _e(t.segments,e);return $1(n)}function $1(t){if(t.numberOfChildren===1&&t.children[te]){let e=t.children[te];return new _e(t.segments.concat(e.segments),e.children)}return t}function vi(t){return t instanceof Hn}function H1(t,e,n=null,r=null){let i=Bb(t);return $b(i,e,n,r)}function Bb(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new _e(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=Ub(r);return e??i}function $b(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Mg(i,i,i,n,r);let s=q1(e);if(s.toRoot())return Mg(i,i,new _e([],{}),n,r);let o=z1(s,i,t),a=o.processChildren?da(o.segmentGroup,o.index,s.commands):qb(o.segmentGroup,o.index,s.commands);return Mg(i,o.segmentGroup,a,n,r)}function kl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function pa(t){return typeof t=="object"&&t!=null&&t.outlets}function Mg(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;t===e?o=n:o=Hb(t,e,n);let a=Ub(jb(o));return new Hn(a,s,i)}function Hb(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=Hb(s,e,n)}),new _e(t.segments,r)}var Ll=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&kl(r[0]))throw new U(4003,!1);let i=r.find(pa);if(i&&i!==xb(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function q1(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ll(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Ll(n,e,r)}var Ms=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function z1(t,e,n){if(t.isAbsolute)return new Ms(e,!0,0);if(!n)return new Ms(e,!1,NaN);if(n.parent===null)return new Ms(n,!0,0);let r=kl(t.commands[0])?0:1,i=n.segments.length-1+r;return G1(n,i,t.numberOfDoubleDots)}function G1(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new U(4005,!1);i=r.segments.length}return new Ms(r,!1,i-s)}function W1(t){return pa(t[0])?t[0].outlets:{[te]:t}}function qb(t,e,n){if(t??=new _e([],{}),t.segments.length===0&&t.hasChildren())return da(t,e,n);let r=K1(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new _e(t.segments.slice(0,r.pathIndex),{});return s.children[te]=new _e(t.segments.slice(r.pathIndex),t.children),da(s,0,i)}else return r.match&&i.length===0?new _e(t.segments,{}):r.match&&!t.hasChildren()?Vg(t,e,n):r.match?da(t,0,i):Vg(t,e,n)}function da(t,e,n){if(n.length===0)return new _e(t.segments,{});{let r=W1(n),i={};if(Object.keys(r).some(s=>s!==te)&&t.children[te]&&t.numberOfChildren===1&&t.children[te].segments.length===0){let s=da(t.children[te],e,n);return new _e(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=qb(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new _e(t.segments,i)}}function K1(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(pa(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!Db(u,l,o))return s;r+=2}else{if(!Db(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Vg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(pa(s)){let u=Q1(s.outlets);return new _e(r,u)}if(i===0&&kl(n[0])){let u=t.segments[e];r.push(new mi(u.path,Eb(n[0]))),i++;continue}let o=pa(s)?s.outlets[te]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&kl(a)?(r.push(new mi(o,Eb(a))),i+=2):(r.push(new mi(o,{})),i++)}return new _e(r,{})}function Q1(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Vg(new _e([],{}),0,r))}),e}function Eb(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Db(t,e,n){return t==n.path&&mn(e,n.parameters)}var ha="imperative",We=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(We||{}),jt=class{constructor(e,n){this.id=e,this.url=n}},Ls=class extends jt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=We.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Zt=class extends jt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=We.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Nt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Nt||{}),Fl=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Fl||{}),$n=class extends jt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=We.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Tr=class extends jt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=We.NavigationSkipped}},ga=class extends jt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=We.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Vl=class extends jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ug=class extends jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jg=class extends jt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=We.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Bg=class extends jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$g=class extends jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hg=class{constructor(e){this.route=e,this.type=We.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},qg=class{constructor(e){this.route=e,this.type=We.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},zg=class{constructor(e){this.snapshot=e,this.type=We.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gg=class{constructor(e){this.snapshot=e,this.type=We.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wg=class{constructor(e){this.snapshot=e,this.type=We.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kg=class{constructor(e){this.snapshot=e,this.type=We.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ul=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=We.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ma=class{},Fs=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function Y1(t,e){return t.providers&&!t._injector&&(t._injector=ul(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Yt(t){return t.outlet||te}function Z1(t,e){let n=t.filter(r=>Yt(r)===e);return n.push(...t.filter(r=>Yt(r)!==e)),n}function Ta(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Qg=class{get injector(){return Ta(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new ba(this.rootInjector),this.attachRef=null}},ba=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Qg(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(Q(St))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Yg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Yg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Zg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Zg(e,this._root).map(n=>n.value)}};function Yg(t,e){if(t===e.value)return e;for(let n of e.children){let r=Yg(t,n);if(r)return r}return null}function Zg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Zg(t,n);if(r.length)return r.unshift(e),r}return[]}var Rt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ns(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Bl=class extends jl{constructor(e,n){super(e),this.snapshot=n,om(this,e)}toString(){return this.snapshot.toString()}};function zb(t){let e=J1(t),n=new Je([new mi("",{})]),r=new Je({}),i=new Je({}),s=new Je({}),o=new Je(""),a=new br(n,r,s,o,i,te,t,e.root);return a.snapshot=e.root,new Bl(new Rt(a,[]),e)}function J1(t){let e={},n={},r={},i="",s=new xs([],e,r,i,n,te,t,null,{});return new Hl("",new Rt(s,[]))}var br=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ie(l=>l[Ea]))??z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>Os(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>Os(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function $l(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),t.params),data:F(F({},e.data),t.data),resolve:F(F(F(F({},t.data),e.data),i?.data),t._resolvedData)}:r={params:F({},t.params),data:F({},t.data),resolve:F(F({},t.data),t._resolvedData??{})},i&&Wb(i)&&(r.resolve[Ea]=i.title),r}var xs=class{get title(){return this.data?.[Ea]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Os(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Os(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Hl=class extends jl{constructor(e,n){super(n),this.url=e,om(this,n)}toString(){return Gb(this._root)}};function om(t,e){e.value._routerState=t,e.children.forEach(n=>om(t,n))}function Gb(t){let e=t.children.length>0?` { ${t.children.map(Gb).join(", ")} } `:"";return`${t.value}${e}`}function xg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,mn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),mn(e.params,n.params)||t.paramsSubject.next(n.params),b1(e.url,n.url)||t.urlSubject.next(n.url),mn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Jg(t,e){let n=mn(t.params,e.params)&&R1(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Jg(t.parent,e.parent))}function Wb(t){return typeof t.title=="string"||t.title===null}var X1=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=te,this.activateEvents=new Xe,this.deactivateEvents=new Xe,this.attachEvents=new Xe,this.detachEvents=new Xe,this.parentContexts=O(ba),this.location=O(Er),this.changeDetector=O(Cs),this.inputBinder=O(Wl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Xg(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=kn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Es]});let t=e;return t})(),Xg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===br?this.route:e===ba?this.childContexts:this.parent.get(e,n)}},Wl=new j(""),Tb=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=jo([i.queryParams,i.params,i.data]).pipe(Ot(([o,a,u],l)=>(u=F(F(F({},o),a),u),l===0?z(u):Promise.resolve(u)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=QT(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,o[u])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function eL(t,e,n){let r=ya(t,e._root,n?n._root:void 0);return new Bl(r,e)}function ya(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=tL(t,e,n);return new Rt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ya(t,a)),o}}let r=nL(e.value),i=e.children.map(s=>ya(t,s));return new Rt(r,i)}}function tL(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ya(t,r,i);return ya(t,r)})}function nL(t){return new br(new Je(t.url),new Je(t.params),new Je(t.queryParams),new Je(t.fragment),new Je(t.data),t.outlet,t.component,t)}var va=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},Kb="ngNavigationCancelingError";function ql(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=vi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Qb(!1,Nt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Qb(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Kb]=!0,n.cancellationCode=e,n}function rL(t){return Yb(t)&&vi(t.url)}function Yb(t){return!!t&&t[Kb]}var iL=(t,e,n,r)=>ie(i=>(new em(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),em=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),xg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ns(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ns(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ns(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ns(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Kg(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Gg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(xg(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),xg(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},zl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ps=class{constructor(e,n){this.component=e,this.route=n}};function sL(t,e,n){let r=t._root,i=e?e._root:null;return ua(r,i,n,[r.value])}function oL(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Us(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!gE(t)?t:e.get(t):r}function ua(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ns(e);return t.children.forEach(o=>{aL(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>fa(a,n.getContext(o),i)),i}function aL(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=cL(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new zl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ua(t,e,a?a.children:null,r,i):ua(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ps(a.outlet.component,o))}else o&&fa(e,a,i),i.canActivateChecks.push(new zl(r)),s.component?ua(t,null,a?a.children:null,r,i):ua(t,null,n,r,i);return i}function cL(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!yi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!yi(t.url,e.url)||!mn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jg(t,e)||!mn(t.queryParams,e.queryParams);case"paramsChange":default:return!Jg(t,e)}}function fa(t,e,n){let r=Ns(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?fa(o,e.children.getContext(s),n):fa(o,null,n):fa(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ps(e.outlet.component,i)):n.canDeactivateChecks.push(new Ps(null,i)):n.canDeactivateChecks.push(new Ps(null,i))}function Ca(t){return typeof t=="function"}function uL(t){return typeof t=="boolean"}function lL(t){return t&&Ca(t.canLoad)}function dL(t){return t&&Ca(t.canActivate)}function hL(t){return t&&Ca(t.canActivateChild)}function fL(t){return t&&Ca(t.canDeactivate)}function pL(t){return t&&Ca(t.canMatch)}function Zb(t){return t instanceof Mn||t?.name==="EmptyError"}var Ml=Symbol("INITIAL_VALUE");function Vs(){return Ot(t=>jo(t.map(e=>e.pipe(xn(1),du(Ml)))).pipe(ie(e=>{for(let n of e)if(n!==!0){if(n===Ml)return Ml;if(n===!1||gL(n))return n}return!0}),bt(e=>e!==Ml),xn(1)))}function gL(t){return vi(t)||t instanceof va}function mL(t,e){return Fe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?z(be(F({},n),{guardsResult:!0})):yL(o,r,i,t).pipe(Fe(a=>a&&uL(a)?vL(r,s,t,e):z(a)),ie(a=>be(F({},n),{guardsResult:a})))})}function yL(t,e,n,r){return Re(t).pipe(Fe(i=>DL(i.component,i.route,n,e,r)),nn(i=>i!==!0,!0))}function vL(t,e,n,r){return Re(e).pipe(Qr(i=>ns(IL(i.route.parent,r),_L(i.route,r),EL(t,i.path,n),wL(t,i.route,n))),nn(i=>i!==!0,!0))}function _L(t,e){return t!==null&&e&&e(new Wg(t)),z(!0)}function IL(t,e){return t!==null&&e&&e(new zg(t)),z(!0)}function wL(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return z(!0);let i=r.map(s=>cu(()=>{let o=Ta(e)??n,a=Us(s,o),u=dL(a)?a.canActivate(e,t):fn(o,()=>a(e,t));return Cr(u).pipe(nn())}));return z(i).pipe(Vs())}function EL(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>oL(o)).filter(o=>o!==null).map(o=>cu(()=>{let a=o.guards.map(u=>{let l=Ta(o.node)??n,h=Us(u,l),p=hL(h)?h.canActivateChild(r,t):fn(l,()=>h(r,t));return Cr(p).pipe(nn())});return z(a).pipe(Vs())}));return z(s).pipe(Vs())}function DL(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return z(!0);let o=s.map(a=>{let u=Ta(e)??i,l=Us(a,u),h=fL(l)?l.canDeactivate(t,e,n,r):fn(u,()=>l(t,e,n,r));return Cr(h).pipe(nn())});return z(o).pipe(Vs())}function TL(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return z(!0);let s=i.map(o=>{let a=Us(o,t),u=lL(a)?a.canLoad(e,n):fn(t,()=>a(e,n));return Cr(u)});return z(s).pipe(Vs(),Jb(r))}function Jb(t){return Hc(qe(e=>{if(typeof e!="boolean")throw ql(t,e)}),ie(e=>e===!0))}function bL(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return z(!0);let s=i.map(o=>{let a=Us(o,t),u=pL(a)?a.canMatch(e,n):fn(t,()=>a(e,n));return Cr(u)});return z(s).pipe(Vs(),Jb(r))}var _a=class{constructor(e){this.segmentGroup=e||null}},Ia=class extends Error{constructor(e){super(),this.urlTree=e}};function Rs(t){return ts(new _a(t))}function CL(t){return ts(new U(4e3,!1))}function SL(t){return ts(Qb(!1,Nt.GuardRejected))}var tm=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return z(r);if(i.numberOfChildren>1||!i.children[te])return CL(`${e.redirectTo}`);i=i.children[te]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:v,data:S,title:M}=i,R=fn(s,()=>a({params:v,data:S,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:M}));if(R instanceof Hn)throw new Ia(R);n=R}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ia(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Hn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new _e(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new U(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},nm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function AL(t,e,n,r,i){let s=Xb(t,e,n);return s.matched?(r=Y1(e,r),bL(r,e,n,i).pipe(ie(o=>o===!0?s:F({},nm)))):z(s)}function Xb(t,e,n){if(e.path==="**")return RL(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?F({},nm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||T1)(n,t,e);if(!i)return F({},nm);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?F(F({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function RL(t){return{matched:!0,parameters:t.length>0?xb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function bb(t,e,n,r){return n.length>0&&xL(t,n,r)?{segmentGroup:new _e(e,ML(r,new _e(n,t.children))),slicedSegments:[]}:n.length===0&&PL(t,n,r)?{segmentGroup:new _e(t.segments,NL(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new _e(t.segments,t.children),slicedSegments:n}}function NL(t,e,n,r){let i={};for(let s of n)if(Kl(t,e,s)&&!r[Yt(s)]){let o=new _e([],{});i[Yt(s)]=o}return F(F({},r),i)}function ML(t,e){let n={};n[te]=e;for(let r of t)if(r.path===""&&Yt(r)!==te){let i=new _e([],{});n[Yt(r)]=i}return n}function xL(t,e,n){return n.some(r=>Kl(t,e,r)&&Yt(r)!==te)}function PL(t,e,n){return n.some(r=>Kl(t,e,r))}function Kl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function OL(t,e,n){return e.length===0&&!t.children[n]}var rm=class{};function kL(t,e,n,r,i,s,o="emptyOnly"){return new im(t,e,n,r,i,o,s).recognize()}var LL=31,im=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new tm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new U(4002,`'${e.segmentGroup}'`)}recognize(){let e=bb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(({children:n,rootSnapshot:r})=>{let i=new Rt(r,n),s=new Hl("",i),o=H1(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new xs([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),te,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,te,n).pipe(ie(r=>({children:r,rootSnapshot:n})),dr(r=>{if(r instanceof Ia)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof _a?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(ie(o=>o instanceof Rt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Re(s).pipe(Qr(o=>{let a=r.children[o],u=Z1(n,o);return this.processSegmentGroup(e,u,a,o,i)}),lu((o,a)=>(o.push(...a),o)),hr(null),sf(),Fe(o=>{if(o===null)return Rs(r);let a=eC(o);return FL(a),z(a)}))}processSegment(e,n,r,i,s,o,a){return Re(n).pipe(Qr(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(dr(l=>{if(l instanceof _a)return z(null);throw l}))),nn(u=>!!u),dr(u=>{if(Zb(u))return OL(r,i,s)?z(new rm):Rs(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return Yt(r)!==o&&(o===te||!Kl(i,s,r))?Rs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):Rs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=Xb(n,i,s);if(!u)return Rs(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>LL&&(this.allowRedirects=!1));let v=new xs(s,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Cb(i),Yt(i),i.component??i._loadedComponent??null,i,Sb(i)),S=$l(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(S.params),v.data=Object.freeze(S.data);let M=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,v,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(Fe(R=>this.processSegment(e,r,n,R.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=AL(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Ot(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ot(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:v}=u,S=new xs(m,p,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Cb(r),Yt(r),r.component??r._loadedComponent??null,r,Sb(r)),M=$l(S,o,this.paramsInheritanceStrategy);S.params=Object.freeze(M.params),S.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:k}=bb(n,m,v,l);if(k.length===0&&R.hasChildren())return this.processChildren(h,l,R,S).pipe(ie(q=>new Rt(S,q)));if(l.length===0&&k.length===0)return z(new Rt(S,[]));let $=Yt(r)===s;return this.processSegment(h,l,R,k,$?te:s,!0,S).pipe(ie(q=>new Rt(S,q instanceof Rt?[q]:[])))}))):Rs(n)))}getChildConfig(e,n,r){return n.children?z({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?z({routes:n._loadedRoutes,injector:n._loadedInjector}):TL(e,n,r,this.urlSerializer).pipe(Fe(i=>i?this.configLoader.loadChildren(e,n).pipe(qe(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):SL(n))):z({routes:[],injector:e})}};function FL(t){t.sort((e,n)=>e.value.outlet===te?-1:n.value.outlet===te?1:e.value.outlet.localeCompare(n.value.outlet))}function VL(t){let e=t.value.routeConfig;return e&&e.path===""}function eC(t){let e=[],n=new Set;for(let r of t){if(!VL(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=eC(r.children);e.push(new Rt(r.value,i))}return e.filter(r=>!n.has(r))}function Cb(t){return t.data||{}}function Sb(t){return t.resolve||{}}function UL(t,e,n,r,i,s){return Fe(o=>kL(t,e,n,r,o.extractedUrl,i,s).pipe(ie(({state:a,tree:u})=>be(F({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function jL(t,e){return Fe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return z(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of tC(u))o.add(l);let a=0;return Re(o).pipe(Qr(u=>s.has(u)?BL(u,r,t,e):(u.data=$l(u,u.parent,t).resolve,z(void 0))),qe(()=>a++),rs(1),Fe(u=>a===o.size?z(n):Tt))})}function tC(t){let e=t.children.map(n=>tC(n)).flat();return[t,...e]}function BL(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Wb(i)&&(s[Ea]=i.title),$L(s,t,e,r).pipe(ie(o=>(t._resolvedData=o,t.data=$l(t,t.parent,n).resolve,null)))}function $L(t,e,n,r){let i=kg(t);if(i.length===0)return z({});let s={};return Re(i).pipe(Fe(o=>HL(t[o],e,n,r).pipe(nn(),qe(a=>{if(a instanceof va)throw ql(new ks,a);s[o]=a}))),rs(1),rf(s),dr(o=>Zb(o)?Tt:ts(o)))}function HL(t,e,n,r){let i=Ta(e)??r,s=Us(t,i),o=s.resolve?s.resolve(e,n):fn(i,()=>s(e,n));return Cr(o)}function Pg(t){return Ot(e=>{let n=t(e);return n?Re(n).pipe(ie(()=>e)):z(e)})}var nC=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===te);return i}getResolvedTitleForRoute(r){return r.data[Ea]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>O(qL),providedIn:"root"});let t=e;return t})(),qL=(()=>{let e=class e extends nC{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(Q(_b))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Sa=new j("",{providedIn:"root",factory:()=>({})}),zL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=AE({type:e,selectors:[["ng-component"]],standalone:!0,features:[VT],decls:1,vars:0,template:function(i,s){i&1&&og(0,"router-outlet")},dependencies:[X1],encapsulation:2});let t=e;return t})();function am(t){let e=t.children&&t.children.map(am),n=e?be(F({},t),{children:e}):F({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==te&&(n.component=zL),n}var wa=new j(""),cm=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(fl)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return z(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Cr(r.loadComponent()).pipe(ie(rC),qe(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Bo(()=>{this.componentLoaders.delete(r)})),s=new Zi(i,()=>new ot).pipe(Yi());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return z({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=GL(i,this.compiler,r,this.onLoadEndListener).pipe(Bo(()=>{this.childrenLoaders.delete(i)})),a=new Zi(o,()=>new ot).pipe(Yi());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function GL(t,e,n,r){return Cr(t.loadChildren()).pipe(ie(rC),Fe(i=>i instanceof Ko||Array.isArray(i)?z(i):Re(e.compileModuleAsync(i))),ie(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(wa,[],{optional:!0,self:!0}).flat()),{routes:o.map(am),injector:s}}))}function WL(t){return t&&typeof t=="object"&&"default"in t}function rC(t){return WL(t)?t.default:t}var um=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>O(KL),providedIn:"root"});let t=e;return t})(),KL=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),iC=new j(""),sC=new j("");function QL(t,e,n){let r=t.get(sC),i=t.get(vt);return t.get(ve).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),YL(t))),{onViewTransitionCreated:u}=r;return u&&fn(t,()=>u({transition:a,from:e,to:n})),o})}function YL(t){return new Promise(e=>{ig({read:()=>setTimeout(e)},{injector:t})})}var ZL=new j(""),lm=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ot,this.transitionAbortSubject=new ot,this.configLoader=O(cm),this.environmentInjector=O(St),this.urlSerializer=O(Da),this.rootContexts=O(ba),this.location=O(As),this.inputBindingEnabled=O(Wl,{optional:!0})!==null,this.titleStrategy=O(nC),this.options=O(Sa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=O(um),this.createViewTransition=O(iC,{optional:!0}),this.navigationErrorHandler=O(ZL,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>z(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Hg(s)),i=s=>this.events.next(new qg(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(be(F(F({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Je({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ha,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(bt(o=>o.id!==0),ie(o=>be(F({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ot(o=>{let a=!1,u=!1;return z(o).pipe(Ot(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Nt.SupersededByNewNavigation),Tt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?be(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new Tr(l.id,this.urlSerializer.serialize(l.rawUrl),m,Fl.IgnoredSameUrlNavigation)),l.resolve(!1),Tt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return z(l).pipe(Ot(m=>{let v=this.transitions?.getValue();return this.events.next(new Ls(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),v!==this.transitions?.getValue()?Tt:Promise.resolve(m)}),UL(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),qe(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=be(F({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let v=new Vl(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:v,source:S,restoredState:M,extras:R}=l,k=new Ls(m,this.urlSerializer.serialize(v),S,M);this.events.next(k);let $=zb(this.rootComponentType).snapshot;return this.currentTransition=o=be(F({},l),{targetSnapshot:$,urlAfterRedirects:v,extras:be(F({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,z(o)}else{let m="";return this.events.next(new Tr(l.id,this.urlSerializer.serialize(l.extractedUrl),m,Fl.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Tt}}),qe(l=>{let h=new Ug(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),ie(l=>(this.currentTransition=o=be(F({},l),{guards:sL(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),mL(this.environmentInjector,l=>this.events.next(l)),qe(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw ql(this.urlSerializer,l.guardsResult);let h=new jg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),bt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Nt.GuardRejected),!1)),Pg(l=>{if(l.guards.canActivateChecks.length)return z(l).pipe(qe(h=>{let p=new Bg(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Ot(h=>{let p=!1;return z(h).pipe(jL(this.paramsInheritanceStrategy,this.environmentInjector),qe({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",Nt.NoDataFromResolver)}}))}),qe(h=>{let p=new $g(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),Pg(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(qe(v=>{p.component=v}),ie(()=>{})));for(let v of p.children)m.push(...h(v));return m};return jo(h(l.targetSnapshot.root)).pipe(hr(null),xn(1))}),Pg(()=>this.afterPreactivation()),Ot(()=>{let{currentSnapshot:l,targetSnapshot:h}=o,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?Re(p).pipe(ie(()=>o)):z(o)}),ie(l=>{let h=eL(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=be(F({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,o}),qe(()=>{this.events.next(new ma)}),iL(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),xn(1),qe({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Zt(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),of(this.transitionAbortSubject.pipe(qe(l=>{throw l}))),Bo(()=>{!a&&!u&&this.cancelNavigationTransition(o,"",Nt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),dr(l=>{if(u=!0,Yb(l))this.events.next(new $n(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),rL(l)?this.events.next(new Fs(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let h=new ga(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let p=fn(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof va){let{message:m,cancellationCode:v}=ql(this.urlSerializer,p);this.events.next(new $n(o.id,this.urlSerializer.serialize(o.extractedUrl),m,v)),this.events.next(new Fs(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let m=r.errorHandler(l);o.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return Tt}))}))}cancelNavigationTransition(r,i,s){let o=new $n(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function JL(t){return t!==ha}var XL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>O(eF),providedIn:"root"});let t=e;return t})(),sm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},eF=(()=>{let e=class e extends sm{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Op(e)))(s||e)}})(),e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),oC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>O(tF),providedIn:"root"});let t=e;return t})(),tF=(()=>{let e=class e extends oC{constructor(){super(...arguments),this.location=O(As),this.urlSerializer=O(Da),this.options=O(Sa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=O(um),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Hn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=zb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Ls)this.stateMemento=this.createStateMemento();else if(r instanceof Tr)this.rawUrlTree=i.initialUrl;else if(r instanceof Vl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof ma?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof $n&&(r.code===Nt.GuardRejected||r.code===Nt.NoDataFromResolver)?this.restoreHistory(i):r instanceof ga?this.restoreHistory(i,!0):r instanceof Zt&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=r instanceof Hn?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=F(F({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=F(F({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Op(e)))(s||e)}})(),e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),la=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(la||{});function aC(t,e){t.events.pipe(bt(n=>n instanceof Zt||n instanceof $n||n instanceof ga||n instanceof Tr),ie(n=>n instanceof Zt||n instanceof Tr?la.COMPLETE:(n instanceof $n?n.code===Nt.Redirect||n.code===Nt.SupersededByNewNavigation:!1)?la.REDIRECTING:la.FAILED),bt(n=>n!==la.REDIRECTING),xn(1)).subscribe(()=>{e()})}function nF(t){throw t}var rF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},iF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},yn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=O(ll),this.stateManager=O(oC),this.options=O(Sa,{optional:!0})||{},this.pendingTasks=O(Ds),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=O(lm),this.urlSerializer=O(Da),this.location=O(As),this.urlHandlingStrategy=O(um),this._events=new ot,this.errorHandler=this.options.errorHandler||nF,this.navigated=!1,this.routeReuseStrategy=O(XL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=O(wa,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!O(Wl,{optional:!0}),this.eventsSubscription=new Pe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof $n&&i.code!==Nt.Redirect&&i.code!==Nt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Zt)this.navigated=!0;else if(i instanceof Fs){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l=F({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||JL(s.source)},a);this.scheduleNavigation(u,ha,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}oF(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ha,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=F({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(am),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":p=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let v=s?s.snapshot:this.routerState.snapshot.root;m=Bb(v)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return $b(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=vi(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,ha,null,i)}navigate(r,i={skipLocationChange:!1}){return sF(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=F({},rF):i===!1?s=F({},iF):s=i,vi(r))return Ib(this.currentUrlTree,r,s);let o=this.parseUrl(r);return Ib(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,v)=>{u=m,l=v});let p=this.pendingTasks.add();return aC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function sF(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new U(4008,!1)}function oF(t){return!(t instanceof ma)&&!(t instanceof Fs)}var Ab=(()=>{let e=class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.onChanges=new ot,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof Zt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(vi(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,s,o,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:kD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.routerLinkInput===null?null:vi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(Ie(yn),Ie(br),kp("tabindex"),Ie(pi),Ie(Kt),Ie(Bn))},e.\u0275dir=kn({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&ag("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&sg("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ra],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ra],replaceUrl:[2,"replaceUrl","replaceUrl",ra],routerLink:"routerLink"},standalone:!0,features:[ng,Es]});let t=e;return t})(),v3=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Xe,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof Zt&&this.update()})}ngAfterContentInit(){z(this.links.changes,z(null)).pipe(lr()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Re(r).pipe(lr()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=aF(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?r.isActive(o,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(Ie(yn),Ie(Kt),Ie(pi),Ie(Cs),Ie(Ab,8))},e.\u0275dir=kn({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&PT(o,Ab,5),i&2){let a;OT(a=kT())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Es]});let t=e;return t})();function aF(t){return!!t.paths}var Gl=class{};var cF=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(bt(r=>r instanceof Zt),Qr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=ul(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,u=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(u,o.children??o._loadedRoutes))}return Re(s).pipe(lr())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=z(null);let o=s.pipe(Fe(a=>a===null?z(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Re([o,a]).pipe(lr())}else return o})}};e.\u0275fac=function(i){return new(i||e)(Q(yn),Q(fl),Q(St),Q(Gl),Q(cm))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cC=new j(""),uF=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Ls?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Zt?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Tr&&r.code===Fl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Ul&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ul(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){KD()},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function _3(t,...e){return hn([{provide:wa,multi:!0,useValue:t},[],{provide:br,useFactory:uC,deps:[yn]},{provide:hl,multi:!0,useFactory:lC},e.map(n=>n.\u0275providers)])}function uC(t){return t.routerState.root}function Aa(t,e){return{\u0275kind:t,\u0275providers:e}}function lC(){let t=O(ct);return e=>{let n=t.get(gi);if(e!==n.components[0])return;let r=t.get(yn),i=t.get(dC);t.get(dm)===1&&r.initialNavigation(),t.get(hC,null,ne.Optional)?.setUpPreloading(),t.get(cC,null,ne.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var dC=new j("",{factory:()=>new ot}),dm=new j("",{providedIn:"root",factory:()=>1});function lF(){return Aa(2,[{provide:dm,useValue:0},{provide:dl,multi:!0,deps:[ct],useFactory:e=>{let n=e.get(ib,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(yn),s=e.get(dC);aC(i,()=>{r(!0)}),e.get(lm).afterPreactivation=()=>(r(!0),s.closed?z(void 0):s),i.initialNavigation()}))}}])}function dF(){return Aa(3,[{provide:dl,multi:!0,useFactory:()=>{let e=O(yn);return()=>{e.setUpLocationChangeListener()}}},{provide:dm,useValue:2}])}var hC=new j("");function hF(t){return Aa(0,[{provide:hC,useExisting:cF},{provide:Gl,useExisting:t}])}function fF(){return Aa(8,[Tb,{provide:Wl,useExisting:Tb}])}function pF(t){let e=[{provide:iC,useValue:QL},{provide:sC,useValue:F({skipNextTransition:!!t?.skipInitialTransition},t)}];return Aa(9,e)}var Rb=new j("ROUTER_FORROOT_GUARD"),gF=[As,{provide:Da,useClass:ks},yn,ba,{provide:br,useFactory:uC,deps:[yn]},cm,[]],I3=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[gF,[],{provide:wa,multi:!0,useValue:r},{provide:Rb,useFactory:_F,deps:[[yn,new et,new Yu]]},{provide:Sa,useValue:i||{}},i?.useHash?yF():vF(),mF(),i?.preloadingStrategy?hF(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?IF(i):[],i?.bindToComponentInputs?fF().\u0275providers:[],i?.enableViewTransitions?pF().\u0275providers:[],wF()]}}static forChild(r){return{ngModule:e,providers:[{provide:wa,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(Q(Rb,8))},e.\u0275mod=Xo({type:e}),e.\u0275inj=Zo({});let t=e;return t})();function mF(){return{provide:cC,useFactory:()=>{let t=O(db),e=O(ve),n=O(Sa),r=O(lm),i=O(Da);return n.scrollOffset&&t.setOffset(n.scrollOffset),new uF(i,r,t,e,n)}}}function yF(){return{provide:Bn,useClass:ob}}function vF(){return{provide:Bn,useClass:wg}}function _F(t){return"guarded"}function IF(t){return[t.initialNavigation==="disabled"?dF().\u0275providers:[],t.initialNavigation==="enabledBlocking"?lF().\u0275providers:[]]}var Nb=new j("");function wF(){return[{provide:Nb,useFactory:lC},{provide:hl,multi:!0,useExisting:Nb}]}var pC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},EF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},gC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,v=l&63;u||(v=64,o||(m=64)),r.push(n[h],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):EF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new fm;let m=s<<2|a>>4;if(r.push(m),l!==64){let v=a<<4&240|l>>2;if(r.push(v),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},fm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},DF=function(t){let e=pC(t);return gC.encodeByteArray(e,!0)},Ra=function(t){return DF(t).replace(/\./g,"")},gm=function(t){try{return gC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function TF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var bF=()=>TF().__FIREBASE_DEFAULTS__,CF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},SF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&gm(t[1]);return e&&JSON.parse(e)},Yl=()=>{try{return bF()||CF()||SF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mm=t=>{var e,n;return(n=(e=Yl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mC=t=>{let e=mm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ym=()=>{var t;return(t=Yl())===null||t===void 0?void 0:t.config},vm=t=>{var e;return(e=Yl())===null||e===void 0?void 0:e[`_${t}`]};var Ql=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function yC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ra(JSON.stringify(n)),Ra(JSON.stringify(o)),""].join(".")}function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function AF(){var t;let e=(t=Yl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _C(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function IC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wC(){let t=Ke();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function EC(){return!AF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _m(){try{return typeof indexedDB=="object"}catch{return!1}}function DC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var RF="FirebaseError",Mt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=RF,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qn.prototype.create)}},qn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?NF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Mt(i,a,r)}};function NF(t,e){return t.replace(MF,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var MF=/\{\$([^}]+)}/g;function TC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _i(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(fC(s)&&fC(o)){if(!_i(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function fC(t){return t!==null&&typeof t=="object"}function Na(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function js(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Bs(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function bC(t,e){let n=new pm(t,e);return n.subscribe.bind(n)}var pm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");xF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=hm),i.error===void 0&&(i.error=hm),i.complete===void 0&&(i.complete=hm);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function xF(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hm(){}var D3=4*60*60*1e3;function Qe(t){return t&&t._delegate?t._delegate:t}var Bt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ii="[DEFAULT]";var Im=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Ql;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OF(e))try{this.getOrInitializeService({instanceIdentifier:Ii})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ii){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ii){return this.instances.has(e)}getOptions(e=Ii){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ii){return this.component?this.component.multipleInstances?e:Ii:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function PF(t){return t===Ii?void 0:t}function OF(t){return t.instantiationMode==="EAGER"}var Zl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Im(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var kF=[],ce=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ce||{}),LF={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},FF=ce.INFO,VF={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},UF=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=VF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Sr=class{constructor(e){this.name=e,this._logLevel=FF,this._logHandler=UF,this._userLogHandler=null,kF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};var jF=(t,e)=>e.some(n=>t instanceof n),CC,SC;function BF(){return CC||(CC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $F(){return SC||(SC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var AC=new WeakMap,Em=new WeakMap,RC=new WeakMap,wm=new WeakMap,Tm=new WeakMap;function HF(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(vn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&AC.set(n,t)}).catch(()=>{}),Tm.set(e,t),e}function qF(t){if(Em.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Em.set(t,e)}var Dm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Em.get(t);if(e==="objectStoreNames")return t.objectStoreNames||RC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function NC(t){Dm=t(Dm)}function zF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Jl(this),e,...n);return RC.set(r,e.sort?e.sort():[e]),vn(r)}:$F().includes(t)?function(...e){return t.apply(Jl(this),e),vn(AC.get(this))}:function(...e){return vn(t.apply(Jl(this),e))}}function GF(t){return typeof t=="function"?zF(t):(t instanceof IDBTransaction&&qF(t),jF(t,BF())?new Proxy(t,Dm):t)}function vn(t){if(t instanceof IDBRequest)return HF(t);if(wm.has(t))return wm.get(t);let e=GF(t);return e!==t&&(wm.set(t,e),Tm.set(e,t)),e}var Jl=t=>Tm.get(t);function xC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=vn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(vn(o.result),u.oldVersion,u.newVersion,vn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var WF=["get","getKey","getAll","getAllKeys","count"],KF=["put","add","delete","clear"],bm=new Map;function MC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bm.get(e))return bm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=KF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||WF.includes(n)))return;let s=function(o,...a){return w(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return bm.set(e,s),s}NC(t=>be(F({},t),{get:(e,n,r)=>MC(e,n)||t.get(e,n,r),has:(e,n)=>!!MC(e,n)||t.has(e,n)}));var Sm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QF(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function QF(t){let e=t.getComponent();return e?.type==="VERSION"}var Am="@firebase/app",PC="0.10.10";var zn=new Sr("@firebase/app"),YF="@firebase/app-compat",ZF="@firebase/analytics-compat",JF="@firebase/analytics",XF="@firebase/app-check-compat",eV="@firebase/app-check",tV="@firebase/auth",nV="@firebase/auth-compat",rV="@firebase/database",iV="@firebase/database-compat",sV="@firebase/functions",oV="@firebase/functions-compat",aV="@firebase/installations",cV="@firebase/installations-compat",uV="@firebase/messaging",lV="@firebase/messaging-compat",dV="@firebase/performance",hV="@firebase/performance-compat",fV="@firebase/remote-config",pV="@firebase/remote-config-compat",gV="@firebase/storage",mV="@firebase/storage-compat",yV="@firebase/firestore",vV="@firebase/vertexai-preview",_V="@firebase/firestore-compat",IV="firebase",wV="10.13.1";var Rm="[DEFAULT]",EV={[Am]:"fire-core",[YF]:"fire-core-compat",[JF]:"fire-analytics",[ZF]:"fire-analytics-compat",[eV]:"fire-app-check",[XF]:"fire-app-check-compat",[tV]:"fire-auth",[nV]:"fire-auth-compat",[rV]:"fire-rtdb",[iV]:"fire-rtdb-compat",[sV]:"fire-fn",[oV]:"fire-fn-compat",[aV]:"fire-iid",[cV]:"fire-iid-compat",[uV]:"fire-fcm",[lV]:"fire-fcm-compat",[dV]:"fire-perf",[hV]:"fire-perf-compat",[fV]:"fire-rc",[pV]:"fire-rc-compat",[gV]:"fire-gcs",[mV]:"fire-gcs-compat",[yV]:"fire-fst",[_V]:"fire-fst-compat",[vV]:"fire-vertex","fire-js":"fire-js",[IV]:"fire-js-all"};var Ma=new Map,DV=new Map,Nm=new Map;function OC(t,e){try{t.container.addComponent(e)}catch(n){zn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Rr(t){let e=t.name;if(Nm.has(e))return zn.debug(`There were multiple attempts to register component ${e}.`),!1;Nm.set(e,t);for(let n of Ma.values())OC(n,t);for(let n of DV.values())OC(n,t);return!0}function Pa(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Jt(t){return t.settings!==void 0}var TV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ar=new qn("app","Firebase",TV);var Mm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}};var Nr=wV;function Om(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Rm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ar.create("bad-app-name",{appName:String(i)});if(n||(n=ym()),!n)throw Ar.create("no-options");let s=Ma.get(i);if(s){if(_i(n,s.options)&&_i(r,s.config))return s;throw Ar.create("duplicate-app",{appName:i})}let o=new Zl(i);for(let u of Nm.values())o.addComponent(u);let a=new Mm(n,r,o);return Ma.set(i,a),a}function $s(t=Rm){let e=Ma.get(t);if(!e&&t===Rm&&ym())return Om();if(!e)throw Ar.create("no-app",{appName:t});return e}function Xl(){return Array.from(Ma.values())}function ze(t,e,n){var r;let i=(r=EV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zn.warn(a.join(" "));return}Rr(new Bt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var bV="firebase-heartbeat-database",CV=1,xa="firebase-heartbeat-store",Cm=null;function VC(){return Cm||(Cm=xC(bV,CV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ar.create("idb-open",{originalErrorMessage:t.message})})),Cm}function SV(t){return w(this,null,function*(){try{let n=(yield VC()).transaction(xa),r=yield n.objectStore(xa).get(UC(t));return yield n.done,r}catch(e){if(e instanceof Mt)zn.warn(e.message);else{let n=Ar.create("idb-get",{originalErrorMessage:e?.message});zn.warn(n.message)}}})}function kC(t,e){return w(this,null,function*(){try{let r=(yield VC()).transaction(xa,"readwrite");yield r.objectStore(xa).put(e,UC(t)),yield r.done}catch(n){if(n instanceof Mt)zn.warn(n.message);else{let r=Ar.create("idb-set",{originalErrorMessage:n?.message});zn.warn(r.message)}}})}function UC(t){return`${t.name}!${t.options.appId}`}var AV=1024,RV=30*24*60*60*1e3,xm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Pm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=LC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=RV}),this._storage.overwrite(this._heartbeatsCache))}catch(r){zn.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=LC(),{heartbeatsToSend:r,unsentEntries:i}=NV(this._heartbeatsCache.heartbeats),s=Ra(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return zn.warn(n),""}})}};function LC(){return new Date().toISOString().substring(0,10)}function NV(t,e=AV){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),FC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),FC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Pm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return _m()?DC().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield SV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return kC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return kC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function FC(t){return Ra(JSON.stringify({version:2,heartbeats:t})).length}function MV(t){Rr(new Bt("platform-logger",e=>new Sm(e),"PRIVATE")),Rr(new Bt("heartbeat",e=>new xm(e),"PRIVATE")),ze(Am,PC,t),ze(Am,PC,"esm2017"),ze("fire-js","")}MV("");var xV="firebase",PV="10.13.1";ze(xV,PV,"app");var Ei=new Ir("ANGULARFIRE2_VERSION");function td(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Oa=(t,e)=>{let n=e?[e]:Xl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},qs=class{constructor(){return Oa(OV)}},OV="app-check";function Hs(){}var ed=class{zone;delegate;constructor(e,n=ef){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},km=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hs,{},Hs,Hs)),n.pipe(qe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},zs=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new ed(Zone.current)),this.insideAngular=n.run(()=>new ed(Zone.current,Xh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(Q(ve))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function nd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function kV(t){return nd().ngZone.runOutsideAngular(()=>t())}function wi(t){return nd().ngZone.run(()=>t())}function LV(t){return FV(nd())(t)}function FV(t){return function(n){return n=n.lift(new km(t.ngZone)),n.pipe(ur(t.outsideAngular),cr(t.insideAngular))}}var VV=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),wi(()=>t.apply(void 0,r))},_t=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=wi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hs,{},Hs,Hs))),r[s]=VV(r[s],n));let i=kV(()=>t.apply(this,r));if(!e)if(i instanceof oe){let s=nd();return i.pipe(ur(s.outsideAngular),cr(s.insideAngular))}else return wi(()=>i);return i instanceof oe?i.pipe(LV):i instanceof Promise?wi(()=>new Promise((s,o)=>i.then(a=>wi(()=>s(a)),a=>wi(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:wi(()=>i)};var Gn=class{constructor(e){return e}},Di=class{constructor(){return Xl()}};function UV(t){return t&&t.length===1?t[0]:new Gn($s())}var Lm=new j("angularfire2._apps"),jV={provide:Gn,useFactory:UV,deps:[[new et,Lm]]},BV={provide:Di,deps:[[new et,Lm]]};function $V(t){return(e,n)=>{let r=n.get(pn);ze("angularfire",Ei.full,"core"),ze("angularfire",Ei.full,"app"),ze("angular",jT.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Gn(i)}}function u6(t,...e){return hn([jV,BV,{provide:Lm,useFactory:$V(t),multi:!0,deps:[ve,ct,zs,...e]}])}var l6=_t(Om,!0);function nS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var rS=nS,iS=new qn("auth","Firebase",nS());var cd=new Sr("@firebase/auth");function HV(t,...e){cd.logLevel<=ce.WARN&&cd.warn(`Auth (${Nr}): ${t}`,...e)}function id(t,...e){cd.logLevel<=ce.ERROR&&cd.error(`Auth (${Nr}): ${t}`,...e)}function In(t,...e){throw sy(t,...e)}function Ti(t,...e){return sy(t,...e)}function sS(t,e,n){let r=Object.assign(Object.assign({},rS()),{[e]:n});return new qn("auth","Firebase",r).create(e,{appName:t.name})}function Qn(t){return sS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return iS.create(t,...e)}function G(t,e,...n){if(!t)throw sy(e,...n)}function Wn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw id(e),new Error(e)}function xr(t,e){t||Wn(e)}function jm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function qV(){return jC()==="http:"||jC()==="https:"}function jC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function zV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qV()||_C()||"connection"in navigator)?navigator.onLine:!0}function GV(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var bi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,xr(n>e,"Short delay should be less than long delay!"),this.isMobile=vC()||IC()}get(){return zV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function oy(t,e){xr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var ud=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var WV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var KV=new bi(3e4,6e4);function Pr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Or(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){return oS(t,i,()=>w(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Na(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),ud.fetch()(aS(t,t.config.apiHost,n,p),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},l))}))})}function oS(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},WV),e);try{let i=new Bm(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw rd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw rd(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw rd(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw rd(t,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw sS(t,h,l);In(t,h)}}catch(i){if(i instanceof Mt)throw i;In(t,"network-request-failed",{message:String(i)})}})}function $a(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield Or(t,e,n,r,i);return"mfaPendingCredential"in l&&In(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function aS(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?oy(t.config,i):`${t.config.apiScheme}://${i}`}function QV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Bm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ti(this.auth,"network-request-failed")),KV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function rd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ti(t,e,r);return i.customData._tokenResponse=n,i}function BC(t){return t!==void 0&&t.enterprise!==void 0}var $m=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return QV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function YV(t,e){return w(this,null,function*(){return Or(t,"GET","/v2/recaptchaConfig",Pr(t,e))})}function ZV(t,e){return w(this,null,function*(){return Or(t,"POST","/v1/accounts:delete",e)})}function cS(t,e){return w(this,null,function*(){return Or(t,"POST","/v1/accounts:lookup",e)})}function ka(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ay(t,e=!1){return w(this,null,function*(){let n=Qe(t),r=yield n.getIdToken(e),i=cy(r);G(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ka(Fm(i.auth_time)),issuedAtTime:ka(Fm(i.iat)),expirationTime:ka(Fm(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Fm(t){return Number(t)*1e3}function cy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return id("JWT malformed, contained fewer than 3 sections"),null;try{let i=gm(n);return i?JSON.parse(i):(id("Failed to decode base64 JWT payload"),null)}catch(i){return id("Caught error parsing JWT payload as JSON",i?.toString()),null}}function $C(t){let e=cy(t);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Fa(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Mt&&JV(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function JV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Hm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Va=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ka(this.lastLoginAt),this.creationTime=ka(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function ld(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Fa(t,cS(n,{idToken:r}));G(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?uS(s.providerUserInfo):[],a=XV(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Va(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function uy(t){return w(this,null,function*(){let e=Qe(t);yield ld(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function XV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function uS(t){return t.map(e=>{var{providerId:n}=e,r=tf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function eU(t,e){return w(this,null,function*(){let n=yield oS(t,{},()=>w(this,null,function*(){let r=Na({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=aS(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ud.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function tU(t,e){return w(this,null,function*(){return Or(t,"POST","/v2/accounts:revokeToken",Pr(t,e))})}var La=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$C(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){G(e.length!==0,"internal-error");let n=$C(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(G(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield eU(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(G(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(G(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(G(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Wn("not implemented")}};function Mr(t,e){G(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Gs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=tf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Va(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield Fa(this,this.stsTokenManager.getToken(this.auth,e));return G(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return ay(this,e)}reload(){return uy(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield ld(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(Jt(this.auth.app))return Promise.reject(Qn(this.auth));let e=yield this.getIdToken();return yield Fa(this,ZV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,M=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,k=(l=n.createdAt)!==null&&l!==void 0?l:void 0,$=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:q,emailVerified:se,isAnonymous:Me,providerData:Z,stsTokenManager:D}=n;G(q&&D,e,"internal-error");let y=La.fromJSON(this.name,D);G(typeof q=="string",e,"internal-error"),Mr(p,e.name),Mr(m,e.name),G(typeof se=="boolean",e,"internal-error"),G(typeof Me=="boolean",e,"internal-error"),Mr(v,e.name),Mr(S,e.name),Mr(M,e.name),Mr(R,e.name),Mr(k,e.name),Mr($,e.name);let _=new t({uid:q,auth:e,email:m,emailVerified:se,displayName:p,isAnonymous:Me,photoURL:S,phoneNumber:v,tenantId:M,stsTokenManager:y,createdAt:k,lastLoginAt:$});return Z&&Array.isArray(Z)&&(_.providerData=Z.map(E=>Object.assign({},E))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new La;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ld(s),s})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];G(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?uS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new La;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Va(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var HC=new Map;function Kn(t){xr(t instanceof Function,"Expected a class definition");let e=HC.get(t);return e?(xr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,HC.set(t,e),e)}var nU=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),qm=nU;function sd(t,e,n){return`firebase:${t}:${e}:${n}`}var dd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=sd(this.userKey,i.apiKey,s),this.fullPersistenceKey=sd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Gs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(Kn(qm),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Kn(qm),o=sd(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(o);if(h){let p=Gs._fromJSON(e,h);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function qC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gS(e))return"Blackberry";if(mS(e))return"Webos";if(dS(e))return"Safari";if((e.includes("chrome/")||hS(e))&&!e.includes("edge/"))return"Chrome";if(pS(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function lS(t=Ke()){return/firefox\//i.test(t)}function dS(t=Ke()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hS(t=Ke()){return/crios\//i.test(t)}function fS(t=Ke()){return/iemobile/i.test(t)}function pS(t=Ke()){return/android/i.test(t)}function gS(t=Ke()){return/blackberry/i.test(t)}function mS(t=Ke()){return/webos/i.test(t)}function ly(t=Ke()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rU(t=Ke()){var e;return ly(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function iU(){return wC()&&document.documentMode===10}function yS(t=Ke()){return ly(t)||pS(t)||mS(t)||gS(t)||/windows phone/i.test(t)||fS(t)}function vS(t,e=[]){let n;switch(t){case"Browser":n=qC(Ke());break;case"Worker":n=`${qC(Ke())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Nr}/${r}`}var zm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function sU(n){return w(this,arguments,function*(t,e={}){return Or(t,"GET","/v2/passwordPolicy",Pr(t,e))})}var oU=6,Gm=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:oU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Wm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hd(this),this.idTokenSubscription=new hd(this),this.beforeStateQueue=new zm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Kn(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield dd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield cS(this,{idToken:e}),r=yield Gs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(Jt(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield ld(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=GV()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(Jt(this.app))return Promise.reject(Qn(this));let n=e?Qe(e):null;return n&&G(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&G(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return Jt(this.app)?Promise.reject(Qn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Jt(this.app)?Promise.reject(Qn(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Kn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield sU(this),n=new Gm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new qn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield tU(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Kn(e)||this._popupRedirectResolver;G(n,this,"argument-error"),this.redirectPersistenceManager=yield dd.create(this,[Kn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&HV(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Si(t){return Qe(t)}var hd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=bC(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var _d={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aU(t){_d=t}function _S(t){return _d.loadJS(t)}function cU(){return _d.recaptchaEnterpriseScript}function uU(){return _d.gapiScript}function IS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var lU="recaptcha-enterprise",dU="NO_RECAPTCHA",Km=class{constructor(e){this.type=lU,this.auth=Si(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(s){return w(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>w(this,null,function*(){YV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new $m(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;BC(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(dU)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&BC(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=cU();u.length!==0&&(u+=a),_S(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function zC(t,e,n,r=!1){return w(this,null,function*(){let i=new Km(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Qm(t,e,n,r){return w(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield zC(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>w(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield zC(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function dy(t,e){let n=Pa(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(_i(s,e??{}))return i;In(i,"already-initialized")}return n.initialize({options:e})}function hU(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Kn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function hy(t,e,n){let r=Si(t);G(r._canInitEmulator,r,"emulator-config-failed"),G(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=wS(e),{host:o,port:a}=fU(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||pU()}function wS(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function fU(t){let e=wS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:GC(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:GC(o)}}}function GC(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function pU(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ua=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wn("not implemented")}_getIdTokenResponse(e){return Wn("not implemented")}_linkToIdToken(e,n){return Wn("not implemented")}_getReauthenticationResolver(e){return Wn("not implemented")}};function gU(t,e){return w(this,null,function*(){return Or(t,"POST","/v1/accounts:signUp",e)})}function mU(t,e){return w(this,null,function*(){return $a(t,"POST","/v1/accounts:signInWithPassword",Pr(t,e))})}function yU(t,e){return w(this,null,function*(){return $a(t,"POST","/v1/accounts:signInWithEmailLink",Pr(t,e))})}function vU(t,e){return w(this,null,function*(){return $a(t,"POST","/v1/accounts:signInWithEmailLink",Pr(t,e))})}var ja=class t extends Ua{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qm(e,n,"signInWithPassword",mU);case"emailLink":return yU(e,{email:this._email,oobCode:this._password});default:In(e,"internal-error")}})}_linkToIdToken(e,n){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qm(e,r,"signUpPassword",gU);case"emailLink":return vU(e,{idToken:n,email:this._email,oobCode:this._password});default:In(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Vm(t,e){return w(this,null,function*(){return $a(t,"POST","/v1/accounts:signInWithIdp",Pr(t,e))})}function _U(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function IU(t){let e=js(Bs(t)).link,n=e?js(Bs(e)).deep_link_id:null,r=js(Bs(t)).deep_link_id;return(r?js(Bs(r)).link:null)||r||n||e||t}var fd=class t{constructor(e){var n,r,i,s,o,a;let u=js(Bs(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=_U((i=u.mode)!==null&&i!==void 0?i:null);G(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=IU(e);try{return new t(n)}catch{return null}}};var ES=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return ja._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=fd.parseLink(r);return G(i,"argument-error"),ja._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),pd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Ym=class extends pd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function wU(t,e){return w(this,null,function*(){return $a(t,"POST","/v1/accounts:signUp",Pr(t,e))})}var Ws=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let s=yield Gs._fromIdTokenResponse(e,r,i),o=WC(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=WC(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function WC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Zm=class t extends Mt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function DS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Zm._fromErrorAndOperation(t,s,e,r):s})}function EU(t,e,n=!1){return w(this,null,function*(){let r=yield Fa(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ws._forOperation(t,"link",r)})}function DU(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(Jt(r.app))return Promise.reject(Qn(r));let i="reauthenticate";try{let s=yield Fa(t,DS(r,i,e,t),n);G(s.idToken,r,"internal-error");let o=cy(s.idToken);G(o,r,"internal-error");let{sub:a}=o;return G(t.uid===a,r,"user-mismatch"),Ws._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&In(r,"user-mismatch"),s}})}function TS(t,e,n=!1){return w(this,null,function*(){if(Jt(t.app))return Promise.reject(Qn(t));let r="signIn",i=yield DS(t,r,e),s=yield Ws._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function fy(t,e){return w(this,null,function*(){return TS(Si(t),e)})}function bS(t){return w(this,null,function*(){let e=Si(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function py(t,e,n){return w(this,null,function*(){if(Jt(t.app))return Promise.reject(Qn(t));let r=Si(t),o=yield Qm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wU).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&bS(t),u}),a=yield Ws._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function gy(t,e,n){return Jt(t.app)?Promise.reject(Qn(t)):fy(Qe(t),ES.credential(e,n)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&bS(t),r}))}function my(t,e,n,r){return Qe(t).onIdTokenChanged(e,n,r)}function yy(t,e,n){return Qe(t).beforeAuthStateChanged(e,n)}function vy(t,e,n,r){return Qe(t).onAuthStateChanged(e,n,r)}function _y(t){return Qe(t).signOut()}var gd="__sak";var md=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gd,"1"),this.storage.removeItem(gd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var TU=1e3,bU=10,CU=(()=>{class t extends md{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yS(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);iU()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,bU):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},TU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield or(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield or(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield or(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),CS=CU;var SU=(()=>{class t extends md{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Iy=SU;function AU(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var RU=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(h=>w(this,null,function*(){return h(r.origin,o)})),l=yield AU(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function SS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Jm=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=SS("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function _n(){return window}function NU(t){_n().location.href=t}function AS(){return typeof _n().WorkerGlobalScope<"u"&&typeof _n().importScripts=="function"}function MU(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function xU(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function PU(){return AS()?self:null}var RS="firebaseLocalStorageDb",OU=1,yd="firebaseLocalStorage",NS="fbase_key",Ci=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Id(t,e){return t.transaction([yd],e?"readwrite":"readonly").objectStore(yd)}function kU(){let t=indexedDB.deleteDatabase(RS);return new Ci(t).toPromise()}function Xm(){let t=indexedDB.open(RS,OU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(yd,{keyPath:NS})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(yd)?e(r):(r.close(),yield kU(),e(yield Xm()))}))})}function KC(t,e,n){return w(this,null,function*(){let r=Id(t,!0).put({[NS]:e,value:n});return new Ci(r).toPromise()})}function LU(t,e){return w(this,null,function*(){let n=Id(t,!1).get(e),r=yield new Ci(n).toPromise();return r===void 0?null:r.value})}function QC(t,e){let n=Id(t,!0).delete(e);return new Ci(n).toPromise()}var FU=800,VU=3,UU=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield Xm(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>VU)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return AS()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=RU._getInstance(PU()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield MU(),!this.activeServiceWorker)return;this.sender=new Jm(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||xU()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Xm();return yield KC(n,gd,"1"),yield QC(n,gd),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>KC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>LU(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>QC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(s=>{let o=Id(s,!1).getAll();return new Ci(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),FU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),MS=UU;var v6=IS("rcb"),_6=new bi(3e4,6e4);function jU(t,e){return e?Kn(e):(G(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Ba=class extends Ua{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function BU(t){return TS(t.auth,new Ba(t),t.bypassAuthState)}function $U(t){let{auth:e,user:n}=t;return G(n,e,"internal-error"),DU(n,new Ba(t),t.bypassAuthState)}function HU(t){return w(this,null,function*(){let{auth:e,user:n}=t;return G(n,e,"internal-error"),EU(n,new Ba(t),t.bypassAuthState)})}var ey=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BU;case"linkViaPopup":case"linkViaRedirect":return HU;case"reauthViaPopup":case"reauthViaRedirect":return $U;default:In(this.auth,"internal-error")}}resolve(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var I6=new bi(2e3,1e4);var qU="pendingRedirect",od=new Map,ty=class t extends ey{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=od.get(this.auth._key());if(!e){try{let r=(yield zU(this.resolver,this.auth))?yield or(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}od.set(this.auth._key(),e)}return this.bypassAuthState||od.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return or(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,or(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function zU(t,e){return w(this,null,function*(){let n=KU(e),r=WU(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function GU(t,e){od.set(t._key(),e)}function WU(t){return Kn(t._redirectPersistence)}function KU(t){return sd(qU,t.config.apiKey,t.name)}function QU(t,e,n=!1){return w(this,null,function*(){if(Jt(t.app))return Promise.reject(Qn(t));let r=Si(t),i=jU(r,e),o=yield new ty(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var YU=10*60*1e3,ny=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!xS(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ti(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YU&&this.cachedEventUids.clear(),this.cachedEventUids.has(YC(e))}saveEventToCache(e){this.cachedEventUids.add(YC(e)),this.lastProcessedEventTime=Date.now()}};function YC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function ZU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xS(t);default:return!1}}function JU(n){return w(this,arguments,function*(t,e={}){return Or(t,"GET","/v1/projects",e)})}var XU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ej=/^https?/;function tj(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield JU(t);for(let n of e)try{if(nj(n))return}catch{}In(t,"unauthorized-domain")})}function nj(t){let e=jm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!ej.test(n))return!1;if(XU.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var rj=new bi(3e4,6e4);function ZC(){let t=_n().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ij(t){return new Promise((e,n)=>{var r,i,s;function o(){ZC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZC(),n(Ti(t,"network-request-failed"))},timeout:rj.get()})}if(!((i=(r=_n().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=_n().gapi)===null||s===void 0)&&s.load)o();else{let a=IS("iframefcb");return _n()[a]=()=>{gapi.load?o():n(Ti(t,"network-request-failed"))},_S(`${uU()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw ad=null,e})}var ad=null;function sj(t){return ad=ad||ij(t),ad}var oj=new bi(5e3,15e3),aj="__/auth/iframe",cj="emulator/auth/iframe",uj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dj(t){let e=t.config;G(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?oy(e,cj):`https://${t.config.authDomain}/${aj}`,r={apiKey:e.apiKey,appName:t.name,v:Nr},i=lj.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Na(r).slice(1)}`}function hj(t){return w(this,null,function*(){let e=yield sj(t),n=_n().gapi;return G(n,t,"internal-error"),e.open({where:document.body,url:dj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uj,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Ti(t,"network-request-failed"),a=_n().setTimeout(()=>{s(o)},oj.get());function u(){_n().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var fj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pj=500,gj=600,mj="_blank",yj="http://localhost",vd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function vj(t,e,n,r=pj,i=gj){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},fj),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Ke().toLowerCase();n&&(a=hS(l)?mj:n),lS(l)&&(e=e||yj,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[v,S])=>`${m}${v}=${S},`,"");if(rU(l)&&a!=="_self")return _j(e||"",a),new vd(null);let p=window.open(e||"",a,h);G(p,t,"popup-blocked");try{p.focus()}catch{}return new vd(p)}function _j(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Ij="__/auth/handler",wj="emulator/auth/handler",Ej=encodeURIComponent("fac");function JC(t,e,n,r,i,s){return w(this,null,function*(){G(t.config.authDomain,t,"auth-domain-config-required"),G(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Nr,eventId:i};if(e instanceof pd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",TC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof Ym){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${Ej}=${encodeURIComponent(u)}`:"";return`${Dj(t)}?${Na(a).slice(1)}${l}`})}function Dj({config:t}){return t.emulator?oy(t,wj):`https://${t.authDomain}/${Ij}`}var Um="webStorageSupport",ry=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Iy,this._completeRedirectFn=QU,this._overrideRedirectResult=GU}_openPopup(e,n,r,i){return w(this,null,function*(){var s;xr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield JC(e,n,r,jm(),i);return vj(e,o,SS())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield JC(e,n,r,jm(),i);return NU(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(xr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield hj(e),r=new ny(e);return n.register("authEvent",i=>(G(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Um,{type:Um},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Um];o!==void 0&&n(!!o),In(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yS()||dS()||ly()}},PS=ry;var XC="@firebase/auth",eS="1.7.8";var iy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Tj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bj(t){Rr(new Bt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;G(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vS(t)},l=new Wm(r,i,s,u);return hU(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Rr(new Bt("auth-internal",e=>{let n=Si(e.getProvider("auth").getImmediate());return(r=>new iy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ze(XC,eS,Tj(t)),ze(XC,eS,"esm2017")}var Cj=5*60,Sj=vm("authIdTokenMaxAge")||Cj,tS=null,Aj=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Sj)return;let i=n?.token;tS!==i&&(tS=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function wy(t=$s()){let e=Pa(t,"auth");if(e.isInitialized())return e.getImmediate();let n=dy(t,{popupRedirectResolver:PS,persistence:[MS,CS,Iy]}),r=vm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=Aj(s.toString());yy(n,o,()=>o(n.currentUser)),my(n,a=>o(a))}}let i=mm("auth");return i&&hy(n,`http://${i}`),n}function Rj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}aU({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Ti("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Rj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bj("Browser");var OS="auth",Ha=class{constructor(e){return e}},qa=class{constructor(){return Oa(OS)}};var Ey=new j("angularfire2.auth-instances");function v2(t,e){let n=td(OS,t,e);return n&&new Ha(n)}function _2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ha(r)}}var I2={provide:qa,deps:[[new et,Ey]]},w2={provide:Ha,useFactory:v2,deps:[[new et,Ey],Gn]};function r8(t,...e){return ze("angularfire",Ei.full,"auth"),hn([w2,I2,{provide:Ey,useFactory:_2(t),multi:!0,deps:[ve,ct,zs,Di,[new et,qs],...e]}])}var i8=_t(py,!0);var s8=_t(wy,!0);var o8=_t(vy,!0);var a8=_t(gy,!0);var c8=_t(_y,!0);var kS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},LS={};var kr,Dy;(function(){var t;function e(D,y){function _(){}_.prototype=y.prototype,D.D=y.prototype,D.prototype=new _,D.prototype.constructor=D,D.C=function(E,T,C){for(var I=Array(arguments.length-2),Sn=2;Sn<arguments.length;Sn++)I[Sn-2]=arguments[Sn];return y.prototype[T].apply(E,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,y,_){_||(_=0);var E=Array(16);if(typeof y=="string")for(var T=0;16>T;++T)E[T]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(T=0;16>T;++T)E[T]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=D.g[0],_=D.g[1],T=D.g[2];var C=D.g[3],I=y+(C^_&(T^C))+E[0]+3614090360&4294967295;y=_+(I<<7&4294967295|I>>>25),I=C+(T^y&(_^T))+E[1]+3905402710&4294967295,C=y+(I<<12&4294967295|I>>>20),I=T+(_^C&(y^_))+E[2]+606105819&4294967295,T=C+(I<<17&4294967295|I>>>15),I=_+(y^T&(C^y))+E[3]+3250441966&4294967295,_=T+(I<<22&4294967295|I>>>10),I=y+(C^_&(T^C))+E[4]+4118548399&4294967295,y=_+(I<<7&4294967295|I>>>25),I=C+(T^y&(_^T))+E[5]+1200080426&4294967295,C=y+(I<<12&4294967295|I>>>20),I=T+(_^C&(y^_))+E[6]+2821735955&4294967295,T=C+(I<<17&4294967295|I>>>15),I=_+(y^T&(C^y))+E[7]+4249261313&4294967295,_=T+(I<<22&4294967295|I>>>10),I=y+(C^_&(T^C))+E[8]+1770035416&4294967295,y=_+(I<<7&4294967295|I>>>25),I=C+(T^y&(_^T))+E[9]+2336552879&4294967295,C=y+(I<<12&4294967295|I>>>20),I=T+(_^C&(y^_))+E[10]+4294925233&4294967295,T=C+(I<<17&4294967295|I>>>15),I=_+(y^T&(C^y))+E[11]+2304563134&4294967295,_=T+(I<<22&4294967295|I>>>10),I=y+(C^_&(T^C))+E[12]+1804603682&4294967295,y=_+(I<<7&4294967295|I>>>25),I=C+(T^y&(_^T))+E[13]+4254626195&4294967295,C=y+(I<<12&4294967295|I>>>20),I=T+(_^C&(y^_))+E[14]+2792965006&4294967295,T=C+(I<<17&4294967295|I>>>15),I=_+(y^T&(C^y))+E[15]+1236535329&4294967295,_=T+(I<<22&4294967295|I>>>10),I=y+(T^C&(_^T))+E[1]+4129170786&4294967295,y=_+(I<<5&4294967295|I>>>27),I=C+(_^T&(y^_))+E[6]+3225465664&4294967295,C=y+(I<<9&4294967295|I>>>23),I=T+(y^_&(C^y))+E[11]+643717713&4294967295,T=C+(I<<14&4294967295|I>>>18),I=_+(C^y&(T^C))+E[0]+3921069994&4294967295,_=T+(I<<20&4294967295|I>>>12),I=y+(T^C&(_^T))+E[5]+3593408605&4294967295,y=_+(I<<5&4294967295|I>>>27),I=C+(_^T&(y^_))+E[10]+38016083&4294967295,C=y+(I<<9&4294967295|I>>>23),I=T+(y^_&(C^y))+E[15]+3634488961&4294967295,T=C+(I<<14&4294967295|I>>>18),I=_+(C^y&(T^C))+E[4]+3889429448&4294967295,_=T+(I<<20&4294967295|I>>>12),I=y+(T^C&(_^T))+E[9]+568446438&4294967295,y=_+(I<<5&4294967295|I>>>27),I=C+(_^T&(y^_))+E[14]+3275163606&4294967295,C=y+(I<<9&4294967295|I>>>23),I=T+(y^_&(C^y))+E[3]+4107603335&4294967295,T=C+(I<<14&4294967295|I>>>18),I=_+(C^y&(T^C))+E[8]+1163531501&4294967295,_=T+(I<<20&4294967295|I>>>12),I=y+(T^C&(_^T))+E[13]+2850285829&4294967295,y=_+(I<<5&4294967295|I>>>27),I=C+(_^T&(y^_))+E[2]+4243563512&4294967295,C=y+(I<<9&4294967295|I>>>23),I=T+(y^_&(C^y))+E[7]+1735328473&4294967295,T=C+(I<<14&4294967295|I>>>18),I=_+(C^y&(T^C))+E[12]+2368359562&4294967295,_=T+(I<<20&4294967295|I>>>12),I=y+(_^T^C)+E[5]+4294588738&4294967295,y=_+(I<<4&4294967295|I>>>28),I=C+(y^_^T)+E[8]+2272392833&4294967295,C=y+(I<<11&4294967295|I>>>21),I=T+(C^y^_)+E[11]+1839030562&4294967295,T=C+(I<<16&4294967295|I>>>16),I=_+(T^C^y)+E[14]+4259657740&4294967295,_=T+(I<<23&4294967295|I>>>9),I=y+(_^T^C)+E[1]+2763975236&4294967295,y=_+(I<<4&4294967295|I>>>28),I=C+(y^_^T)+E[4]+1272893353&4294967295,C=y+(I<<11&4294967295|I>>>21),I=T+(C^y^_)+E[7]+4139469664&4294967295,T=C+(I<<16&4294967295|I>>>16),I=_+(T^C^y)+E[10]+3200236656&4294967295,_=T+(I<<23&4294967295|I>>>9),I=y+(_^T^C)+E[13]+681279174&4294967295,y=_+(I<<4&4294967295|I>>>28),I=C+(y^_^T)+E[0]+3936430074&4294967295,C=y+(I<<11&4294967295|I>>>21),I=T+(C^y^_)+E[3]+3572445317&4294967295,T=C+(I<<16&4294967295|I>>>16),I=_+(T^C^y)+E[6]+76029189&4294967295,_=T+(I<<23&4294967295|I>>>9),I=y+(_^T^C)+E[9]+3654602809&4294967295,y=_+(I<<4&4294967295|I>>>28),I=C+(y^_^T)+E[12]+3873151461&4294967295,C=y+(I<<11&4294967295|I>>>21),I=T+(C^y^_)+E[15]+530742520&4294967295,T=C+(I<<16&4294967295|I>>>16),I=_+(T^C^y)+E[2]+3299628645&4294967295,_=T+(I<<23&4294967295|I>>>9),I=y+(T^(_|~C))+E[0]+4096336452&4294967295,y=_+(I<<6&4294967295|I>>>26),I=C+(_^(y|~T))+E[7]+1126891415&4294967295,C=y+(I<<10&4294967295|I>>>22),I=T+(y^(C|~_))+E[14]+2878612391&4294967295,T=C+(I<<15&4294967295|I>>>17),I=_+(C^(T|~y))+E[5]+4237533241&4294967295,_=T+(I<<21&4294967295|I>>>11),I=y+(T^(_|~C))+E[12]+1700485571&4294967295,y=_+(I<<6&4294967295|I>>>26),I=C+(_^(y|~T))+E[3]+2399980690&4294967295,C=y+(I<<10&4294967295|I>>>22),I=T+(y^(C|~_))+E[10]+4293915773&4294967295,T=C+(I<<15&4294967295|I>>>17),I=_+(C^(T|~y))+E[1]+2240044497&4294967295,_=T+(I<<21&4294967295|I>>>11),I=y+(T^(_|~C))+E[8]+1873313359&4294967295,y=_+(I<<6&4294967295|I>>>26),I=C+(_^(y|~T))+E[15]+4264355552&4294967295,C=y+(I<<10&4294967295|I>>>22),I=T+(y^(C|~_))+E[6]+2734768916&4294967295,T=C+(I<<15&4294967295|I>>>17),I=_+(C^(T|~y))+E[13]+1309151649&4294967295,_=T+(I<<21&4294967295|I>>>11),I=y+(T^(_|~C))+E[4]+4149444226&4294967295,y=_+(I<<6&4294967295|I>>>26),I=C+(_^(y|~T))+E[11]+3174756917&4294967295,C=y+(I<<10&4294967295|I>>>22),I=T+(y^(C|~_))+E[2]+718787259&4294967295,T=C+(I<<15&4294967295|I>>>17),I=_+(C^(T|~y))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+y&4294967295,D.g[1]=D.g[1]+(T+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+T&4294967295,D.g[3]=D.g[3]+C&4294967295}r.prototype.u=function(D,y){y===void 0&&(y=D.length);for(var _=y-this.blockSize,E=this.B,T=this.h,C=0;C<y;){if(T==0)for(;C<=_;)i(this,D,C),C+=this.blockSize;if(typeof D=="string"){for(;C<y;)if(E[T++]=D.charCodeAt(C++),T==this.blockSize){i(this,E),T=0;break}}else for(;C<y;)if(E[T++]=D[C++],T==this.blockSize){i(this,E),T=0;break}}this.h=T,this.o+=y},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var y=1;y<D.length-8;++y)D[y]=0;var _=8*this.o;for(y=D.length-8;y<D.length;++y)D[y]=_&255,_/=256;for(this.u(D),D=Array(16),y=_=0;4>y;++y)for(var E=0;32>E;E+=8)D[_++]=this.g[y]>>>E&255;return D};function s(D,y){var _=a;return Object.prototype.hasOwnProperty.call(_,D)?_[D]:_[D]=y(D)}function o(D,y){this.h=y;for(var _=[],E=!0,T=D.length-1;0<=T;T--){var C=D[T]|0;E&&C==y||(_[T]=C,E=!1)}this.g=_}var a={};function u(D){return-128<=D&&128>D?s(D,function(y){return new o([y|0],0>y?-1:0)}):new o([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return R(l(-D));for(var y=[],_=1,E=0;D>=_;E++)y[E]=D/_|0,_*=4294967296;return new o(y,0)}function h(D,y){if(D.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(D.charAt(0)=="-")return R(h(D.substring(1),y));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(y,8)),E=p,T=0;T<D.length;T+=8){var C=Math.min(8,D.length-T),I=parseInt(D.substring(T,T+C),y);8>C?(C=l(Math.pow(y,C)),E=E.j(C).add(l(I))):(E=E.j(_),E=E.add(l(I)))}return E}var p=u(0),m=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(M(this))return-R(this).m();for(var D=0,y=1,_=0;_<this.g.length;_++){var E=this.i(_);D+=(0<=E?E:4294967296+E)*y,y*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(M(this))return"-"+R(this).toString(D);for(var y=l(Math.pow(D,6)),_=this,E="";;){var T=se(_,y).g;_=k(_,T.j(y));var C=((0<_.g.length?_.g[0]:_.h)>>>0).toString(D);if(_=T,S(_))return C+E;for(;6>C.length;)C="0"+C;E=C+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var y=0;y<D.g.length;y++)if(D.g[y]!=0)return!1;return!0}function M(D){return D.h==-1}t.l=function(D){return D=k(this,D),M(D)?-1:S(D)?0:1};function R(D){for(var y=D.g.length,_=[],E=0;E<y;E++)_[E]=~D.g[E];return new o(_,~D.h).add(m)}t.abs=function(){return M(this)?R(this):this},t.add=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0,T=0;T<=y;T++){var C=E+(this.i(T)&65535)+(D.i(T)&65535),I=(C>>>16)+(this.i(T)>>>16)+(D.i(T)>>>16);E=I>>>16,C&=65535,I&=65535,_[T]=I<<16|C}return new o(_,_[_.length-1]&-2147483648?-1:0)};function k(D,y){return D.add(R(y))}t.j=function(D){if(S(this)||S(D))return p;if(M(this))return M(D)?R(this).j(R(D)):R(R(this).j(D));if(M(D))return R(this.j(R(D)));if(0>this.l(v)&&0>D.l(v))return l(this.m()*D.m());for(var y=this.g.length+D.g.length,_=[],E=0;E<2*y;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(var T=0;T<D.g.length;T++){var C=this.i(E)>>>16,I=this.i(E)&65535,Sn=D.i(T)>>>16,yo=D.i(T)&65535;_[2*E+2*T]+=I*yo,$(_,2*E+2*T),_[2*E+2*T+1]+=C*yo,$(_,2*E+2*T+1),_[2*E+2*T+1]+=I*Sn,$(_,2*E+2*T+1),_[2*E+2*T+2]+=C*Sn,$(_,2*E+2*T+2)}for(E=0;E<y;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=y;E<2*y;E++)_[E]=0;return new o(_,0)};function $(D,y){for(;(D[y]&65535)!=D[y];)D[y+1]+=D[y]>>>16,D[y]&=65535,y++}function q(D,y){this.g=D,this.h=y}function se(D,y){if(S(y))throw Error("division by zero");if(S(D))return new q(p,p);if(M(D))return y=se(R(D),y),new q(R(y.g),R(y.h));if(M(y))return y=se(D,R(y)),new q(R(y.g),y.h);if(30<D.g.length){if(M(D)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var _=m,E=y;0>=E.l(D);)_=Me(_),E=Me(E);var T=Z(_,1),C=Z(E,1);for(E=Z(E,2),_=Z(_,2);!S(E);){var I=C.add(E);0>=I.l(D)&&(T=T.add(_),C=I),E=Z(E,1),_=Z(_,1)}return y=k(D,T.j(y)),new q(T,y)}for(T=p;0<=D.l(y);){for(_=Math.max(1,Math.floor(D.m()/y.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),C=l(_),I=C.j(y);M(I)||0<I.l(D);)_-=E,C=l(_),I=C.j(y);S(C)&&(C=m),T=T.add(C),D=k(D,I)}return new q(T,D)}t.A=function(D){return se(this,D).h},t.and=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)&D.i(E);return new o(_,this.h&D.h)},t.or=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)|D.i(E);return new o(_,this.h|D.h)},t.xor=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)^D.i(E);return new o(_,this.h^D.h)};function Me(D){for(var y=D.g.length+1,_=[],E=0;E<y;E++)_[E]=D.i(E)<<1|D.i(E-1)>>>31;return new o(_,D.h)}function Z(D,y){var _=y>>5;y%=32;for(var E=D.g.length-_,T=[],C=0;C<E;C++)T[C]=0<y?D.i(C+_)>>>y|D.i(C+_+1)<<32-y:D.i(C+_);return new o(T,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Dy=LS.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,kr=LS.Integer=o}).apply(typeof kS<"u"?kS:typeof self<"u"?self:typeof window<"u"?window:{});var wd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yn={};var Ty,by,Ks,Cy,za,Ed,Sy,Ay,Ry;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof wd=="object"&&wd];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function v(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,A){for(var P=Array(arguments.length-2),we=2;we<arguments.length;we++)P[we-2]=arguments[we];return d.prototype[b].apply(g,P)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,A=g.length||0;c.length=b+A;for(let P=0;P<A;P++)c[b+P]=g[P]}else c.push(g)}}class k{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function $(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function se(c){return se[" "](c),c}se[" "]=function(){};var Me=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function Z(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let A=0;A<_.length;A++)f=_[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function C(c){a.setTimeout(()=>{throw c},0)}function I(){var c=hh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Sn{constructor(){this.h=this.g=null}add(d,f){let g=yo.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var yo=new k(()=>new PA,c=>c.reset());class PA{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let vo,_o=!1,hh=new Sn,F_=()=>{let c=a.Promise.resolve(void 0);vo=()=>{c.then(OA)}};var OA=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){C(f)}var d=yo;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}_o=!1};function nr(){this.s=this.s,this.C=this.C}nr.prototype.s=!1,nr.prototype.ma=function(){this.s||(this.s=!0,this.N())},nr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var kA=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Io(c,d){if(nt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Me){e:{try{se(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:LA[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Io.aa.h.call(this)}}S(Io,nt);var LA={2:"touch",3:"pen",4:"mouse"};Io.prototype.h=function(){Io.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var wo="closure_listenable_"+(1e6*Math.random()|0),FA=0;function VA(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++FA,this.da=this.fa=!1}function mc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function yc(c){this.src=c,this.g={},this.h=0}yc.prototype.add=function(c,d,f,g,b){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var P=ph(c,d,g,b);return-1<P?(d=c[P],f||(d.fa=!1)):(d=new VA(d,this.src,A,!!g,b),d.fa=f,c.push(d)),d};function fh(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=b)&&Array.prototype.splice.call(g,b,1),A&&(mc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function ph(c,d,f,g){for(var b=0;b<c.length;++b){var A=c[b];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return b}return-1}var gh="closure_lm_"+(1e6*Math.random()|0),mh={};function V_(c,d,f,g,b){if(g&&g.once)return j_(c,d,f,g,b);if(Array.isArray(d)){for(var A=0;A<d.length;A++)V_(c,d[A],f,g,b);return null}return f=Ih(f),c&&c[wo]?c.K(d,f,l(g)?!!g.capture:!!g,b):U_(c,d,f,!1,g,b)}function U_(c,d,f,g,b,A){if(!d)throw Error("Invalid event type");var P=l(b)?!!b.capture:!!b,we=vh(c);if(we||(c[gh]=we=new yc(c)),f=we.add(d,f,g,P,A),f.proxy)return f;if(g=UA(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)kA||(b=P),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent($_(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function UA(){function c(f){return d.call(c.src,c.listener,f)}let d=jA;return c}function j_(c,d,f,g,b){if(Array.isArray(d)){for(var A=0;A<d.length;A++)j_(c,d[A],f,g,b);return null}return f=Ih(f),c&&c[wo]?c.L(d,f,l(g)?!!g.capture:!!g,b):U_(c,d,f,!0,g,b)}function B_(c,d,f,g,b){if(Array.isArray(d))for(var A=0;A<d.length;A++)B_(c,d[A],f,g,b);else g=l(g)?!!g.capture:!!g,f=Ih(f),c&&c[wo]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=ph(A,f,g,b),-1<f&&(mc(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=vh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=ph(d,f,g,b)),(f=-1<c?d[c]:null)&&yh(f))}function yh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[wo])fh(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent($_(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=vh(d))?(fh(f,c),f.h==0&&(f.src=null,d[gh]=null)):mc(c)}}}function $_(c){return c in mh?mh[c]:mh[c]="on"+c}function jA(c,d){if(c.da)c=!0;else{d=new Io(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&yh(c),c=f.call(g,d)}return c}function vh(c){return c=c[gh],c instanceof yc?c:null}var _h="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ih(c){return typeof c=="function"?c:(c[_h]||(c[_h]=function(d){return c.handleEvent(d)}),c[_h])}function rt(){nr.call(this),this.i=new yc(this),this.M=this,this.F=null}S(rt,nr),rt.prototype[wo]=!0,rt.prototype.removeEventListener=function(c,d,f,g){B_(this,c,d,f,g)};function ft(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new nt(d,c);else if(d instanceof nt)d.target=d.target||c;else{var b=d;d=new nt(g,c),E(d,b)}if(b=!0,f)for(var A=f.length-1;0<=A;A--){var P=d.g=f[A];b=vc(P,g,!0,d)&&b}if(P=d.g=c,b=vc(P,g,!0,d)&&b,b=vc(P,g,!1,d)&&b,f)for(A=0;A<f.length;A++)P=d.g=f[A],b=vc(P,g,!1,d)&&b}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)mc(f[g]);delete c.g[d],c.h--}}this.F=null},rt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},rt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function vc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,A=0;A<d.length;++A){var P=d[A];if(P&&!P.da&&P.capture==f){var we=P.listener,Ze=P.ha||P.src;P.fa&&fh(c.i,P),b=we.call(Ze,g)!==!1&&b}}return b&&!g.defaultPrevented}function H_(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function q_(c){c.g=H_(()=>{c.g=null,c.i&&(c.i=!1,q_(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class BA extends nr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:q_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Eo(c){nr.call(this),this.h=c,this.g={}}S(Eo,nr);var z_=[];function G_(c){Z(c.g,function(d,f){this.g.hasOwnProperty(f)&&yh(d)},c),c.g={}}Eo.prototype.N=function(){Eo.aa.N.call(this),G_(this)},Eo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wh=a.JSON.stringify,$A=a.JSON.parse,HA=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Eh(){}Eh.prototype.h=null;function W_(c){return c.h||(c.h=c.i())}function K_(){}var Do={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dh(){nt.call(this,"d")}S(Dh,nt);function Th(){nt.call(this,"c")}S(Th,nt);var Br={},Q_=null;function _c(){return Q_=Q_||new rt}Br.La="serverreachability";function Y_(c){nt.call(this,Br.La,c)}S(Y_,nt);function To(c){let d=_c();ft(d,new Y_(d))}Br.STAT_EVENT="statevent";function Z_(c,d){nt.call(this,Br.STAT_EVENT,c),this.stat=d}S(Z_,nt);function pt(c){let d=_c();ft(d,new Z_(d,c))}Br.Ma="timingevent";function J_(c,d){nt.call(this,Br.Ma,c),this.size=d}S(J_,nt);function bo(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Co(){this.g=!0}Co.prototype.xa=function(){this.g=!1};function qA(c,d,f,g,b,A){c.info(function(){if(c.g)if(A)for(var P="",we=A.split("&"),Ze=0;Ze<we.length;Ze++){var pe=we[Ze].split("=");if(1<pe.length){var it=pe[0];pe=pe[1];var st=it.split("_");P=2<=st.length&&st[1]=="type"?P+(it+"="+pe+"&"):P+(it+"=redacted&")}}else P=null;else P=A;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+P})}function zA(c,d,f,g,b,A,P){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+A+" "+P})}function Bi(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+WA(c,f)+(g?" "+g:"")})}function GA(c,d){c.info(function(){return"TIMEOUT: "+d})}Co.prototype.info=function(){};function WA(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var P=1;P<b.length;P++)b[P]=""}}}}return wh(f)}catch{return d}}var Ic={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},X_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bh;function wc(){}S(wc,Eh),wc.prototype.g=function(){return new XMLHttpRequest},wc.prototype.i=function(){return{}},bh=new wc;function rr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Eo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new eI}function eI(){this.i=null,this.g="",this.h=!1}var tI={},Ch={};function Sh(c,d,f){c.L=1,c.v=bc(An(d)),c.m=f,c.P=!0,nI(c,null)}function nI(c,d){c.F=Date.now(),Ec(c),c.A=An(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),mI(f.i,"t",g),c.C=0,f=c.j.J,c.h=new eI,c.g=OI(c.j,f?d:null,!c.m),0<c.O&&(c.M=new BA(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(z_[0]=b.toString()),b=z_);for(var A=0;A<b.length;A++){var P=V_(f,b[A],g||d.handleEvent,!1,d.h||d);if(!P)break;d.g[P.key]=P}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),To(),qA(c.i,c.u,c.A,c.l,c.R,c.m)}rr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Rn(c)==3?d.j():this.Y(c)},rr.prototype.Y=function(c){try{if(c==this.g)e:{let st=Rn(this.g);var d=this.g.Ba();let qi=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||DI(this.g)))){this.J||st!=4||d==7||(d==8||0>=qi?To(3):To(2)),Ah(this);var f=this.g.Z();this.X=f;t:if(rI(this)){var g=DI(this.g);c="";var b=g.length,A=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$r(this),So(this);var P="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=f==200,zA(this.i,this.u,this.A,this.l,this.R,st,f),this.o){if(this.T&&!this.K){t:{if(this.g){var we,Ze=this.g;if((we=Ze.g?Ze.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(we)){var pe=we;break t}}pe=null}if(f=pe)Bi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rh(this,f);else{this.o=!1,this.s=3,pt(12),$r(this),So(this);break e}}if(this.P){f=!0;let $t;for(;!this.J&&this.C<P.length;)if($t=KA(this,P),$t==Ch){st==4&&(this.s=4,pt(14),f=!1),Bi(this.i,this.l,null,"[Incomplete Response]");break}else if($t==tI){this.s=4,pt(15),Bi(this.i,this.l,P,"[Invalid Chunk]"),f=!1;break}else Bi(this.i,this.l,$t,null),Rh(this,$t);if(rI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||P.length!=0||this.h.h||(this.s=1,pt(16),f=!1),this.o=this.o&&f,!f)Bi(this.i,this.l,P,"[Invalid Chunked Response]"),$r(this),So(this);else if(0<P.length&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.ba&&!it.M&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),kh(it),it.M=!0,pt(11))}}else Bi(this.i,this.l,P,null),Rh(this,P);st==4&&$r(this),this.o&&!this.J&&(st==4?NI(this.j,this):(this.o=!1,Ec(this)))}else dR(this.g),f==400&&0<P.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),$r(this),So(this)}}}catch{}finally{}};function rI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function KA(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Ch:(f=Number(d.substring(f,g)),isNaN(f)?tI:(g+=1,g+f>d.length?Ch:(d=d.slice(g,g+f),c.C=g+f,d)))}rr.prototype.cancel=function(){this.J=!0,$r(this)};function Ec(c){c.S=Date.now()+c.I,iI(c,c.I)}function iI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=bo(m(c.ba,c),d)}function Ah(c){c.B&&(a.clearTimeout(c.B),c.B=null)}rr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(GA(this.i,this.A),this.L!=2&&(To(),pt(17)),$r(this),this.s=2,So(this)):iI(this,this.S-c)};function So(c){c.j.G==0||c.J||NI(c.j,c)}function $r(c){Ah(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,G_(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Rh(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Nh(f.h,c))){if(!c.K&&Nh(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Nc(f),Ac(f);else break e;Oh(f),pt(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=bo(m(f.Za,f),6e3));if(1>=aI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else qr(f,11)}else if((c.K||f.g==c)&&Nc(f),!$(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let pe=b[d];if(f.T=pe[0],pe=pe[1],f.G==2)if(pe[0]=="c"){f.K=pe[1],f.ia=pe[2];let it=pe[3];it!=null&&(f.la=it,f.j.info("VER="+f.la));let st=pe[4];st!=null&&(f.Aa=st,f.j.info("SVER="+f.Aa));let qi=pe[5];qi!=null&&typeof qi=="number"&&0<qi&&(g=1.5*qi,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let $t=c.g;if($t){let xc=$t.g?$t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xc){var A=g.h;A.g||xc.indexOf("spdy")==-1&&xc.indexOf("quic")==-1&&xc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Mh(A,A.h),A.h=null))}if(g.D){let Lh=$t.g?$t.g.getResponseHeader("X-HTTP-Session-Id"):null;Lh&&(g.ya=Lh,Se(g.I,g.D,Lh))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var P=c;if(g.qa=PI(g,g.J?g.ia:null,g.W),P.K){cI(g.h,P);var we=P,Ze=g.L;Ze&&(we.I=Ze),we.B&&(Ah(we),Ec(we)),g.g=P}else AI(g);0<f.i.length&&Rc(f)}else pe[0]!="stop"&&pe[0]!="close"||qr(f,7);else f.G==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?qr(f,7):Ph(f):pe[0]!="noop"&&f.l&&f.l.ta(pe),f.v=0)}}To(4)}catch{}}var QA=class{constructor(c,d){this.g=c,this.map=d}};function sI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function oI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function aI(c){return c.h?1:c.g?c.g.size:0}function Nh(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Mh(c,d){c.g?c.g.add(d):c.h=d}function cI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}sI.prototype.cancel=function(){if(this.i=uI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function uI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function YA(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function ZA(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function lI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=ZA(c),g=YA(c),b=g.length,A=0;A<b;A++)d.call(void 0,g[A],f&&f[A],c)}var dI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function JA(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var A=c[f].substring(0,g);b=c[f].substring(g+1)}else A=c[f];d(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Hr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Hr){this.h=c.h,Dc(this,c.j),this.o=c.o,this.g=c.g,Tc(this,c.s),this.l=c.l;var d=c.i,f=new No;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),hI(this,f),this.m=c.m}else c&&(d=String(c).match(dI))?(this.h=!1,Dc(this,d[1]||"",!0),this.o=Ao(d[2]||""),this.g=Ao(d[3]||"",!0),Tc(this,d[4]),this.l=Ao(d[5]||"",!0),hI(this,d[6]||"",!0),this.m=Ao(d[7]||"")):(this.h=!1,this.i=new No(null,this.h))}Hr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Ro(d,fI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Ro(d,fI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Ro(f,f.charAt(0)=="/"?tR:eR,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Ro(f,rR)),c.join("")};function An(c){return new Hr(c)}function Dc(c,d,f){c.j=f?Ao(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Tc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function hI(c,d,f){d instanceof No?(c.i=d,iR(c.i,c.h)):(f||(d=Ro(d,nR)),c.i=new No(d,c.h))}function Se(c,d,f){c.i.set(d,f)}function bc(c){return Se(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ao(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ro(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,XA),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function XA(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var fI=/[#\/\?@]/g,eR=/[#\?:]/g,tR=/[#\?]/g,nR=/[#\?@]/g,rR=/#/g;function No(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function ir(c){c.g||(c.g=new Map,c.h=0,c.i&&JA(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=No.prototype,t.add=function(c,d){ir(this),this.i=null,c=$i(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function pI(c,d){ir(c),d=$i(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function gI(c,d){return ir(c),d=$i(c,d),c.g.has(d)}t.forEach=function(c,d){ir(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},t.na=function(){ir(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let A=0;A<b.length;A++)f.push(d[g])}return f},t.V=function(c){ir(this);let d=[];if(typeof c=="string")gI(this,c)&&(d=d.concat(this.g.get($i(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return ir(this),this.i=null,c=$i(this,c),gI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function mI(c,d,f){pI(c,d),0<f.length&&(c.i=null,c.g.set($i(c,d),M(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),P=this.V(g);for(g=0;g<P.length;g++){var b=A;P[g]!==""&&(b+="="+encodeURIComponent(String(P[g]))),c.push(b)}}return this.i=c.join("&")};function $i(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function iR(c,d){d&&!c.j&&(ir(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(pI(this,g),mI(this,b,f))},c)),c.j=d}function sR(c,d){let f=new Co;if(a.Image){let g=new Image;g.onload=v(sr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=v(sr,f,"TestLoadImage: error",!1,d,g),g.onabort=v(sr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=v(sr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function oR(c,d){let f=new Co,g=new AbortController,b=setTimeout(()=>{g.abort(),sr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(b),A.ok?sr(f,"TestPingServer: ok",!0,d):sr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),sr(f,"TestPingServer: error",!1,d)})}function sr(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function aR(){this.g=new HA}function cR(c,d,f){let g=f||"";try{lI(c,function(b,A){let P=b;l(b)&&(P=wh(b)),d.push(g+A+"="+encodeURIComponent(P))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function Mo(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Mo,Eh),Mo.prototype.g=function(){return new Cc(this.l,this.j)},Mo.prototype.i=function(c){return function(){return c}}({});function Cc(c,d){rt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Cc,rt),t=Cc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Po(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xo(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Po(this)),this.g&&(this.readyState=3,Po(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function yI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?xo(this):Po(this),this.readyState==3&&yI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,xo(this))},t.Qa=function(c){this.g&&(this.response=c,xo(this))},t.ga=function(){this.g&&xo(this)};function xo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Po(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Po(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Cc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function vI(c){let d="";return Z(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function xh(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=vI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Se(c,d,f))}function xe(c){rt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(xe,rt);var uR=/^https?$/i,lR=["POST","PUT"];t=xe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bh.g(),this.v=this.o?W_(this.o):W_(bh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){_I(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(lR,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,P]of f)this.g.setRequestHeader(A,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{EI(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){_I(this,A)}};function _I(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,II(c),Sc(c)}function II(c){c.A||(c.A=!0,ft(c,"complete"),ft(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ft(this,"complete"),ft(this,"abort"),Sc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sc(this,!0)),xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?wI(this):this.bb())},t.bb=function(){wI(this)};function wI(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Rn(c)!=4||c.Z()!=2)){if(c.u&&Rn(c)==4)H_(c.Ea,0,c);else if(ft(c,"readystatechange"),Rn(c)==4){c.h=!1;try{let P=c.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=P===0){var b=String(c.D).match(dI)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!uR.test(b?b.toLowerCase():"")}f=g}if(f)ft(c,"complete"),ft(c,"success");else{c.m=6;try{var A=2<Rn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",II(c)}}finally{Sc(c)}}}}function Sc(c,d){if(c.g){EI(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||ft(c,"ready");try{f.onreadystatechange=g}catch{}}}function EI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Rn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Rn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),$A(d)}};function DI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function dR(c){let d={};c=(c.g&&2<=Rn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if($(c[g]))continue;var f=T(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[b]||[];d[b]=A,A.push(f)}D(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oo(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function TI(c){this.Aa=0,this.i=[],this.j=new Co,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Oo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Oo("baseRetryDelayMs",5e3,c),this.cb=Oo("retryDelaySeedMs",1e4,c),this.Wa=Oo("forwardChannelMaxRetries",2,c),this.wa=Oo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new sI(c&&c.concurrentRequestLimit),this.Da=new aR,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=TI.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){pt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=PI(this,null,this.W),Rc(this)};function Ph(c){if(bI(c),c.G==3){var d=c.U++,f=An(c.I);if(Se(f,"SID",c.K),Se(f,"RID",d),Se(f,"TYPE","terminate"),ko(c,f),d=new rr(c,c.j,d),d.L=2,d.v=bc(An(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=OI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Ec(d)}xI(c)}function Ac(c){c.g&&(kh(c),c.g.cancel(),c.g=null)}function bI(c){Ac(c),c.u&&(a.clearTimeout(c.u),c.u=null),Nc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Rc(c){if(!oI(c.h)&&!c.s){c.s=!0;var d=c.Ga;vo||F_(),_o||(vo(),_o=!0),hh.add(d,c),c.B=0}}function hR(c,d){return aI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=bo(m(c.Ga,c,d),MI(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new rr(this,this.j,c),A=this.o;if(this.S&&(A?(A=y(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=SI(this,b,d),f=An(this.I),Se(f,"RID",c),Se(f,"CVER",22),this.D&&Se(f,"X-HTTP-Session-Id",this.D),ko(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(vI(A)))+"&"+d:this.m&&xh(f,this.m,A)),Mh(this.h,b),this.Ua&&Se(f,"TYPE","init"),this.P?(Se(f,"$req",d),Se(f,"SID","null"),b.T=!0,Sh(b,f,null)):Sh(b,f,d),this.G=2}}else this.G==3&&(c?CI(this,c):this.i.length==0||oI(this.h)||CI(this))};function CI(c,d){var f;d?f=d.l:f=c.U++;let g=An(c.I);Se(g,"SID",c.K),Se(g,"RID",f),Se(g,"AID",c.T),ko(c,g),c.m&&c.o&&xh(g,c.m,c.o),f=new rr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=SI(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Mh(c.h,f),Sh(f,g,d)}function ko(c,d){c.H&&Z(c.H,function(f,g){Se(d,g,f)}),c.l&&lI({},function(f,g){Se(d,g,f)})}function SI(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let A=-1;for(;;){let P=["count="+f];A==-1?0<f?(A=b[0].g,P.push("ofs="+A)):A=0:P.push("ofs="+A);let we=!0;for(let Ze=0;Ze<f;Ze++){let pe=b[Ze].g,it=b[Ze].map;if(pe-=A,0>pe)A=Math.max(0,b[Ze].g-100),we=!1;else try{cR(it,P,"req"+pe+"_")}catch{g&&g(it)}}if(we){g=P.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function AI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;vo||F_(),_o||(vo(),_o=!0),hh.add(d,c),c.v=0}}function Oh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=bo(m(c.Fa,c),MI(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,RI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=bo(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),Ac(this),RI(this))};function kh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function RI(c){c.g=new rr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=An(c.qa);Se(d,"RID","rpc"),Se(d,"SID",c.K),Se(d,"AID",c.T),Se(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Se(d,"TO",c.ja),Se(d,"TYPE","xmlhttp"),ko(c,d),c.m&&c.o&&xh(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=bc(An(d)),f.m=null,f.P=!0,nI(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Ac(this),Oh(this),pt(19))};function Nc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function NI(c,d){var f=null;if(c.g==d){Nc(c),kh(c),c.g=null;var g=2}else if(Nh(c.h,d))f=d.D,cI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=_c(),ft(g,new J_(g,f)),Rc(c)}else AI(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&hR(c,d)||g==2&&Oh(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:qr(c,5);break;case 4:qr(c,10);break;case 3:qr(c,6);break;default:qr(c,2)}}}function MI(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function qr(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let b=!g;g=new Hr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Dc(g,"https"),bc(g),b?sR(g.toString(),f):oR(g.toString(),f)}else pt(2);c.G=0,c.l&&c.l.sa(d),xI(c),bI(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function xI(c){if(c.G=0,c.ka=[],c.l){let d=uI(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function PI(c,d,f){var g=f instanceof Hr?An(f):new Hr(f);if(g.g!="")d&&(g.g=d+"."+g.g),Tc(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var A=new Hr(null);g&&Dc(A,g),d&&(A.g=d),b&&Tc(A,b),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Se(g,f,d),Se(g,"VER",c.la),ko(c,g),g}function OI(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new xe(new Mo({eb:f})):new xe(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function kI(){}t=kI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Mc(){}Mc.prototype.g=function(c,d){return new Et(c,d)};function Et(c,d){rt.call(this),this.g=new TI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!$(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!$(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Hi(this)}S(Et,rt),Et.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Et.prototype.close=function(){Ph(this.g)},Et.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=wh(c),c=f);d.i.push(new QA(d.Ya++,c)),d.G==3&&Rc(d)},Et.prototype.N=function(){this.g.l=null,delete this.j,Ph(this.g),delete this.g,Et.aa.N.call(this)};function LI(c){Dh.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(LI,Dh);function FI(){Th.call(this),this.status=1}S(FI,Th);function Hi(c){this.g=c}S(Hi,kI),Hi.prototype.ua=function(){ft(this.g,"a")},Hi.prototype.ta=function(c){ft(this.g,new LI(c))},Hi.prototype.sa=function(c){ft(this.g,new FI)},Hi.prototype.ra=function(){ft(this.g,"b")},Mc.prototype.createWebChannel=Mc.prototype.g,Et.prototype.send=Et.prototype.o,Et.prototype.open=Et.prototype.m,Et.prototype.close=Et.prototype.close,Ry=Yn.createWebChannelTransport=function(){return new Mc},Ay=Yn.getStatEventTarget=function(){return _c()},Sy=Yn.Event=Br,Ed=Yn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ic.NO_ERROR=0,Ic.TIMEOUT=8,Ic.HTTP_ERROR=6,za=Yn.ErrorCode=Ic,X_.COMPLETE="complete",Cy=Yn.EventType=X_,K_.EventType=Do,Do.OPEN="a",Do.CLOSE="b",Do.ERROR="c",Do.MESSAGE="d",rt.prototype.listen=rt.prototype.K,Ks=Yn.WebChannel=K_,by=Yn.FetchXmlHttpFactory=Mo,xe.prototype.listenOnce=xe.prototype.L,xe.prototype.getLastError=xe.prototype.Ka,xe.prototype.getLastErrorCode=xe.prototype.Ba,xe.prototype.getStatus=xe.prototype.Z,xe.prototype.getResponseJson=xe.prototype.Oa,xe.prototype.getResponseText=xe.prototype.oa,xe.prototype.send=xe.prototype.ea,xe.prototype.setWithCredentials=xe.prototype.Ha,Ty=Yn.XhrIo=xe}).apply(typeof wd<"u"?wd:typeof self<"u"?self:typeof window<"u"?window:{});var FS="@firebase/firestore";var Ye=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");var po="10.13.1";var xi=new Sr("@firebase/firestore");function Ga(){return xi.logLevel}function V(t,...e){if(xi.logLevel<=ce.DEBUG){let n=e.map(m_);xi.debug(`Firestore (${po}): ${t}`,...n)}}function Jn(t,...e){if(xi.logLevel<=ce.ERROR){let n=e.map(m_);xi.error(`Firestore (${po}): ${t}`,...n)}}function to(t,...e){if(xi.logLevel<=ce.WARN){let n=e.map(m_);xi.warn(`Firestore (${po}): ${t}`,...n)}}function m_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function W(t="Unexpected state"){let e=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: `+t;throw Jn(e),new Error(e)}function Te(t,e){t||W()}function Y(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends Mt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Zn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Sd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Oy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ye.UNAUTHENTICATED))}shutdown(){}},ky=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Ly=class{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new Zn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Zn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Zn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string"),new Sd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string"),new Ye(e)}},Fy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Vy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Fy(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Uy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},jy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,V("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string"),this.R=n.token,new Uy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function E2(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Ad=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=E2(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ge(t,e){return t<e?-1:t>e?1:0}function no(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var tt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var X=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new tt(0,0))}static max(){return new t(new tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Rd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&W(),r===void 0?r=e.length-n:r>e.length-n&&W(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ne=class t extends Rd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},D2=/^[_a-zA-Z][_a-zA-Z0-9]*$/,xt=class t extends Rd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return D2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new L(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new L(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var H=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ne.fromString(e))}static fromName(e){return new t(Ne.fromString(e).popFirst(5))}static empty(){return new t(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ne(e.slice()))}};var By=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};By.UNKNOWN_ID=-1;function T2(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=X.fromTimestamp(r===1e9?new tt(n+1,0):new tt(n,r));return new Pi(i,H.empty(),e)}function b2(t){return new Pi(t.readTime,t.key,-1)}var Pi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(X.min(),H.empty(),-1)}static max(){return new t(X.max(),H.empty(),-1)}};function C2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}var S2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",$y=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function dc(t){return w(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==S2)throw t;V("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&W(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function A2(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hc(t){return t.name==="IndexedDbTransactionError"}var v0=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function ih(t){return t==null}function Xa(t){return t===0&&1/t==-1/0}function R2(t){return typeof t=="number"&&Number.isInteger(t)&&!Xa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var N2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],E8=[...N2,"documentOverlays"],M2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],x2=M2,P2=[...x2,"indexConfiguration","indexState","indexEntries"];var D8=[...P2,"globals"];function VS(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function go(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Oe=class t{constructor(e,n){this.comparator=e,this.root=n||Dn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Js(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Js(this.root,e,this.comparator,!1)}getReverseIterator(){return new Js(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Js(this.root,e,this.comparator,!0)}},Js=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Dn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw W();let e=this.left.check();if(e!==this.right.check())throw W();return e+(this.isRed()?0:1)}};Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1;Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw W()}get value(){throw W()}get color(){throw W()}get left(){throw W()}get right(){throw W()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var dt=class t{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Nd(this.data.getIterator())}getIteratorFrom(e){return new Nd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Nd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var En=class t{constructor(e){this.fields=e,e.sort(xt.comparator)}static empty(){return new t([])}unionWith(e){let n=new dt(xt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return no(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Md=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ht=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Md("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ht.EMPTY_BYTE_STRING=new ht("");var O2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xn(t){if(Te(!!t),typeof t=="string"){let e=0,n=O2.exec(t);if(Te(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ae(t.seconds),nanos:Ae(t.nanos)}}function Ae(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fr(t){return typeof t=="string"?ht.fromBase64String(t):ht.fromUint8Array(t)}function y_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function v_(t){let e=t.mapValue.fields.__previous_value__;return y_(e)?v_(e):e}function ec(t){let e=Xn(t.mapValue.fields.__local_write_time__.timestampValue);return new tt(e.seconds,e.nanos)}var Hy=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},xd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Dd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Oi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?y_(t)?4:w0(t)?9007199254740991:I0(t)?10:11:W()}function Cn(t,e){if(t===e)return!0;let n=Oi(t);if(n!==Oi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ec(t).isEqual(ec(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Xn(i.timestampValue),a=Xn(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Fr(i.bytesValue).isEqual(Fr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ae(i.geoPointValue.latitude)===Ae(s.geoPointValue.latitude)&&Ae(i.geoPointValue.longitude)===Ae(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ae(i.integerValue)===Ae(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Ae(i.doubleValue),a=Ae(s.doubleValue);return o===a?Xa(o)===Xa(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return no(t.arrayValue.values||[],e.arrayValue.values||[],Cn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(VS(o)!==VS(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Cn(o[u],a[u])))return!1;return!0}(t,e);default:return W()}}function tc(t,e){return(t.values||[]).find(n=>Cn(n,e))!==void 0}function ro(t,e){if(t===e)return 0;let n=Oi(t),r=Oi(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Ae(s.integerValue||s.doubleValue),u=Ae(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return US(t.timestampValue,e.timestampValue);case 4:return US(ec(t),ec(e));case 5:return ge(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Fr(s),u=Fr(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ge(a[l],u[l]);if(h!==0)return h}return ge(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ge(Ae(s.latitude),Ae(o.latitude));return a!==0?a:ge(Ae(s.longitude),Ae(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return jS(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,h;let p=s.fields||{},m=o.fields||{},v=(a=p.value)===null||a===void 0?void 0:a.arrayValue,S=(u=m.value)===null||u===void 0?void 0:u.arrayValue,M=ge(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:jS(v,S)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Dd.mapValue&&o===Dd.mapValue)return 0;if(s===Dd.mapValue)return 1;if(o===Dd.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=ge(u[p],h[p]);if(m!==0)return m;let v=ro(a[u[p]],l[h[p]]);if(v!==0)return v}return ge(u.length,h.length)}(t.mapValue,e.mapValue);default:throw W()}}function US(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);let n=Xn(t),r=Xn(e),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function jS(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=ro(n[i],r[i]);if(s)return s}return ge(n.length,r.length)}function io(t){return qy(t)}function qy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Xn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Fr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return H.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=qy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${qy(n.fields[o])}`;return i+"}"}(t.mapValue):W()}function BS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function zy(t){return!!t&&"integerValue"in t}function __(t){return!!t&&"arrayValue"in t}function $S(t){return!!t&&"nullValue"in t}function HS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bd(t){return!!t&&"mapValue"in t}function I0(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ka(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return go(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ka(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ka(t.arrayValue.values[n]);return e}return Object.assign({},t)}function w0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Xt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ka(n)}setAll(e){let n=xt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ka(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());bd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];bd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){go(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Ka(this.value))}};function E0(t){let e=[];return go(t.fields,(n,r)=>{let i=new xt([n]);if(bd(r)){let s=E0(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new En(e)}var en=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,X.min(),X.min(),X.min(),Xt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,X.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,X.min(),X.min(),Xt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,X.min(),X.min(),Xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var so=class{constructor(e,n){this.position=e,this.inclusive=n}};function qS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=H.comparator(H.fromName(o.referenceValue),n.key):r=ro(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function zS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cn(t.position[n],e.position[n]))return!1;return!0}var ki=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function k2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Pd=class{},$e=class t extends Pd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Wy(e,n,r):n==="array-contains"?new Yy(e,r):n==="in"?new Zy(e,r):n==="not-in"?new Jy(e,r):n==="array-contains-any"?new Xy(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ky(e,r):new Qy(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ro(n,this.value)):n!==null&&Oi(this.value)===Oi(n)&&this.matchesComparison(ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},tn=class t extends Pd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return D0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function D0(t){return t.op==="and"}function T0(t){return L2(t)&&D0(t)}function L2(t){for(let e of t.filters)if(e instanceof tn)return!1;return!0}function Gy(t){if(t instanceof $e)return t.field.canonicalString()+t.op.toString()+io(t.value);if(T0(t))return t.filters.map(e=>Gy(e)).join(",");{let e=t.filters.map(n=>Gy(n)).join(",");return`${t.op}(${e})`}}function b0(t,e){return t instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.field.isEqual(i.field)&&Cn(r.value,i.value)}(t,e):t instanceof tn?function(r,i){return i instanceof tn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&b0(o,i.filters[a]),!0):!1}(t,e):void W()}function C0(t){return t instanceof $e?function(n){return`${n.field.canonicalString()} ${n.op} ${io(n.value)}`}(t):t instanceof tn?function(n){return n.op.toString()+" {"+n.getFilters().map(C0).join(" ,")+"}"}(t):"Filter"}var Wy=class extends $e{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){let n=H.comparator(e.key,this.key);return this.matchesComparison(n)}},Ky=class extends $e{constructor(e,n){super(e,"in",n),this.keys=S0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Qy=class extends $e{constructor(e,n){super(e,"not-in",n),this.keys=S0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function S0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}var Yy=class extends $e{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return __(n)&&tc(n.arrayValue,this.value)}},Zy=class extends $e{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&tc(this.value.arrayValue,n)}},Jy=class extends $e{constructor(e,n){super(e,"not-in",n)}matches(e){if(tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!tc(this.value.arrayValue,n)}},Xy=class extends $e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!__(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>tc(this.value.arrayValue,r))}};var ev=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function GS(t,e=null,n=[],r=[],i=null,s=null,o=null){return new ev(t,e,n,r,i,s,o)}function I_(t){let e=Y(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Gy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ih(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>io(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>io(r)).join(",")),e.ue=n}return e.ue}function w_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!k2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!b0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zS(t.startAt,e.startAt)&&zS(t.endAt,e.endAt)}function tv(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Vr=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function F2(t,e,n,r,i,s,o,a){return new Vr(t,e,n,r,i,s,o,a)}function E_(t){return new Vr(t)}function WS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function A0(t){return t.collectionGroup!==null}function Qa(t){let e=Y(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new dt(xt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ki(s,r))}),n.has(xt.keyField().canonicalString())||e.ce.push(new ki(xt.keyField(),r))}return e.ce}function Tn(t){let e=Y(t);return e.le||(e.le=V2(e,Qa(t))),e.le}function V2(t,e){if(t.limitType==="F")return GS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new ki(i.field,s)});let n=t.endAt?new so(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new so(t.startAt.position,t.startAt.inclusive):null;return GS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function nv(t,e){let n=t.filters.concat([e]);return new Vr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function rv(t,e,n){return new Vr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sh(t,e){return w_(Tn(t),Tn(e))&&t.limitType===e.limitType}function R0(t){return`${I_(Tn(t))}|lt:${t.limitType}`}function Qs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>C0(i)).join(", ")}]`),ih(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>io(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>io(i)).join(",")),`Target(${r})`}(Tn(t))}; limitType=${t.limitType})`}function oh(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):H.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Qa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=qS(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,Qa(r),i)||r.endAt&&!function(o,a,u){let l=qS(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,Qa(r),i))}(t,e)}function U2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function N0(t){return(e,n)=>{let r=!1;for(let i of Qa(t)){let s=j2(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function j2(t,e,n){let r=t.field.isKeyField()?H.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?ro(u,l):W()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return W()}}var Ur=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){go(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return _0(this.inner)}size(){return this.innerSize}};var B2=new Oe(H.comparator);function er(){return B2}var M0=new Oe(H.comparator);function Wa(...t){let e=M0;for(let n of t)e=e.insert(n.key,n);return e}function x0(t){let e=M0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ai(){return Ya()}function P0(){return Ya()}function Ya(){return new Ur(t=>t.toString(),(t,e)=>t.isEqual(e))}var $2=new Oe(H.comparator),H2=new dt(H.comparator);function ue(...t){let e=H2;for(let n of t)e=e.add(n);return e}var q2=new dt(ge);function z2(){return q2}function D_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xa(e)?"-0":e}}function O0(t){return{integerValue:""+t}}function G2(t,e){return R2(e)?O0(e):D_(t,e)}var oo=class{constructor(){this._=void 0}};function W2(t,e,n){return t instanceof ao?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&y_(s)&&(s=v_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Li?L0(t,e):t instanceof Fi?F0(t,e):function(i,s){let o=k0(i,s),a=KS(o)+KS(i.Pe);return zy(o)&&zy(i.Pe)?O0(a):D_(i.serializer,a)}(t,e)}function K2(t,e,n){return t instanceof Li?L0(t,e):t instanceof Fi?F0(t,e):n}function k0(t,e){return t instanceof co?function(r){return zy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var ao=class extends oo{},Li=class extends oo{constructor(e){super(),this.elements=e}};function L0(t,e){let n=V0(e);for(let r of t.elements)n.some(i=>Cn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Fi=class extends oo{constructor(e){super(),this.elements=e}};function F0(t,e){let n=V0(e);for(let r of t.elements)n=n.filter(i=>!Cn(i,r));return{arrayValue:{values:n}}}var co=class extends oo{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function KS(t){return Ae(t.integerValue||t.doubleValue)}function V0(t){return __(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Q2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Li&&i instanceof Li||r instanceof Fi&&i instanceof Fi?no(r.elements,i.elements,Cn):r instanceof co&&i instanceof co?Cn(r.Pe,i.Pe):r instanceof ao&&i instanceof ao}(t.transform,e.transform)}var iv=class{constructor(e,n){this.version=e,this.transformResults=n}},Mi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Cd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var uo=class{};function U0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Od(t.key,Mi.none()):new Vi(t.key,t.data,Mi.none());{let n=t.data,r=Xt.empty(),i=new dt(xt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new tr(t.key,r,new En(i.toArray()),Mi.none())}}function Y2(t,e,n){t instanceof Vi?function(i,s,o){let a=i.value.clone(),u=YS(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof tr?function(i,s,o){if(!Cd(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=YS(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(j0(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Za(t,e,n,r){return t instanceof Vi?function(s,o,a,u){if(!Cd(s.precondition,o))return a;let l=s.value.clone(),h=ZS(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof tr?function(s,o,a,u){if(!Cd(s.precondition,o))return a;let l=ZS(s.fieldTransforms,u,o),h=o.data;return h.setAll(j0(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return Cd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Z2(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=k0(r.transform,i||null);s!=null&&(n===null&&(n=Xt.empty()),n.set(r.field,s))}return n||null}function QS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&no(r,i,(s,o)=>Q2(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Vi=class extends uo{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},tr=class extends uo{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function j0(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function YS(t,e,n){let r=new Map;Te(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,K2(o,a,n[i]))}return r}function ZS(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,W2(s,o,e))}return r}var Od=class extends uo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},sv=class extends uo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var ov=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&Y2(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Za(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Za(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=P0();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=U0(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&no(this.mutations,e.mutations,(n,r)=>QS(n,r))&&no(this.baseMutations,e.baseMutations,(n,r)=>QS(n,r))}},av=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Te(e.mutations.length===r.length);let i=function(){return $2}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var cv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var uv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var je,he;function J2(t){switch(t){default:return W();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function B0(t){if(t===void 0)return Jn("GRPC error has no .code"),N.UNKNOWN;switch(t){case je.OK:return N.OK;case je.CANCELLED:return N.CANCELLED;case je.UNKNOWN:return N.UNKNOWN;case je.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case je.INTERNAL:return N.INTERNAL;case je.UNAVAILABLE:return N.UNAVAILABLE;case je.UNAUTHENTICATED:return N.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case je.NOT_FOUND:return N.NOT_FOUND;case je.ALREADY_EXISTS:return N.ALREADY_EXISTS;case je.PERMISSION_DENIED:return N.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case je.ABORTED:return N.ABORTED;case je.OUT_OF_RANGE:return N.OUT_OF_RANGE;case je.UNIMPLEMENTED:return N.UNIMPLEMENTED;case je.DATA_LOSS:return N.DATA_LOSS;default:return W()}}(he=je||(je={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var JS=null;function X2(){return new TextEncoder}var eB=new kr([4294967295,4294967295],0);function XS(t){let e=X2().encode(t),n=new Dy;return n.update(e),new Uint8Array(n.digest())}function e0(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new kr([n,r],0),new kr([i,s],0)]}var lv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ri(`Invalid padding: ${n}`);if(r<0)throw new Ri(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ri(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ri(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=kr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(kr.fromNumber(r)));return i.compare(eB)===1&&(i=new kr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=XS(e),[r,i]=e0(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=XS(e),[r,i]=e0(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ri=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var kd=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,nc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(X.min(),i,new Oe(ge),er(),ue())}},nc=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ue(),ue(),ue())}};var Xs=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Ld=class{constructor(e,n){this.targetId=e,this.me=n}},Fd=class{constructor(e,n,r=ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Vd=class{constructor(){this.fe=0,this.ge=n0(),this.pe=ht.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ue(),n=ue(),r=ue();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:W()}}),new nc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=n0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Te(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},dv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=er(),this.qe=t0(),this.Qe=new Oe(ge)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:W()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(tv(s))if(r===0){let o=new H(s.path);this.Ue(n,o,en.newNoDocument(o,X.min()))}else Te(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}JS?.et(function(h,p,m,v,S){var M,R,k,$,q,se;let Me={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},Z=p.unchangedNames;return Z&&(Me.bloomFilter={applied:S===0,hashCount:(M=Z?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:($=(k=(R=Z?.bits)===null||R===void 0?void 0:R.bitmap)===null||k===void 0?void 0:k.length)!==null&&$!==void 0?$:0,padding:(se=(q=Z?.bits)===null||q===void 0?void 0:q.padding)!==null&&se!==void 0?se:0,mightContain:D=>{var y;return(y=v?.mightContain(D))!==null&&y!==void 0&&y}}),Me}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Fr(r).toUint8Array()}catch(u){if(u instanceof Md)return to("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new lv(o,i,s)}catch(u){return to(u instanceof Ri?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&tv(a.target)){let u=new H(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,en.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ue();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new kd(e,n,this.Qe,this.ke,r);return this.ke=er(),this.qe=t0(),this.Qe=new Oe(ge),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Vd,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new dt(ge),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Vd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function t0(){return new Oe(H.comparator)}function n0(){return new Oe(H.comparator)}var tB={asc:"ASCENDING",desc:"DESCENDING"},nB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rB={and:"AND",or:"OR"},hv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function fv(t,e){return t.useProto3Json||ih(e)?e:{value:e}}function Ud(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function iB(t,e){return Ud(t,e.toTimestamp())}function bn(t){return Te(!!t),X.fromTimestamp(function(n){let r=Xn(n);return new tt(r.seconds,r.nanos)}(t))}function T_(t,e){return pv(t,e).canonicalString()}function pv(t,e){let n=function(i){return new Ne(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function H0(t){let e=Ne.fromString(t);return Te(K0(e)),e}function gv(t,e){return T_(t.databaseId,e.path)}function Ny(t,e){let n=H0(e);if(n.get(1)!==t.databaseId.projectId)throw new L(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(z0(n))}function q0(t,e){return T_(t.databaseId,e)}function sB(t){let e=H0(t);return e.length===4?Ne.emptyPath():z0(e)}function mv(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function z0(t){return Te(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function r0(t,e,n){return{name:gv(t,e),fields:n.value.mapValue.fields}}function oB(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:W()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(Te(h===void 0||typeof h=="string"),ht.fromBase64String(h||"")):(Te(h===void 0||h instanceof Buffer||h instanceof Uint8Array),ht.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let h=l.code===void 0?N.UNKNOWN:B0(l.code);return new L(h,l.message||"")}(o);n=new Fd(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Ny(t,r.document.name),s=bn(r.document.updateTime),o=r.document.createTime?bn(r.document.createTime):X.min(),a=new Xt({mapValue:{fields:r.document.fields}}),u=en.newFoundDocument(i,s,o,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Xs(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Ny(t,r.document),s=r.readTime?bn(r.readTime):X.min(),o=en.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Xs([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Ny(t,r.document),s=r.removedTargetIds||[];n=new Xs([],s,i,null)}else{if(!("filter"in e))return W();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new uv(i,s),a=r.targetId;n=new Ld(a,o)}}return n}function aB(t,e){let n;if(e instanceof Vi)n={update:r0(t,e.key,e.value)};else if(e instanceof Od)n={delete:gv(t,e.key)};else if(e instanceof tr)n={update:r0(t,e.key,e.data),updateMask:mB(e.fieldMask)};else{if(!(e instanceof sv))return W();n={verify:gv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof ao)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Li)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Fi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof co)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw W()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:iB(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:W()}(t,e.precondition)),n}function cB(t,e){return t&&t.length>0?(Te(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?bn(i.updateTime):bn(s);return o.isEqual(X.min())&&(o=bn(s)),new iv(o,i.transformResults||[])}(n,e))):[]}function uB(t,e){return{documents:[q0(t,e.path)]}}function lB(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=q0(t,i);let s=function(l){if(l.length!==0)return W0(tn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:Ys(m.field),direction:fB(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=fv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function dB(t){let e=sB(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Te(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){let m=G0(p);return m instanceof tn&&T0(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(S){return new ki(Zs(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,ih(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,v=p.values||[];return new so(v,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,v=p.values||[];return new so(v,m)}(n.endAt)),F2(e,i,o,s,a,"F",u,l)}function hB(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function G0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Zs(n.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Zs(n.unaryFilter.field);return $e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Zs(n.unaryFilter.field);return $e.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Zs(n.unaryFilter.field);return $e.create(o,"!=",{nullValue:"NULL_VALUE"});default:return W()}}(t):t.fieldFilter!==void 0?function(n){return $e.create(Zs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return W()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return tn.create(n.compositeFilter.filters.map(r=>G0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return W()}}(n.compositeFilter.op))}(t):W()}function fB(t){return tB[t]}function pB(t){return nB[t]}function gB(t){return rB[t]}function Ys(t){return{fieldPath:t.canonicalString()}}function Zs(t){return xt.fromServerFormat(t.fieldPath)}function W0(t){return t instanceof $e?function(n){if(n.op==="=="){if(HS(n.value))return{unaryFilter:{field:Ys(n.field),op:"IS_NAN"}};if($S(n.value))return{unaryFilter:{field:Ys(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(HS(n.value))return{unaryFilter:{field:Ys(n.field),op:"IS_NOT_NAN"}};if($S(n.value))return{unaryFilter:{field:Ys(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ys(n.field),op:pB(n.op),value:n.value}}}(t):t instanceof tn?function(n){let r=n.getFilters().map(i=>W0(i));return r.length===1?r[0]:{compositeFilter:{op:gB(n.op),filters:r}}}(t):W()}function mB(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function K0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var rc=class t{constructor(e,n,r,i,s=X.min(),o=X.min(),a=ht.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var yv=class{constructor(e){this.ct=e}};function yB(t){let e=dB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rv(e,e.limit,"L"):e}var jd=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ae(e.integerValue));else if("doubleValue"in e){let r=Ae(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Xa(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Xn(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Fr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?w0(e)?this.dt(n,Number.MAX_SAFE_INTEGER):I0(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):W()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ae(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),H.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};jd.vt=new jd;var vv=class{constructor(){this.un=new _v}addToCollectionParentIndex(e,n){return this.un.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(Pi.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(Pi.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},_v=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new dt(Ne.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new dt(Ne.comparator)).toArray()}};var b8=new Uint8Array(0);var wn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(41943040,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);var ic=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Iv=class{constructor(){this.changes=new Ur(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var wv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Ev=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Za(r.mutation,i,En.empty(),tt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){let i=Ai();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Wa();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Ai();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=er(),o=Ya(),a=function(){return Ya()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof tr)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),Za(h.mutation,l,h.mutation.getFieldMask(),tt.now())):o.set(l.key,En.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new wv(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Ya(),i=new Oe((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||En.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ue()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=P0();h.forEach(m=>{if(!s.has(m)){let v=U0(n.get(m),r.get(m));v!==null&&p.set(m,v),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return H.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):A0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve(Ai()),a=-1,u=s;return o.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,ue())).next(h=>({batchId:a,changes:x0(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let i=Wa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Wa();return this.indexManager.getCollectionParents(e,s).next(a=>x.forEach(a,u=>{let l=function(p,m){return new Vr(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,en.newInvalidDocument(h)))});let a=Wa();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&Za(h.mutation,l,En.empty(),tt.now()),oh(n,l)&&(a=a.insert(u,l))}),a})}};var Dv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return x.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:bn(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:yB(i.bundledQuery),readTime:bn(i.readTime)}}(n)),x.resolve()}};var Tv=class{constructor(){this.overlays=new Oe(H.comparator),this.Ir=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ai();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=Ai(),s=n.length+1,o=new H(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Oe((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=Ai(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Ai(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new cv(n,r));let s=this.Ir.get(n);s===void 0&&(s=ue(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var bv=class{constructor(){this.sessionToken=ht.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,x.resolve()}};var sc=class{constructor(){this.Tr=new dt(Be.Er),this.dr=new dt(Be.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Be(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Be(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new H(new Ne([])),r=new Be(n,e),i=new Be(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new H(new Ne([])),r=new Be(n,e),i=new Be(n,e+1),s=ue();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Be(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Be=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return H.comparator(e.key,n.key)||ge(e.wr,n.wr)}static Ar(e,n){return ge(e.wr,n.wr)||H.comparator(e.key,n.key)}};var Cv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new dt(Be.Er)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new ov(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new Be(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Be(n,0),i=new Be(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dt(ge);return n.forEach(i=>{let s=new Be(i,0),o=new Be(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),x.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;H.isDocumentKey(s)||(s=s.child(""));let o=new Be(new H(s),0),a=new dt(ge);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),x.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Te(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return x.forEach(n.mutations,i=>{let s=new Be(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Be(n,0),i=this.br.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Sv=class{constructor(e){this.Mr=e,this.docs=function(){return new Oe(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=er();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():en.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=er(),o=n.path,a=new H(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||C2(b2(h),r)<=0||(i.has(h.key)||oh(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,n,r,i){W()}Or(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Av(this)}getSize(e){return x.resolve(this.size)}},Av=class extends Iv{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Rv=class{constructor(e){this.persistence=e,this.Nr=new Ur(n=>I_(n),w_),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.Lr=0,this.Br=new sc,this.targetCount=0,this.kr=ic.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),x.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new ic(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Kn(n),x.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Br.containsKey(n))}};var Nv=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new v0(0),this.Kr=!1,this.Kr=!0,this.$r=new bv,this.referenceDelegate=e(this),this.Ur=new Rv(this),this.indexManager=new vv,this.remoteDocumentCache=function(i){return new Sv(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new yv(n),this.Gr=new Dv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Tv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Cv(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);let i=new Mv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return x.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Mv=class extends $y{constructor(e){super(),this.currentSequenceNumber=e}},xv=class t{constructor(e){this.persistence=e,this.Jr=new sc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw W()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),x.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Xr,r=>{let i=H.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,X.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return x.or([()=>x.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Pv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ue(),i=ue();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Ov=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var kv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return EC()?8:A2(Ke())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Ov;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ga()<=ce.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",Qs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),x.resolve()):(Ga()<=ce.DEBUG&&V("QueryEngine","Query:",Qs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ga()<=ce.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",Qs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tn(n))):x.resolve())}Yi(e,n){if(WS(n))return x.resolve(null);let r=Tn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=rv(n,null,"F"),r=Tn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ue(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,rv(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return WS(n)||i.isEqual(X.min())?x.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?x.resolve(null):(Ga()<=ce.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qs(n)),this.rs(e,o,n,T2(i,-1)).next(a=>a))})}ts(e,n){let r=new dt(N0(e));return n.forEach((i,s)=>{oh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Ga()<=ce.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",Qs(n)),this.Ji.getDocumentsMatchingQuery(e,n,Pi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Lv=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Oe(ge),this._s=new Ur(s=>I_(s),w_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ev(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function vB(t,e,n,r){return new Lv(t,e,n,r)}function Q0(t,e){return w(this,null,function*(){let n=Y(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=ue();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function _B(t,e){let n=Y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),v=x.resolve();return m.forEach(S=>{v=v.next(()=>h.getEntry(u,S)).next(M=>{let R=l.docVersions.get(S);Te(R!==null),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ue();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Y0(t){let e=Y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function IB(t,e){let n=Y(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,p)));let v=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(ht.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),function(M,R,k){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(m,v,h)&&a.push(n.Ur.updateTargetData(s,v))});let u=er(),l=ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(wB(s,o,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(X.min())){let h=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function wB(t,e,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=er();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(X.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):V("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function EB(t,e){let n=Y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function DB(t,e){let n=Y(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new rc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Fv(t,e,n){return w(this,null,function*(){let r=Y(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!hc(o))throw o;V("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function i0(t,e,n){let r=Y(t),i=X.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=Y(u),m=p._s.get(h);return m!==void 0?x.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,o,Tn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:X.min(),n?s:ue())).next(a=>(TB(r,U2(e),a),{documents:a,Ts:s})))}function TB(t,e,n){let r=t.us.get(e)||X.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var Bd=class{constructor(){this.activeTargetIds=z2()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Vv=class{constructor(){this.so=new Bd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Bd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Uv=class{_o(e){}shutdown(){}};var $d=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Td=null;function My(){return Td===null?Td=function(){return 268435456+Math.round(2147483648*Math.random())}():Td++,"0x"+Td.toString(16)}var bB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var jv=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var lt="WebChannelConnection",Bv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=My(),u=this.xo(n,r.toUriEncodedString());V("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(h=>(V("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw to("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+po}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=bB[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=My();return new Promise((o,a)=>{let u=new Ty;u.setWithCredentials(!0),u.listenOnce(Cy.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case za.NO_ERROR:let h=u.getResponseJson();V(lt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case za.TIMEOUT:V(lt,`RPC '${e}' ${s} timed out`),a(new L(N.DEADLINE_EXCEEDED,"Request time out"));break;case za.HTTP_ERROR:let p=u.getStatus();if(V(lt,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let S=function(R){let k=R.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(k)>=0?k:N.UNKNOWN}(v.status);a(new L(S,v.message))}else a(new L(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new L(N.UNAVAILABLE,"Connection failed."));break;default:W()}}finally{V(lt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);V(lt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=My(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Ry(),a=Ay(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new by({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=s.join("");V(lt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),m=!1,v=!1,S=new jv({Io:R=>{v?V(lt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(V(lt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),V(lt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),M=(R,k,$)=>{R.listen(k,q=>{try{$(q)}catch(se){setTimeout(()=>{throw se},0)}})};return M(p,Ks.EventType.OPEN,()=>{v||(V(lt,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),M(p,Ks.EventType.CLOSE,()=>{v||(v=!0,V(lt,`RPC '${e}' stream ${i} transport closed`),S.So())}),M(p,Ks.EventType.ERROR,R=>{v||(v=!0,to(lt,`RPC '${e}' stream ${i} transport errored:`,R),S.So(new L(N.UNAVAILABLE,"The operation could not be completed")))}),M(p,Ks.EventType.MESSAGE,R=>{var k;if(!v){let $=R.data[0];Te(!!$);let q=$,se=q.error||((k=q[0])===null||k===void 0?void 0:k.error);if(se){V(lt,`RPC '${e}' stream ${i} received error:`,se);let Me=se.status,Z=function(_){let E=je[_];if(E!==void 0)return B0(E)}(Me),D=se.message;Z===void 0&&(Z=N.INTERNAL,D="Unknown error status: "+Me+" with message "+se.message),v=!0,S.So(new L(Z,D)),p.close()}else V(lt,`RPC '${e}' stream ${i} received:`,$),S.bo($)}}),M(a,Sy.STAT_EVENT,R=>{R.stat===Ed.PROXY?V(lt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Ed.NOPROXY&&V(lt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function xy(){return typeof document<"u"?document:null}function ah(t){return new hv(t,!0)}var Hd=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var qd=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Hd(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Jn(n.toString()),Jn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new L(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},$v=class extends qd{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=oB(this.serializer,e),r=function(s){if(!("targetChange"in s))return X.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?X.min():o.readTime?bn(o.readTime):X.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=mv(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=tv(u)?{documents:uB(s,u)}:{query:lB(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=$0(s,o.resumeToken);let l=fv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(X.min())>0){a.readTime=Ud(s,o.snapshotVersion.toTimestamp());let l=fv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=hB(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=mv(this.serializer),n.removeTarget=e,this.a_(n)}},Hv=class extends qd{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Te(!!e.streamToken),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=cB(e.writeResults,e.commitTime),r=bn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=mv(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>aB(this.serializer,r))};this.a_(n)}};var qv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new L(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,pv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(N.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,pv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(N.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},zv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Jn(n),this.D_=!1):V("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Gv=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>w(this,null,function*(){ji(this)&&(V("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=Y(u);l.L_.add(4),yield fc(l),l.q_.set("Unknown"),l.L_.delete(4),yield ch(l)})}(this))}))}),this.q_=new zv(r,i)}};function ch(t){return w(this,null,function*(){if(ji(t))for(let e of t.B_)yield e(!0)})}function fc(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function Z0(t,e){let n=Y(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),A_(n)?S_(n):mo(n).r_()&&C_(n,e))}function b_(t,e){let n=Y(t),r=mo(n);n.N_.delete(e),r.r_()&&J0(n,e),n.N_.size===0&&(r.r_()?r.o_():ji(n)&&n.q_.set("Unknown"))}function C_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}mo(t).A_(e)}function J0(t,e){t.Q_.xe(e),mo(t).R_(e)}function S_(t){t.Q_=new dv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),mo(t).start(),t.q_.v_()}function A_(t){return ji(t)&&!mo(t).n_()&&t.N_.size>0}function ji(t){return Y(t).L_.size===0}function X0(t){t.Q_=void 0}function CB(t){return w(this,null,function*(){t.q_.set("Online")})}function SB(t){return w(this,null,function*(){t.N_.forEach((e,n)=>{C_(t,e)})})}function AB(t,e){return w(this,null,function*(){X0(t),A_(t)?(t.q_.M_(e),S_(t)):t.q_.set("Unknown")})}function RB(t,e,n){return w(this,null,function*(){if(t.q_.set("Online"),e instanceof Fd&&e.state===2&&e.cause)try{yield function(i,s){return w(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){V("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield zd(t,r)}else if(e instanceof Xs?t.Q_.Ke(e):e instanceof Ld?t.Q_.He(e):t.Q_.We(e),!n.isEqual(X.min()))try{let r=yield Y0(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.N_.get(l);h&&s.N_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(ht.EMPTY_BYTE_STRING,h.snapshotVersion)),J0(s,u);let p=new rc(h.target,u,l,h.sequenceNumber);C_(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){V("RemoteStore","Failed to raise snapshot:",r),yield zd(t,r)}})}function zd(t,e,n){return w(this,null,function*(){if(!hc(e))throw e;t.L_.add(1),yield fc(t),t.q_.set("Offline"),n||(n=()=>Y0(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){V("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield ch(t)}))})}function eA(t,e){return e().catch(n=>zd(t,n,e))}function uh(t){return w(this,null,function*(){let e=Y(t),n=jr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;NB(e);)try{let i=yield EB(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,MB(e,i)}catch(i){yield zd(e,i)}tA(e)&&nA(e)})}function NB(t){return ji(t)&&t.O_.length<10}function MB(t,e){t.O_.push(e);let n=jr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function tA(t){return ji(t)&&!jr(t).n_()&&t.O_.length>0}function nA(t){jr(t).start()}function xB(t){return w(this,null,function*(){jr(t).p_()})}function PB(t){return w(this,null,function*(){let e=jr(t);for(let n of t.O_)e.m_(n.mutations)})}function OB(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=av.from(r,e,n);yield eA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield uh(t)})}function kB(t,e){return w(this,null,function*(){e&&jr(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return J2(o)&&o!==N.ABORTED}(i.code)){let s=r.O_.shift();jr(r).s_(),yield eA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield uh(r)}})}(t,e)),tA(t)&&nA(t)})}function s0(t,e){return w(this,null,function*(){let n=Y(t);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");let r=ji(n);n.L_.add(3),yield fc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield ch(n)})}function LB(t,e){return w(this,null,function*(){let n=Y(t);e?(n.L_.delete(2),yield ch(n)):e||(n.L_.add(2),yield fc(n),n.q_.set("Unknown"))})}function mo(t){return t.K_||(t.K_=function(n,r,i){let s=Y(n);return s.w_(),new $v(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:CB.bind(null,t),Ro:SB.bind(null,t),mo:AB.bind(null,t),d_:RB.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.K_.s_(),A_(t)?S_(t):t.q_.set("Unknown")):(yield t.K_.stop(),X0(t))}))),t.K_}function jr(t){return t.U_||(t.U_=function(n,r,i){let s=Y(n);return s.w_(),new Hv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:xB.bind(null,t),mo:kB.bind(null,t),f_:PB.bind(null,t),g_:OB.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield uh(t)):(yield t.U_.stop(),t.O_.length>0&&(V("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Wv=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Zn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function R_(t,e){if(Jn("AsyncQueue",`${e}: ${t}`),hc(t))return new L(N.UNAVAILABLE,`${e}: ${t}`);throw t}var Gd=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=Wa(),this.sortedSet=new Oe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Wd=class{constructor(){this.W_=new Oe(H.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):W():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},lo=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Gd.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Kv=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Qv=class{constructor(){this.queries=o0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=Y(n),s=i.queries;i.queries=o0(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new L(N.ABORTED,"Firestore shutting down"))}};function o0(){return new Ur(t=>R0(t),sh)}function FB(t,e){return w(this,null,function*(){let n=Y(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Kv,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=R_(o,`Initialization of query '${Qs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&N_(n)})}function VB(t,e){return w(this,null,function*(){let n=Y(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function UB(t,e){let n=Y(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&N_(n)}function jB(t,e,n){let r=Y(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function N_(t){t.Y_.forEach(e=>{e.next()})}var Yv,a0;(a0=Yv||(Yv={})).ea="default",a0.Cache="cache";var Zv=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new lo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Yv.Cache}};var Kd=class{constructor(e){this.key=e}},Qd=class{constructor(e){this.key=e}},Jv=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ue(),this.mutatedKeys=ue(),this.Aa=N0(e),this.Ra=new Gd(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Wd,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),v=oh(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),M=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),R=!1;m&&v?m.data.isEqual(v.data)?S!==M&&(r.track({type:3,doc:v}),R=!0):this.ga(m,v)||(r.track({type:2,doc:v}),R=!0,(u&&this.Aa(v,u)>0||l&&this.Aa(v,l)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),R=!0):m&&!v&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(v?(o=o.add(v),s=M?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(v,S){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W()}};return M(v)-M(S)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new lo(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Wd,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ue(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Qd(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Kd(r))}),n}ba(e){this.Ta=e.Ts,this.da=ue();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return lo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Xv=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},e_=class{constructor(e){this.key=e,this.va=!1}},t_=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ur(a=>R0(a),sh),this.Ma=new Map,this.xa=new Set,this.Oa=new Oe(H.comparator),this.Na=new Map,this.La=new sc,this.Ba={},this.ka=new Map,this.qa=ic.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function BB(t,e,n=!0){return w(this,null,function*(){let r=cA(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield rA(r,e,n,!0),i})}function $B(t,e){return w(this,null,function*(){let n=cA(t);yield rA(n,e,!0,!1)})}function rA(t,e,n,r){return w(this,null,function*(){let i=yield DB(t.localStore,Tn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield HB(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Z0(t.remoteStore,i),a})}function HB(t,e,n,r,i){return w(this,null,function*(){t.Ka=(p,m,v)=>function(M,R,k,$){return w(this,null,function*(){let q=R.view.ma(k);q.ns&&(q=yield i0(M.localStore,R.query,!1).then(({documents:D})=>R.view.ma(D,q)));let se=$&&$.targetChanges.get(R.targetId),Me=$&&$.targetMismatches.get(R.targetId)!=null,Z=R.view.applyChanges(q,M.isPrimaryClient,se,Me);return u0(M,R.targetId,Z.wa),Z.snapshot})}(t,p,m,v);let s=yield i0(t.localStore,e,!0),o=new Jv(e,s.Ts),a=o.ma(s.documents),u=nc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);u0(t,n,l.wa);let h=new Xv(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function qB(t,e,n){return w(this,null,function*(){let r=Y(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!sh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Fv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&b_(r.remoteStore,i.targetId),n_(r,i.targetId)}).catch(dc))):(n_(r,i.targetId),yield Fv(r.localStore,i.targetId,!0))})}function zB(t,e){return w(this,null,function*(){let n=Y(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),b_(n.remoteStore,r.targetId))})}function GB(t,e,n){return w(this,null,function*(){let r=XB(t);try{let i=yield function(o,a){let u=Y(o),l=tt.now(),h=a.reduce((v,S)=>v.add(S.key),ue()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let S=er(),M=ue();return u.cs.getEntries(v,h).next(R=>{S=R,S.forEach((k,$)=>{$.isValidDocument()||(M=M.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,S)).next(R=>{p=R;let k=[];for(let $ of a){let q=Z2($,p.get($.key).overlayedDocument);q!=null&&k.push(new tr($.key,q,E0(q.value.mapValue),Mi.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,k,a)}).next(R=>{m=R;let k=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(v,R.batchId,k)})}).then(()=>({batchId:m.batchId,changes:x0(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Oe(ge)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield pc(r,i.changes),yield uh(r.remoteStore)}catch(i){let s=R_(i,"Failed to persist write");n.reject(s)}})}function iA(t,e){return w(this,null,function*(){let n=Y(t);try{let r=yield IB(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Te(o.va):i.removedDocuments.size>0&&(Te(o.va),o.va=!1))}),yield pc(n,r,e)}catch(r){yield dc(r)}})}function c0(t,e,n){let r=Y(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=Y(o);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&N_(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function WB(t,e,n){return w(this,null,function*(){let r=Y(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Oe(H.comparator);o=o.insert(s,en.newNoDocument(s,X.min()));let a=ue().add(s),u=new kd(X.min(),new Map,new Oe(ge),o,a);yield iA(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),M_(r)}else yield Fv(r.localStore,e,!1).then(()=>n_(r,e,n)).catch(dc)})}function KB(t,e){return w(this,null,function*(){let n=Y(t),r=e.batch.batchId;try{let i=yield _B(n.localStore,e);oA(n,r,null),sA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield pc(n,i)}catch(i){yield dc(i)}})}function QB(t,e,n){return w(this,null,function*(){let r=Y(t);try{let i=yield function(o,a){let u=Y(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Te(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);oA(r,e,n),sA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield pc(r,i)}catch(i){yield dc(i)}})}function sA(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function oA(t,e,n){let r=Y(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function n_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||aA(t,r)})}function aA(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(b_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),M_(t))}function u0(t,e,n){for(let r of n)r instanceof Kd?(t.La.addReference(r.key,e),YB(t,r)):r instanceof Qd?(V("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||aA(t,r.key)):W()}function YB(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(V("SyncEngine","New document in limbo: "+n),t.xa.add(r),M_(t))}function M_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new H(Ne.fromString(e)),r=t.qa.next();t.Na.set(r,new e_(n)),t.Oa=t.Oa.insert(n,r),Z0(t.remoteStore,new rc(Tn(E_(n.path)),r,"TargetPurposeLimboResolution",v0.oe))}}function pc(t,e,n){return w(this,null,function*(){let r=Y(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Pv.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let h=Y(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,m=>x.forEach(m.$i,v=>h.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>x.forEach(m.Ui,v=>h.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!hc(p))throw p;V("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let v=h.os.get(m),S=v.snapshotVersion,M=v.withLastLimboFreeSnapshotVersion(S);h.os=h.os.insert(m,M)}}})}(r.localStore,s))})}function ZB(t,e){return w(this,null,function*(){let n=Y(t);if(!n.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());let r=yield Q0(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new L(N.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield pc(n,r.hs)}})}function JB(t,e){let n=Y(t),r=n.Na.get(e);if(r&&r.va)return ue().add(r.key);{let i=ue(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function cA(t){let e=Y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WB.bind(null,e),e.Ca.d_=UB.bind(null,e.eventManager),e.Ca.$a=jB.bind(null,e.eventManager),e}function XB(t){let e=Y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QB.bind(null,e),e}var Yd=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=ah(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return vB(this.persistence,new kv,e.initialUser,this.serializer)}createPersistence(e){return new Nv(xv.Zr,this.serializer)}createSharedClientState(e){return new Vv}terminate(){return w(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var r_=class{initialize(e,n){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>c0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZB.bind(null,this.syncEngine),yield LB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Qv}()}createDatastore(e){let n=ah(e.databaseInfo.databaseId),r=function(s){return new Bv(s)}(e.databaseInfo);return function(s,o,a,u){return new qv(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Gv(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>c0(this.syncEngine,n,0),function(){return $d.D()?new $d:new Uv}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,h){let p=new t_(i,s,o,a,u,l);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return w(this,null,function*(){var e,n;yield function(i){return w(this,null,function*(){let s=Y(i);V("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield fc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var i_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Jn("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var s_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ye.UNAUTHENTICATED,this.clientId=Ad.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>w(this,null,function*(){V("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(V("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Zn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=R_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Py(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield Q0(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function l0(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield t$(t);V("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>s0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>s0(e.remoteStore,i)),t._onlineComponents=e})}function e$(t){return t.name==="FirebaseError"?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function t$(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Py(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!e$(n))throw n;to("Error using user provided cache. Falling back to memory cache: "+n),yield Py(t,new Yd)}}else V("FirestoreClient","Using default OfflineComponentProvider"),yield Py(t,new Yd);return t._offlineComponents})}function uA(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),yield l0(t,t._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),yield l0(t,new r_))),t._onlineComponents})}function n$(t){return uA(t).then(e=>e.syncEngine)}function d0(t){return w(this,null,function*(){let e=yield uA(t),n=e.eventManager;return n.onListen=BB.bind(null,e.syncEngine),n.onUnlisten=qB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$B.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=zB.bind(null,e.syncEngine),n})}function lA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var h0=new Map;function dA(t,e,n){if(!n)throw new L(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function r$(t,e,n,r){if(e===!0&&r===!0)throw new L(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function f0(t){if(!H.isDocumentKey(t))throw new L(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function p0(t){if(H.isDocumentKey(t))throw new L(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":W()}function Ja(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=lh(t);throw new L(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Zd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ho=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new L(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Oy;switch(r.type){case"firstParty":return new Vy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=h0.get(n);r&&(V("ComponentProvider","Removing Datastore"),h0.delete(n),r.terminate())}(this),Promise.resolve()}};function hA(t,e,n,r={}){var i;let s=(t=Ja(t,ho))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Ye.MOCK_USER;else{a=yC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new L(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ye(l)}t._authCredentials=new ky(new Sd(a,u))}}var Ui=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Pt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Lr=class t extends Ui{constructor(e,n,r){super(e,n,E_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new H(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function fA(t,e,...n){if(t=Qe(t),dA("collection","path",e),t instanceof ho){let r=Ne.fromString(e,...n);return p0(r),new Lr(t,null,r)}{if(!(t instanceof Pt||t instanceof Lr))throw new L(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ne.fromString(e,...n));return p0(r),new Lr(t.firestore,null,r)}}function pA(t,e,...n){if(t=Qe(t),arguments.length===1&&(e=Ad.newId()),dA("doc","path",e),t instanceof ho){let r=Ne.fromString(e,...n);return f0(r),new Pt(t,null,new H(r))}{if(!(t instanceof Pt||t instanceof Lr))throw new L(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ne.fromString(e,...n));return f0(r),new Pt(t.firestore,t instanceof Lr?t.converter:null,new H(r))}}var o_=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Hd(this,"async_queue_retry"),this.Eu=()=>{let n=xy();n&&V("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=xy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=xy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new Zn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return w(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!hc(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Jn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=Wv.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&W()}verifyOperationInProgress(){}mu(){return w(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function g0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var fo=class extends ho{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new o_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||yA(this),this._firestoreClient.terminate()}};function gA(t,e){let n=typeof t=="object"?t:$s(),r=typeof t=="string"?t:e||"(default)",i=Pa(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=mC("firestore");s&&hA(i,...s)}return i}function mA(t){return t._firestoreClient||yA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function yA(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,h){return new Hy(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,lA(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new s_(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var oc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(ht.fromBase64String(e))}catch(n){throw new L(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ac=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Jd=class{constructor(e){this._methodName=e}};var cc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}};var uc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var i$=/^__.*__$/,a_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new tr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vi(e,this.data,n,this.fieldTransforms)}};function vA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W()}}var c_=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Xd(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(vA(this.wu)&&i$.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},u_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ah(e)}Nu(e,n,r,i=!1){return new c_({wu:e,methodName:n,Ou:r,path:xt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function _A(t){let e=t._freezeSettings(),n=ah(t._databaseId);return new u_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function s$(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);EA("Data must be an object, but it was:",o,r);let a=IA(r,o),u,l;if(s.merge)u=new En(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let m=a$(e,p,n);if(!o.contains(m))throw new L(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);u$(h,m)||h.push(m)}u=new En(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new a_(new Xt(a),u,l)}function o$(t,e,n,r=!1){return x_(n,t.Nu(r?4:3,e))}function x_(t,e){if(wA(t=Qe(t)))return EA("Unsupported field value:",e,t),IA(t,e);if(t instanceof Jd)return function(r,i){if(!vA(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=x_(a,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Qe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return G2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=tt.fromDate(r);return{timestampValue:Ud(i.serializer,s)}}if(r instanceof tt){let s=new tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ud(i.serializer,s)}}if(r instanceof cc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof oc)return{bytesValue:$0(i.serializer,r._byteString)};if(r instanceof Pt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:T_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof uc)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return D_(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${lh(r)}`)}(t,e)}function IA(t,e){let n={};return _0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):go(t,(r,i)=>{let s=x_(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function wA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tt||t instanceof cc||t instanceof oc||t instanceof Pt||t instanceof Jd||t instanceof uc)}function EA(t,e,n){if(!wA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=lh(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function a$(t,e,n){if((e=Qe(e))instanceof ac)return e._internalPath;if(typeof e=="string")return DA(t,e);throw Xd("Field path arguments must be of type string or ",t,!1,void 0,n)}var c$=new RegExp("[~\\*/\\[\\]]");function DA(t,e,n){if(e.search(c$)>=0)throw Xd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ac(...e.split("."))._internalPath}catch{throw Xd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xd(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new L(N.INVALID_ARGUMENT,a+t+u)}function u$(t,e){return t.some(n=>n.isEqual(e))}var eh=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new l_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(P_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},l_=class extends eh{data(){return super.data()}};function P_(t,e){return typeof e=="string"?DA(t,e):e instanceof ac?e._internalPath:e._delegate._internalPath}function l$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var lc=class{},th=class extends lc{};function TA(t,e,...n){let r=[];e instanceof lc&&r.push(e),r=r.concat(n),function(s){let o=s.filter(u=>u instanceof h_).length,a=s.filter(u=>u instanceof d_).length;if(o>1||o>0&&a>0)throw new L(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var d_=class t extends th{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return CA(e._query,n),new Ui(e.firestore,e.converter,nv(e._query,n))}_parse(e){let n=_A(e.firestore);return function(s,o,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new L(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){y0(p,h);let v=[];for(let S of p)v.push(m0(u,s,S));m={arrayValue:{values:v}}}else m=m0(u,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||y0(p,h),m=o$(a,o,p,h==="in"||h==="not-in");return $e.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var h_=class t extends lc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:tn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)CA(o,u),o=nv(o,u)}(e._query,n),new Ui(e.firestore,e.converter,nv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var f_=class t extends th{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new L(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new L(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ki(s,o)}(e._query,this._field,this._direction);return new Ui(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new Vr(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function bA(t,e="asc"){let n=e,r=P_("orderBy",t);return f_._create(r,n)}function m0(t,e,n){if(typeof(n=Qe(n))=="string"){if(n==="")throw new L(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!A0(e)&&n.indexOf("/")!==-1)throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ne.fromString(n));if(!H.isDocumentKey(r))throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return BS(t,new H(r))}if(n instanceof Pt)return BS(t,n._key);throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lh(n)}.`)}function y0(t,e){if(!Array.isArray(t)||t.length===0)throw new L(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CA(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var p_=class{convertValue(e,n="none"){switch(Oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw W()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return go(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ae(o.doubleValue));return new uc(s)}convertGeoPoint(e){return new cc(Ae(e.latitude),Ae(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=v_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ec(e));default:return null}}convertTimestamp(e){let n=Xn(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ne.fromString(e);Te(K0(r));let i=new xd(r.get(1),r.get(3)),s=new H(r.popFirst(5));return i.isEqual(n)||Jn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function d$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ni=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},nh=class extends eh{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new eo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(P_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},eo=class extends nh{data(e={}){return super.data(e)}},g_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ni(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new eo(this._firestore,this._userDataWriter,r.key,r,new Ni(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new eo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ni(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new eo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ni(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:h$(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function h$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W()}}var rh=class extends p_{constructor(e){super(),this.firestore=e}convertBytes(e){return new oc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}};function SA(t,e){let n=Ja(t.firestore,fo),r=pA(t),i=d$(t.converter,e);return f$(n,[s$(_A(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Mi.exists(!1))]).then(()=>r)}function O_(t,...e){var n,r,i;t=Qe(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||g0(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(g0(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Pt)l=Ja(t.firestore,fo),h=E_(t._key.path),u={next:p=>{e[o]&&e[o](p$(l,t,p))},error:e[o+1],complete:e[o+2]};else{let p=Ja(t,Ui);l=Ja(p.firestore,fo),h=p._query;let m=new rh(l);u={next:v=>{e[o]&&e[o](new g_(l,m,p,v))},error:e[o+1],complete:e[o+2]},l$(t._query)}return function(m,v,S,M){let R=new i_(M),k=new Zv(v,R,S);return m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return FB(yield d0(m),k)})),()=>{R.za(),m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return VB(yield d0(m),k)}))}}(mA(l),h,a,u)}function f$(t,e){return function(r,i){let s=new Zn;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return GB(yield n$(r),i,s)})),s.promise}(mA(t),e)}function p$(t,e,n){let r=n.docs.get(e._key),i=new rh(t);return new nh(t,i,e._key,r,new Ni(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){po=i})(Nr),Rr(new Bt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new fo(new Ly(r.getProvider("auth-internal")),new jy(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xd(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ze(FS,"4.7.1",e),ze(FS,"4.7.1","esm2017")})();var dh=function(){return dh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dh.apply(this,arguments)};var y$={includeMetadataChanges:!1};function AA(t,e){return e===void 0&&(e=y$),new oe(function(n){var r=O_(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function RA(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:dh(dh({},r),(n={},n[e.idField]=t.id,n))}function NA(t){return AA(t,{includeMetadataChanges:!0}).pipe(ie(function(e){return e.docs}))}function MA(t,e){return e===void 0&&(e={}),NA(t).pipe(ie(function(n){return n.map(function(r){return RA(r,e)})}))}var gc=class{constructor(e){return e}},xA="firestore",k_=class{constructor(){return Oa(xA)}};var L_=new j("angularfire2.firestore-instances");function v$(t,e){let n=td(xA,t,e);return n&&new gc(n)}function _$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new gc(r)}}var I$={provide:k_,deps:[[new et,L_]]},w$={provide:gc,useFactory:v$,deps:[[new et,L_],Gn]};function rK(t,...e){return ze("angularfire",Ei.full,"fst"),hn([w$,I$,{provide:L_,useFactory:_$(t),multi:!0,deps:[ve,ct,zs,Di,[new et,qa],[new et,qs],...e]}])}var iK=_t(MA,!0);var sK=_t(SA,!0);var oK=_t(fA,!0);var aK=_t(gA,!0);var cK=_t(bA,!0);var uK=_t(TA,!0);export{F as a,be as b,w as c,ot as d,Je as e,Re as f,ie as g,GR as h,U as i,fE as j,B as k,Zo as l,j as m,Q as n,AE as o,Xo as p,kn as q,Es as r,U9 as s,j9 as t,Op as u,Xe as v,Kt as w,sx as x,B9 as y,Ie as z,pi as A,z9 as B,XP as C,lO as D,DO as E,TO as F,RT as G,NT as H,og as I,G9 as J,ag as K,W9 as L,qO as M,K9 as N,OT as O,kT as P,Q9 as Q,WO as R,LT as S,KO as T,QO as U,Y9 as V,YO as W,Z9 as X,VT as Y,J9 as Z,X9 as _,eW as $,na as aa,tW as ba,Cs as ca,ra as da,nW as ea,Dk as fa,Ss as ga,bW as ha,CW as ia,SW as ja,AW as ka,RW as la,Jk as ma,e3 as na,X1 as oa,yn as pa,Ab as qa,v3 as ra,_3 as sa,I3 as ta,u6 as ua,l6 as va,Ha as wa,r8 as xa,i8 as ya,s8 as za,o8 as Aa,a8 as Ba,c8 as Ca,gc as Da,rK as Ea,iK as Fa,sK as Ga,oK as Ha,aK as Ia,cK as Ja,uK as Ka};
