var xS=Object.defineProperty,NS=Object.defineProperties;var PS=Object.getOwnPropertyDescriptors;var k_=Object.getOwnPropertySymbols,OS=Object.getPrototypeOf,kS=Object.prototype.hasOwnProperty,FS=Object.prototype.propertyIsEnumerable,LS=Reflect.get;var F_=(t,e,n)=>e in t?xS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O=(t,e)=>{for(var n in e||={})kS.call(e,n)&&F_(t,n,e[n]);if(k_)for(var n of k_(e))FS.call(e,n)&&F_(t,n,e[n]);return t},se=(t,e)=>NS(t,PS(e));var Zn=(t,e,n)=>LS(OS(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{c(n.next(u))}catch(l){i(l)}},o=u=>{try{c(n.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);c((n=n.apply(t,e)).next())});function L_(t,e){return Object.is(t,e)}var Oe=null,Mc=!1,Rc=1,In=Symbol("SIGNAL");function he(t){let e=Oe;return Oe=t,e}function V_(){return Oe}var Fo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Eh(t){if(Mc)throw new Error("");if(Oe===null)return;Oe.consumerOnSignalRead(t);let e=Oe.nextProducerIndex++;if(Oc(Oe),e<Oe.producerNode.length&&Oe.producerNode[e]!==t&&ko(Oe)){let n=Oe.producerNode[e];Pc(n,Oe.producerIndexOfThis[e])}Oe.producerNode[e]!==t&&(Oe.producerNode[e]=t,Oe.producerIndexOfThis[e]=ko(Oe)?$_(t,Oe,e):0),Oe.producerLastReadVersion[e]=t.version}function VS(){Rc++}function j_(t){if(!(ko(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Rc)){if(!t.producerMustRecompute(t)&&!bh(t)){t.dirty=!1,t.lastCleanEpoch=Rc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Rc}}function U_(t){if(t.liveConsumerNode===void 0)return;let e=Mc;Mc=!0;try{for(let n of t.liveConsumerNode)n.dirty||jS(n)}finally{Mc=e}}function B_(){return Oe?.consumerAllowSignalWrites!==!1}function jS(t){t.dirty=!0,U_(t),t.consumerMarkedDirty?.(t)}function Nc(t){return t&&(t.nextProducerIndex=0),he(t)}function Dh(t,e){if(he(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ko(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Pc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function bh(t){Oc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(j_(n),r!==n.version))return!0}return!1}function Ch(t){if(Oc(t),ko(t))for(let e=0;e<t.producerNode.length;e++)Pc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function $_(t,e,n){if(H_(t),t.liveConsumerNode.length===0&&z_(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=$_(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Pc(t,e){if(H_(t),t.liveConsumerNode.length===1&&z_(t))for(let r=0;r<t.producerNode.length;r++)Pc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Oc(i),i.producerIndexOfThis[r]=e}}function ko(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Oc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function H_(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function z_(t){return t.producerNode!==void 0}function q_(t){let e=Object.create(US);e.computation=t;let n=()=>{if(j_(e),Eh(e),e.value===xc)throw e.error;return e.value};return n[In]=e,n}var Ih=Symbol("UNSET"),wh=Symbol("COMPUTING"),xc=Symbol("ERRORED"),US=se(O({},Fo),{value:Ih,dirty:!0,error:null,equal:L_,producerMustRecompute(t){return t.value===Ih||t.value===wh},producerRecomputeValue(t){if(t.value===wh)throw new Error("Detected cycle in computations.");let e=t.value;t.value=wh;let n=Nc(t),r;try{r=t.computation()}catch(i){r=xc,t.error=i}finally{Dh(t,n)}if(e!==Ih&&e!==xc&&r!==xc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function BS(){throw new Error}var G_=BS;function W_(){G_()}function K_(t){G_=t}var $S=null;function Q_(t){let e=Object.create(Z_);e.value=t;let n=()=>(Eh(e),e.value);return n[In]=e,n}function Th(t,e){B_()||W_(),t.equal(t.value,e)||(t.value=e,HS(t))}function Y_(t,e){B_()||W_(),Th(t,e(t.value))}var Z_=se(O({},Fo),{equal:L_,value:void 0});function HS(t){t.version++,VS(),U_(t),$S?.()}function Y(t){return typeof t=="function"}function ji(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var kc=ji(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function jr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ce=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Y(r))try{r()}catch(s){e=s instanceof kc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{J_(s)}catch(o){e=e??[],o instanceof kc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new kc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)J_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&jr(n,e)}remove(e){let{_finalizers:n}=this;n&&jr(n,e),e instanceof t&&e._removeParent(this)}};Ce.EMPTY=(()=>{let t=new Ce;return t.closed=!0,t})();var Sh=Ce.EMPTY;function Fc(t){return t instanceof Ce||t&&"closed"in t&&Y(t.remove)&&Y(t.add)&&Y(t.unsubscribe)}function J_(t){Y(t)?t():t.unsubscribe()}var Ut={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ui={setTimeout(t,e,...n){let{delegate:r}=Ui;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ui;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Lc(t){Ui.setTimeout(()=>{let{onUnhandledError:e}=Ut;if(e)e(t);else throw t})}function Lo(){}var X_=Ah("C",void 0,void 0);function eI(t){return Ah("E",void 0,t)}function tI(t){return Ah("N",t,void 0)}function Ah(t,e,n){return{kind:t,value:e,error:n}}var Ur=null;function Bi(t){if(Ut.useDeprecatedSynchronousErrorHandling){let e=!Ur;if(e&&(Ur={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ur;if(Ur=null,n)throw r}}else t()}function nI(t){Ut.useDeprecatedSynchronousErrorHandling&&Ur&&(Ur.errorThrown=!0,Ur.error=t)}var Br=class extends Ce{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Fc(e)&&e.add(this)):this.destination=GS}static create(e,n,r){return new $i(e,n,r)}next(e){this.isStopped?Rh(tI(e),this):this._next(e)}error(e){this.isStopped?Rh(eI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Rh(X_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},zS=Function.prototype.bind;function Mh(t,e){return zS.call(t,e)}var xh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Vc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Vc(r)}else Vc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Vc(n)}}},$i=class extends Br{constructor(e,n,r){super();let i;if(Y(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ut.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Mh(e.next,s),error:e.error&&Mh(e.error,s),complete:e.complete&&Mh(e.complete,s)}):i=e}this.destination=new xh(i)}};function Vc(t){Ut.useDeprecatedSynchronousErrorHandling?nI(t):Lc(t)}function qS(t){throw t}function Rh(t,e){let{onStoppedNotification:n}=Ut;n&&Ui.setTimeout(()=>n(t,e))}var GS={closed:!0,next:Lo,error:qS,complete:Lo};var Hi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function It(t){return t}function Nh(...t){return Ph(t)}function Ph(t){return t.length===0?It:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ue=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=KS(n)?n:new $i(n,r,i);return Bi(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=rI(r),new r((i,s)=>{let o=new $i({next:c=>{try{n(c)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Hi](){return this}pipe(...n){return Ph(n)(this)}toPromise(n){return n=rI(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function rI(t){var e;return(e=t??Ut.Promise)!==null&&e!==void 0?e:Promise}function WS(t){return t&&Y(t.next)&&Y(t.error)&&Y(t.complete)}function KS(t){return t&&t instanceof Br||WS(t)&&Fc(t)}function Oh(t){return Y(t?.lift)}function le(t){return e=>{if(Oh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function oe(t,e,n,r,i){return new kh(t,e,n,r,i)}var kh=class extends Br{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function zi(){return le((t,e)=>{let n=null;t._refCount++;let r=oe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var qi=class extends ue{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Oh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ce;let n=this.getSubject();e.add(this.source.subscribe(oe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ce.EMPTY)}return e}refCount(){return zi()(this)}};var iI=ji(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Be=(()=>{class t extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new jc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new iI}next(n){Bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Sh:(this.currentObservers=null,s.push(n),new Ce(()=>{this.currentObservers=null,jr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ue;return n.source=this,n}}return t.create=(e,n)=>new jc(e,n),t})(),jc=class extends Be{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Sh}};var Ke=class extends Be{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Fh={now(){return(Fh.delegate||Date).now()},delegate:void 0};var Uc=class extends Ce{constructor(e,n){super()}schedule(e,n=0){return this}};var Vo={setInterval(t,e,...n){let{delegate:r}=Vo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Vo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Gi=class extends Uc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Vo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Vo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,jr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Wi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Wi.now=Fh.now;var Ki=class extends Wi{constructor(e,n=Wi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Lh=new Ki(Gi);var Bc=class extends Gi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var $c=class extends Ki{};var Vh=new $c(Bc);var wt=new ue(t=>t.complete());function sI(t){return t&&Y(t.schedule)}function oI(t){return t[t.length-1]}function Hc(t){return Y(oI(t))?t.pop():void 0}function Jn(t){return sI(oI(t))?t.pop():void 0}function jh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function cI(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(f){try{l(r.next(f))}catch(g){o(g)}}function u(f){try{l(r.throw(f))}catch(g){o(g)}}function l(f){f.done?s(f.value):i(f.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function aI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $r(t){return this instanceof $r?(this.v=t,this):new $r(t)}function uI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(I){return function(A){return Promise.resolve(A).then(I,g)}}function c(I,A){r[I]&&(i[I]=function(N){return new Promise(function(x,V){s.push([I,N,x,V])>1||u(I,N)})},A&&(i[I]=A(i[I])))}function u(I,A){try{l(r[I](A))}catch(N){_(s[0][3],N)}}function l(I){I.value instanceof $r?Promise.resolve(I.value.v).then(f,g):_(s[0][2],I)}function f(I){u("next",I)}function g(I){u("throw",I)}function _(I,A){I(A),s.shift(),s.length&&u(s[0][0],s[0][1])}}function lI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof aI=="function"?aI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(c,u){o=t[s](o),i(c,u,o.done,o.value)})}}function i(s,o,c,u){Promise.resolve(u).then(function(l){s({value:l,done:c})},o)}}var zc=t=>t&&typeof t.length=="number"&&typeof t!="function";function qc(t){return Y(t?.then)}function Gc(t){return Y(t[Hi])}function Wc(t){return Symbol.asyncIterator&&Y(t?.[Symbol.asyncIterator])}function Kc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function QS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Qc=QS();function Yc(t){return Y(t?.[Qc])}function Zc(t){return uI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield $r(n.read());if(i)return yield $r(void 0);yield yield $r(r)}}finally{n.releaseLock()}})}function Jc(t){return Y(t?.getReader)}function Me(t){if(t instanceof ue)return t;if(t!=null){if(Gc(t))return YS(t);if(zc(t))return ZS(t);if(qc(t))return JS(t);if(Wc(t))return dI(t);if(Yc(t))return XS(t);if(Jc(t))return eA(t)}throw Kc(t)}function YS(t){return new ue(e=>{let n=t[Hi]();if(Y(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ZS(t){return new ue(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function JS(t){return new ue(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Lc)})}function XS(t){return new ue(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function dI(t){return new ue(e=>{tA(t,e).catch(n=>e.error(n))})}function eA(t){return dI(Zc(t))}function tA(t,e){var n,r,i,s;return cI(this,void 0,void 0,function*(){try{for(n=lI(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function pt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Xn(t,e=0){return le((n,r)=>{n.subscribe(oe(r,i=>pt(r,t,()=>r.next(i),e),()=>pt(r,t,()=>r.complete(),e),i=>pt(r,t,()=>r.error(i),e)))})}function er(t,e=0){return le((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function hI(t,e){return Me(t).pipe(er(e),Xn(e))}function fI(t,e){return Me(t).pipe(er(e),Xn(e))}function pI(t,e){return new ue(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function gI(t,e){return new ue(n=>{let r;return pt(n,e,()=>{r=t[Qc](),pt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>Y(r?.return)&&r.return()})}function Xc(t,e){if(!t)throw new Error("Iterable cannot be null");return new ue(n=>{pt(n,e,()=>{let r=t[Symbol.asyncIterator]();pt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function mI(t,e){return Xc(Zc(t),e)}function yI(t,e){if(t!=null){if(Gc(t))return hI(t,e);if(zc(t))return pI(t,e);if(qc(t))return fI(t,e);if(Wc(t))return Xc(t,e);if(Yc(t))return gI(t,e);if(Jc(t))return mI(t,e)}throw Kc(t)}function Te(t,e){return e?yI(t,e):Me(t)}function K(...t){let e=Jn(t);return Te(t,e)}function Qi(t,e){let n=Y(t)?t:()=>t,r=i=>i.error(n());return new ue(e?i=>e.schedule(r,0,i):r)}function Uh(t){return!!t&&(t instanceof ue||Y(t.lift)&&Y(t.subscribe))}var wn=ji(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function re(t,e){return le((n,r)=>{let i=0;n.subscribe(oe(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:nA}=Array;function rA(t,e){return nA(e)?t(...e):t(e)}function eu(t){return re(e=>rA(t,e))}var{isArray:iA}=Array,{getPrototypeOf:sA,prototype:oA,keys:aA}=Object;function tu(t){if(t.length===1){let e=t[0];if(iA(e))return{args:e,keys:null};if(cA(e)){let n=aA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function cA(t){return t&&typeof t=="object"&&sA(t)===oA}function nu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ru(...t){let e=Jn(t),n=Hc(t),{args:r,keys:i}=tu(t);if(r.length===0)return Te([],e);let s=new ue(uA(r,e,i?o=>nu(i,o):It));return n?s.pipe(eu(n)):s}function uA(t,e,n=It){return r=>{vI(e,()=>{let{length:i}=t,s=new Array(i),o=i,c=i;for(let u=0;u<i;u++)vI(e,()=>{let l=Te(t[u],e),f=!1;l.subscribe(oe(r,g=>{s[u]=g,f||(f=!0,c--),c||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function vI(t,e,n){t?pt(n,t,e):e()}function _I(t,e,n,r,i,s,o,c){let u=[],l=0,f=0,g=!1,_=()=>{g&&!u.length&&!l&&e.complete()},I=N=>l<r?A(N):u.push(N),A=N=>{s&&e.next(N),l++;let x=!1;Me(n(N,f++)).subscribe(oe(e,V=>{i?.(V),s?I(V):e.next(V)},()=>{x=!0},void 0,()=>{if(x)try{for(l--;u.length&&l<r;){let V=u.shift();o?pt(e,o,()=>A(V)):A(V)}_()}catch(V){e.error(V)}}))};return t.subscribe(oe(e,I,()=>{g=!0,_()})),()=>{c?.()}}function ke(t,e,n=1/0){return Y(e)?ke((r,i)=>re((s,o)=>e(r,s,i,o))(Me(t(r,i))),n):(typeof e=="number"&&(n=e),le((r,i)=>_I(r,i,t,n)))}function Yi(t=1/0){return ke(It,t)}function II(){return Yi(1)}function Zi(...t){return II()(Te(t,Jn(t)))}function iu(t){return new ue(e=>{Me(t()).subscribe(e)})}function Bh(...t){let e=Hc(t),{args:n,keys:r}=tu(t),i=new ue(s=>{let{length:o}=n;if(!o){s.complete();return}let c=new Array(o),u=o,l=o;for(let f=0;f<o;f++){let g=!1;Me(n[f]).subscribe(oe(s,_=>{g||(g=!0,l--),c[f]=_},()=>u--,void 0,()=>{(!u||!g)&&(l||s.next(r?nu(r,c):c),s.complete())}))}});return e?i.pipe(eu(e)):i}function Bt(t,e){return le((n,r)=>{let i=0;n.subscribe(oe(r,s=>t.call(e,s,i++)&&r.next(s)))})}function tr(t){return le((e,n)=>{let r=null,i=!1,s;r=e.subscribe(oe(n,void 0,void 0,o=>{s=Me(t(o,tr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function wI(t,e,n,r,i){return(s,o)=>{let c=n,u=e,l=0;s.subscribe(oe(o,f=>{let g=l++;u=c?t(u,f,g):(c=!0,f),r&&o.next(u)},i&&(()=>{c&&o.next(u),o.complete()})))}}function Ji(t,e){return Y(e)?ke(t,e,1):ke(t,1)}function nr(t){return le((e,n)=>{let r=!1;e.subscribe(oe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function En(t){return t<=0?()=>wt:le((e,n)=>{let r=0;e.subscribe(oe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function $h(t){return re(()=>t)}function su(t=lA){return le((e,n)=>{let r=!1;e.subscribe(oe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function lA(){return new wn}function jo(t){return le((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Jt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Bt((i,s)=>t(i,s,r)):It,En(1),n?nr(e):su(()=>new wn))}function Xi(t){return t<=0?()=>wt:le((e,n)=>{let r=[];e.subscribe(oe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Hh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Bt((i,s)=>t(i,s,r)):It,Xi(1),n?nr(e):su(()=>new wn))}function zh(t,e){return le(wI(t,e,arguments.length>=2,!0))}function qh(...t){let e=Jn(t);return le((n,r)=>{(e?Zi(t,n,e):Zi(t,n)).subscribe(r)})}function $t(t,e){return le((n,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();n.subscribe(oe(r,u=>{i?.unsubscribe();let l=0,f=s++;Me(t(u,f)).subscribe(i=oe(r,g=>r.next(e?e(u,g,f,l++):g),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function Gh(t){return le((e,n)=>{Me(t).subscribe(oe(n,()=>n.complete(),Lo)),!n.closed&&e.subscribe(n)})}function Fe(t,e,n){let r=Y(t)||e||n?{next:t,error:e,complete:n}:t;return r?le((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(oe(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):It}var ow="https://g.co/ng/security#xss",B=class extends Error{constructor(e,n){super(Jf(e,n)),this.code=e}};function Jf(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Yo(t){return{toString:t}.toString()}var ou="__parameters__";function dA(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function hA(t,e,n){return Yo(()=>{let r=dA(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(u,l,f){let g=u.hasOwnProperty(ou)?u[ou]:Object.defineProperty(u,ou,{value:[]})[ou];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var af=globalThis;function Ie(t){for(let e in t)if(t[e]===Ie)return e;throw Error("Could not find renamed property on target object.")}function fA(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ut(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ut).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function EI(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var pA=Ie({__forward_ref__:Ie});function ms(t){return t.__forward_ref__=ms,t.toString=function(){return ut(this())},t}function ct(t){return aw(t)?t():t}function aw(t){return typeof t=="function"&&t.hasOwnProperty(pA)&&t.__forward_ref__===ms}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ni(t){return{providers:t.providers||[],imports:t.imports||[]}}function ju(t){return DI(t,uw)||DI(t,lw)}function cw(t){return ju(t)!==null}function DI(t,e){return t.hasOwnProperty(e)?t[e]:null}function gA(t){let e=t&&(t[uw]||t[lw]);return e||null}function bI(t){return t&&(t.hasOwnProperty(CI)||t.hasOwnProperty(mA))?t[CI]:null}var uw=Ie({\u0275prov:Ie}),CI=Ie({\u0275inj:Ie}),lw=Ie({ngInjectableDef:Ie}),mA=Ie({ngInjectorDef:Ie}),U=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function dw(t){return t&&!!t.\u0275providers}var yA=Ie({\u0275cmp:Ie}),vA=Ie({\u0275dir:Ie}),_A=Ie({\u0275pipe:Ie}),IA=Ie({\u0275mod:Ie}),yu=Ie({\u0275fac:Ie}),$o=Ie({__NG_ELEMENT_ID__:Ie}),TI=Ie({__NG_ENV_ID__:Ie});function Uu(t){return typeof t=="string"?t:t==null?"":String(t)}function wA(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Uu(t)}function EA(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new B(-200,t)}function Xf(t,e){throw new B(-201,!1)}var te=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(te||{}),cf;function hw(){return cf}function Rt(t){let e=cf;return cf=t,e}function fw(t,e,n){let r=ju(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&te.Optional)return null;if(e!==void 0)return e;Xf(t,"Injector")}var DA={},Ho=DA,uf="__NG_DI_FLAG__",vu="ngTempTokenPath",bA="ngTokenPath",CA=/\n/gm,TA="\u0275",SI="__source",rs;function SA(){return rs}function rr(t){let e=rs;return rs=t,e}function AA(t,e=te.Default){if(rs===void 0)throw new B(-203,!1);return rs===null?fw(t,void 0,e):rs.get(t,e&te.Optional?null:void 0,e)}function Z(t,e=te.Default){return(hw()||AA)(ct(t),e)}function k(t,e=te.Default){return Z(t,Bu(e))}function Bu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function lf(t){let e=[];for(let n=0;n<t.length;n++){let r=ct(t[n]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,s=te.Default;for(let o=0;o<r.length;o++){let c=r[o],u=RA(c);typeof u=="number"?u===-1?i=c.token:s|=u:i=c}e.push(Z(i,s))}else e.push(Z(r))}return e}function MA(t,e){return t[uf]=e,t.prototype[uf]=e,t}function RA(t){return t[uf]}function xA(t,e,n,r){let i=t[vu];throw e[SI]&&i.unshift(e[SI]),t.message=NA(`
`+t.message,i,n,r),t[bA]=i,t[vu]=null,t}function NA(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==TA?t.slice(2):t;let i=ut(e);if(Array.isArray(e))i=e.map(ut).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):ut(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(CA,`
  `)}`}var mt=MA(hA("Optional"),8);function ss(t,e){let n=t.hasOwnProperty(yu);return n?t[yu]:null}function PA(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function OA(t){return t.flat(Number.POSITIVE_INFINITY)}function ep(t,e){t.forEach(n=>Array.isArray(n)?ep(n,e):e(n))}function pw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function _u(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function kA(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function FA(t,e,n){let r=Zo(t,e);return r>=0?t[r|1]=n:(r=~r,kA(t,r,e,n)),r}function Wh(t,e){let n=Zo(t,e);if(n>=0)return t[n|1]}function Zo(t,e){return LA(t,e,1)}function LA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var os={},xt=[],as=new U(""),gw=new U("",-1),mw=new U(""),Iu=class{get(e,n=Ho){if(n===Ho){let r=new Error(`NullInjectorError: No provider for ${ut(e)}!`);throw r.name="NullInjectorError",r}return n}},yw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(yw||{}),tn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(tn||{}),or=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(or||{});function VA(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function df(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],c=n[r++];t.setAttribute(e,o,c,s)}else{let s=i,o=n[++r];jA(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function vw(t){return t===3||t===4||t===6}function jA(t){return t.charCodeAt(0)===64}function zo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?AI(t,n,i,null,e[++r]):AI(t,n,i,null,null))}}return t}function AI(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let c=t[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<t.length;){let c=t[s];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var _w="ng-template";function UA(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&VA(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(tp(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function tp(t){return t.type===4&&t.value!==_w}function BA(t,e,n){let r=t.type===4&&!n?_w:t.value;return e===r}function $A(t,e,n){let r=4,i=t.attrs,s=i!==null?qA(i):0,o=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!o&&!Ht(r)&&!Ht(u))return!1;if(o&&Ht(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!BA(t,u,n)||u===""&&e.length===1){if(Ht(r))return!1;o=!0}}else if(r&8){if(i===null||!UA(t,i,u,n)){if(Ht(r))return!1;o=!0}}else{let l=e[++c],f=HA(u,i,tp(t),n);if(f===-1){if(Ht(r))return!1;o=!0;continue}if(l!==""){let g;if(f>s?g="":g=i[f+1].toLowerCase(),r&2&&l!==g){if(Ht(r))return!1;o=!0}}}}return Ht(r)||o}function Ht(t){return(t&1)===0}function HA(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return GA(e,t)}function zA(t,e,n=!1){for(let r=0;r<e.length;r++)if($A(t,e[r],n))return!0;return!1}function qA(t){for(let e=0;e<t.length;e++){let n=t[e];if(vw(n))return e}return t.length}function GA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function MI(t,e){return t?":not("+e.trim()+")":e}function WA(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let c=t[++n];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Ht(o)&&(e+=MI(s,i),i=""),r=o,s=s||!Ht(r);n++}return i!==""&&(e+=MI(s,i)),e}function KA(t){return t.map(WA).join(",")}function QA(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Ht(i))break;i=s}r++}return{attrs:e,classes:n}}function yt(t){return Yo(()=>{let e=bw(t),n=se(O({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===yw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||tn.Emulated,styles:t.styles||xt,_:null,schemas:t.schemas||null,tView:null,id:""});Cw(n);let r=t.dependencies;return n.directiveDefs=xI(r,!1),n.pipeDefs=xI(r,!0),n.id=JA(n),n})}function YA(t){return Gr(t)||Iw(t)}function ZA(t){return t!==null}function ri(t){return Yo(()=>({type:t.type,bootstrap:t.bootstrap||xt,declarations:t.declarations||xt,imports:t.imports||xt,exports:t.exports||xt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function RI(t,e){if(t==null)return os;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,c=or.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=c!==or.None?[r,c]:r,e[s]=o):n[s]=r}return n}function lt(t){return Yo(()=>{let e=bw(t);return Cw(e),e})}function Gr(t){return t[yA]||null}function Iw(t){return t[vA]||null}function ww(t){return t[_A]||null}function Ew(t){let e=Gr(t)||Iw(t)||ww(t);return e!==null?e.standalone:!1}function Dw(t,e){let n=t[IA]||null;if(!n&&e===!0)throw new Error(`Type ${ut(t)} does not have '\u0275mod' property.`);return n}function bw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||os,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||xt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:RI(t.inputs,e),outputs:RI(t.outputs),debugInfo:null}}function Cw(t){t.features?.forEach(e=>e(t))}function xI(t,e){if(!t)return null;let n=e?ww:YA;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(ZA)}function JA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function on(t){return{\u0275providers:t}}function XA(...t){return{\u0275providers:Tw(!0,t),\u0275fromNgModule:!0}}function Tw(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return ep(e,o=>{let c=o;hf(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&Sw(i,s),n}function Sw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];np(i,s=>{e(s,r)})}}function hf(t,e,n,r){if(t=ct(t),!t)return!1;let i=null,s=bI(t),o=!s&&Gr(t);if(!s&&!o){let u=t.ngModule;if(s=bI(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)hf(l,e,n,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let l;try{ep(s.imports,f=>{hf(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&Sw(l,e)}if(!c){let l=ss(i)||(()=>new i);e({provide:i,useFactory:l,deps:xt},i),e({provide:mw,useValue:i,multi:!0},i),e({provide:as,useValue:()=>Z(i),multi:!0},i)}let u=s.providers;if(u!=null&&!c){let l=t;np(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function np(t,e){for(let n of t)dw(n)&&(n=n.\u0275providers),Array.isArray(n)?np(n,e):e(n)}var eM=Ie({provide:String,useValue:Ie});function Aw(t){return t!==null&&typeof t=="object"&&eM in t}function tM(t){return!!(t&&t.useExisting)}function nM(t){return!!(t&&t.useFactory)}function cs(t){return typeof t=="function"}function rM(t){return!!t.useClass}var $u=new U(""),du={},iM={},Kh;function rp(){return Kh===void 0&&(Kh=new Iu),Kh}var Pt=class{},qo=class extends Pt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,pf(e,o=>this.processProvider(o)),this.records.set(gw,es(void 0,this)),i.has("environment")&&this.records.set(Pt,es(void 0,this));let s=this.records.get($u);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(mw,xt,te.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=he(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),he(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=rr(this),r=Rt(void 0),i;try{return e()}finally{rr(n),Rt(r)}}get(e,n=Ho,r=te.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(TI))return e[TI](this);r=Bu(r);let i,s=rr(this),o=Rt(void 0);try{if(!(r&te.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=uM(e)&&ju(e);l&&this.injectableDefInScope(l)?u=es(ff(e),du):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&te.Self?rp():this.parent;return n=r&te.Optional&&n===Ho?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[vu]=c[vu]||[]).unshift(ut(e)),s)throw c;return xA(c,e,"R3InjectorError",this.source)}else throw c}finally{Rt(o),rr(s)}}resolveInjectorInitializers(){let e=he(null),n=rr(this),r=Rt(void 0),i;try{let s=this.get(as,xt,te.Self);for(let o of s)o()}finally{rr(n),Rt(r),he(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ut(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new B(205,!1)}processProvider(e){e=ct(e);let n=cs(e)?e:ct(e&&e.provide),r=oM(e);if(!cs(e)&&e.multi===!0){let i=this.records.get(n);i||(i=es(void 0,du,!0),i.factory=()=>lf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=he(null);try{return n.value===du&&(n.value=iM,n.value=n.factory()),typeof n.value=="object"&&n.value&&cM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{he(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ct(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function ff(t){let e=ju(t),n=e!==null?e.factory:ss(t);if(n!==null)return n;if(t instanceof U)throw new B(204,!1);if(t instanceof Function)return sM(t);throw new B(204,!1)}function sM(t){if(t.length>0)throw new B(204,!1);let n=gA(t);return n!==null?()=>n.factory(t):()=>new t}function oM(t){if(Aw(t))return es(void 0,t.useValue);{let e=Mw(t);return es(e,du)}}function Mw(t,e,n){let r;if(cs(t)){let i=ct(t);return ss(i)||ff(i)}else if(Aw(t))r=()=>ct(t.useValue);else if(nM(t))r=()=>t.useFactory(...lf(t.deps||[]));else if(tM(t))r=()=>Z(ct(t.useExisting));else{let i=ct(t&&(t.useClass||t.provide));if(aM(t))r=()=>new i(...lf(t.deps));else return ss(i)||ff(i)}return r}function es(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function aM(t){return!!t.deps}function cM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function uM(t){return typeof t=="function"||typeof t=="object"&&t instanceof U}function pf(t,e){for(let n of t)Array.isArray(n)?pf(n,e):n&&dw(n)?pf(n.\u0275providers,e):e(n)}function Sn(t,e){t instanceof qo&&t.assertNotDestroyed();let n,r=rr(t),i=Rt(void 0);try{return e()}finally{rr(r),Rt(i)}}function lM(){return hw()!==void 0||SA()!=null}function dM(t){return typeof t=="function"}var An=0,ee=1,G=2,tt=3,zt=4,Gt=5,wu=6,Eu=7,qt=8,us=9,nn=10,Le=11,Go=12,NI=13,ys=14,rn=15,Wr=16,ts=17,Dn=18,Hu=19,Rw=20,ir=21,Qh=22,Nt=23,ar=25,xw=1;var Kr=7,Du=8,ls=9,Et=10,bu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(bu||{});function sr(t){return Array.isArray(t)&&typeof t[xw]=="object"}function Mn(t){return Array.isArray(t)&&t[xw]===!0}function Nw(t){return(t.flags&4)!==0}function zu(t){return t.componentOffset>-1}function ip(t){return(t.flags&1)===1}function cr(t){return!!t.template}function gf(t){return(t[G]&512)!==0}var mf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Pw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function lr(){return Ow}function Ow(t){return t.type.prototype.ngOnChanges&&(t.setInput=fM),hM}lr.ngInherit=!0;function hM(){let t=Fw(this),e=t?.current;if(e){let n=t.previous;if(n===os)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function fM(t,e,n,r,i){let s=this.declaredInputs[r],o=Fw(t)||pM(t,{previous:os,current:null}),c=o.current||(o.current={}),u=o.previous,l=u[s];c[s]=new mf(l&&l.currentValue,n,u===os),Pw(t,e,i,n)}var kw="__ngSimpleChanges__";function Fw(t){return t[kw]||null}function pM(t,e){return t[kw]=e}var PI=null;var Xt=function(t,e,n){PI?.(t,e,n)},gM="svg",mM="math";function sn(t){for(;Array.isArray(t);)t=t[An];return t}function Lw(t,e){return sn(e[t])}function Ot(t,e){return sn(e[t.index])}function Vw(t,e){return t.data[e]}function dr(t,e){let n=e[t];return sr(n)?n:n[An]}function yM(t){return(t[G]&4)===4}function sp(t){return(t[G]&128)===128}function vM(t){return Mn(t[tt])}function Cu(t,e){return e==null?null:t[e]}function jw(t){t[ts]=0}function Uw(t){t[G]&1024||(t[G]|=1024,sp(t)&&Gu(t))}function _M(t,e){for(;t>0;)e=e[ys],t--;return e}function qu(t){return!!(t[G]&9216||t[Nt]?.dirty)}function yf(t){t[nn].changeDetectionScheduler?.notify(8),t[G]&64&&(t[G]|=1024),qu(t)&&Gu(t)}function Gu(t){t[nn].changeDetectionScheduler?.notify(0);let e=Qr(t);for(;e!==null&&!(e[G]&8192||(e[G]|=8192,!sp(e)));)e=Qr(e)}function Bw(t,e){if((t[G]&256)===256)throw new B(911,!1);t[ir]===null&&(t[ir]=[]),t[ir].push(e)}function IM(t,e){if(t[ir]===null)return;let n=t[ir].indexOf(e);n!==-1&&t[ir].splice(n,1)}function Qr(t){let e=t[tt];return Mn(e)?e[tt]:e}var ie={lFrame:Yw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var $w=!1;function wM(){return ie.lFrame.elementDepthCount}function EM(){ie.lFrame.elementDepthCount++}function DM(){ie.lFrame.elementDepthCount--}function Hw(){return ie.bindingsEnabled}function bM(){return ie.skipHydrationRootTNode!==null}function CM(t){return ie.skipHydrationRootTNode===t}function TM(){ie.skipHydrationRootTNode=null}function ve(){return ie.lFrame.lView}function dt(){return ie.lFrame.tView}function hr(t){return ie.lFrame.contextLView=t,t[qt]}function fr(t){return ie.lFrame.contextLView=null,t}function nt(){let t=zw();for(;t!==null&&t.type===64;)t=t.parent;return t}function zw(){return ie.lFrame.currentTNode}function SM(){let t=ie.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Jo(t,e){let n=ie.lFrame;n.currentTNode=t,n.isParent=e}function qw(){return ie.lFrame.isParent}function AM(){ie.lFrame.isParent=!1}function Gw(){return $w}function OI(t){$w=t}function MM(t){return ie.lFrame.bindingIndex=t}function Wu(){return ie.lFrame.bindingIndex++}function RM(t){let e=ie.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function xM(){return ie.lFrame.inI18n}function NM(t,e){let n=ie.lFrame;n.bindingIndex=n.bindingRootIndex=t,vf(e)}function PM(){return ie.lFrame.currentDirectiveIndex}function vf(t){ie.lFrame.currentDirectiveIndex=t}function OM(t){let e=ie.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Ww(){return ie.lFrame.currentQueryIndex}function op(t){ie.lFrame.currentQueryIndex=t}function kM(t){let e=t[ee];return e.type===2?e.declTNode:e.type===1?t[Gt]:null}function Kw(t,e,n){if(n&te.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&te.Host);)if(i=kM(s),i===null||(s=s[ys],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ie.lFrame=Qw();return r.currentTNode=e,r.lView=t,!0}function ap(t){let e=Qw(),n=t[ee];ie.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Qw(){let t=ie.lFrame,e=t===null?null:t.child;return e===null?Yw(t):e}function Yw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Zw(){let t=ie.lFrame;return ie.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Jw=Zw;function cp(){let t=Zw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function FM(t){return(ie.lFrame.contextLView=_M(t,ie.lFrame.contextLView))[qt]}function vs(){return ie.lFrame.selectedIndex}function Yr(t){ie.lFrame.selectedIndex=t}function up(){let t=ie.lFrame;return Vw(t.tView,t.selectedIndex)}function LM(){return ie.lFrame.currentNamespace}var Xw=!0;function lp(){return Xw}function dp(t){Xw=t}function VM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=Ow(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function hp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=s;o&&(t.contentHooks??=[]).push(-n,o),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function hu(t,e,n){eE(t,e,3,n)}function fu(t,e,n,r){(t[G]&3)===n&&eE(t,e,n,r)}function Yh(t,e){let n=t[G];(n&3)===e&&(n&=16383,n+=1,t[G]=n)}function eE(t,e,n,r){let i=r!==void 0?t[ts]&65535:0,s=r??-1,o=e.length-1,c=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[ts]+=65536),(c<s||s==-1)&&(jM(t,n,e,u),t[ts]=(t[ts]&4294901760)+u+2),u++}function kI(t,e){Xt(4,t,e);let n=he(null);try{e.call(t)}finally{he(n),Xt(5,t,e)}}function jM(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],c=t[o];i?t[G]>>14<t[ts]>>16&&(t[G]&3)===e&&(t[G]+=16384,kI(c,s)):kI(c,s)}var is=-1,Zr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function UM(t){return t instanceof Zr}function BM(t){return(t.flags&8)!==0}function $M(t){return(t.flags&16)!==0}var Zh={},_f=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Bu(r);let i=this.injector.get(e,Zh,r);return i!==Zh||n===Zh?i:this.parentInjector.get(e,n,r)}};function tE(t){return t!==is}function Tu(t){return t&32767}function HM(t){return t>>16}function Su(t,e){let n=HM(t),r=e;for(;n>0;)r=r[ys],n--;return r}var If=!0;function FI(t){let e=If;return If=t,e}var zM=256,nE=zM-1,rE=5,qM=0,en={};function GM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty($o)&&(r=n[$o]),r==null&&(r=n[$o]=qM++);let i=r&nE,s=1<<i;e.data[t+(i>>rE)]|=s}function Au(t,e){let n=iE(t,e);if(n!==-1)return n;let r=e[ee];r.firstCreatePass&&(t.injectorIndex=e.length,Jh(r.data,t),Jh(e,null),Jh(r.blueprint,null));let i=fp(t,e),s=t.injectorIndex;if(tE(i)){let o=Tu(i),c=Su(i,e),u=c[ee].data;for(let l=0;l<8;l++)e[s+l]=c[o+l]|u[o+l]}return e[s+8]=i,s}function Jh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function iE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function fp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=uE(i),r===null)return is;if(n++,i=i[ys],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return is}function wf(t,e,n){GM(t,e,n)}function WM(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(vw(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function sE(t,e,n){if(n&te.Optional||t!==void 0)return t;Xf(e,"NodeInjector")}function oE(t,e,n,r){if(n&te.Optional&&r===void 0&&(r=null),!(n&(te.Self|te.Host))){let i=t[us],s=Rt(void 0);try{return i?i.get(e,r,n&te.Optional):fw(e,r,n&te.Optional)}finally{Rt(s)}}return sE(r,e,n)}function aE(t,e,n,r=te.Default,i){if(t!==null){if(e[G]&2048&&!(r&te.Self)){let o=ZM(t,e,n,r,en);if(o!==en)return o}let s=cE(t,e,n,r,en);if(s!==en)return s}return oE(e,n,r,i)}function cE(t,e,n,r,i){let s=QM(n);if(typeof s=="function"){if(!Kw(e,t,r))return r&te.Host?sE(i,n,r):oE(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&te.Optional))Xf(n);else return o}finally{Jw()}}else if(typeof s=="number"){let o=null,c=iE(t,e),u=is,l=r&te.Host?e[rn][Gt]:null;for((c===-1||r&te.SkipSelf)&&(u=c===-1?fp(t,e):e[c+8],u===is||!VI(r,!1)?c=-1:(o=e[ee],c=Tu(u),e=Su(u,e)));c!==-1;){let f=e[ee];if(LI(s,c,f.data)){let g=KM(c,e,n,o,r,l);if(g!==en)return g}u=e[c+8],u!==is&&VI(r,e[ee].data[c+8]===l)&&LI(s,c,e)?(o=f,c=Tu(u),e=Su(u,e)):c=-1}}return i}function KM(t,e,n,r,i,s){let o=e[ee],c=o.data[t+8],u=r==null?zu(c)&&If:r!=o&&(c.type&3)!==0,l=i&te.Host&&s===c,f=pu(c,o,n,u,l);return f!==null?Jr(e,o,f,c):en}function pu(t,e,n,r,i){let s=t.providerIndexes,o=e.data,c=s&1048575,u=t.directiveStart,l=t.directiveEnd,f=s>>20,g=r?c:c+f,_=i?c+f:l;for(let I=g;I<_;I++){let A=o[I];if(I<u&&n===A||I>=u&&A.type===n)return I}if(i){let I=o[u];if(I&&cr(I)&&I.type===n)return u}return null}function Jr(t,e,n,r){let i=t[n],s=e.data;if(UM(i)){let o=i;o.resolving&&EA(wA(s[n]));let c=FI(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Rt(o.injectImpl):null,f=Kw(t,r,te.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&VM(n,s[n],e)}finally{l!==null&&Rt(l),FI(c),o.resolving=!1,Jw()}}return i}function QM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty($o)?t[$o]:void 0;return typeof e=="number"?e>=0?e&nE:YM:e}function LI(t,e,n){let r=1<<t;return!!(n[e+(t>>rE)]&r)}function VI(t,e){return!(t&te.Self)&&!(t&te.Host&&e)}var qr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return aE(this._tNode,this._lView,e,Bu(r),n)}};function YM(){return new qr(nt(),ve())}function Xo(t){return Yo(()=>{let e=t.prototype.constructor,n=e[yu]||Ef(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[yu]||Ef(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Ef(t){return aw(t)?()=>{let e=Ef(ct(t));return e&&e()}:ss(t)}function ZM(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[G]&2048&&!(o[G]&512);){let c=cE(s,o,n,r|te.Self,en);if(c!==en)return c;let u=s.parent;if(!u){let l=o[Rw];if(l){let f=l.get(n,en,r);if(f!==en)return f}u=uE(o),o=o[ys]}s=u}return i}function uE(t){let e=t[ee],n=e.type;return n===2?e.declTNode:n===1?t[Gt]:null}function pp(t){return WM(nt(),t)}function jI(t,e=null,n=null,r){let i=lE(t,e,n,r);return i.resolveInjectorInitializers(),i}function lE(t,e=null,n=null,r,i=new Set){let s=[n||xt,XA(t)];return r=r||(typeof t=="object"?void 0:ut(t)),new qo(s,e||rp(),r||null,i)}var Hr=class Hr{static create(e,n){if(Array.isArray(e))return jI({name:""},n,e,"");{let r=e.name??"";return jI({name:r},e.parent,e.providers,r)}}};Hr.THROW_IF_NOT_FOUND=Ho,Hr.NULL=new Iu,Hr.\u0275prov=z({token:Hr,providedIn:"any",factory:()=>Z(gw)}),Hr.__NG_ELEMENT_ID__=-1;var gt=Hr;var JM=new U("");JM.__NG_ELEMENT_ID__=t=>{let e=nt();if(e===null)throw new B(204,!1);if(e.type&2)return e.value;if(t&te.Optional)return null;throw new B(204,!1)};var XM="ngOriginalError";function Xh(t){return t[XM]}var dE=!0,hE=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=eR,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Df=class extends hE{constructor(e){super(),this._lView=e}onDestroy(e){return Bw(this._lView,e),()=>IM(this._lView,e)}};function eR(){return new Df(ve())}var _s=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ke(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var bf=class extends Be{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,lM()&&(this.destroyRef=k(hE,{optional:!0})??void 0,this.pendingTasks=k(_s,{optional:!0})??void 0)}emit(e){let n=he(null);try{super.next(e)}finally{he(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof Ce&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Se=bf;function Mu(...t){}function fE(t){let e,n;function r(){t=Mu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function UI(t){return queueMicrotask(()=>t()),()=>{t=Mu}}var gp="isAngularZone",Ru=gp+"_ID",tR=0,ye=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Se(!1),this.onMicrotaskEmpty=new Se(!1),this.onStable=new Se(!1),this.onError=new Se(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=dE}=e;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,iR(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(gp)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new B(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,nR,Mu,Mu);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},nR={};function mp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function rR(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){fE(()=>{t.callbackScheduled=!1,Cf(t),t.isCheckStableRunning=!0,mp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Cf(t)}function iR(t){let e=()=>{rR(t)},n=tR++;t._inner=t._inner.fork({name:"angular",properties:{[gp]:!0,[Ru]:n,[Ru+n]:!0},onInvokeTask:(r,i,s,o,c,u)=>{if(sR(u))return r.invokeTask(s,o,c,u);try{return BI(t),r.invokeTask(s,o,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),$I(t)}},onInvoke:(r,i,s,o,c,u,l)=>{try{return BI(t),r.invoke(s,o,c,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!oR(u)&&e(),$I(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Cf(t),mp(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Cf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function BI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function $I(t){t._nesting--,mp(t)}var Tf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Se,this.onMicrotaskEmpty=new Se,this.onStable=new Se,this.onError=new Se}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function sR(t){return pE(t,"__ignore_ng_zone__")}function oR(t){return pE(t,"__scheduler_tick__")}function pE(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var bn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Xh(e);for(;n&&Xh(n);)n=Xh(n);return n||null}},aR=new U("",{providedIn:"root",factory:()=>{let t=k(ye),e=k(bn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function cR(){return Is(nt(),ve())}function Is(t,e){return new kt(Ot(t,e))}var kt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=cR;let t=e;return t})();function uR(t){return t instanceof kt?t.nativeElement:t}function lR(){return this._results[Symbol.iterator]()}var Sf=class t{get changes(){return this._changes??=new Se}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=lR)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=OA(e);(this._changesDetected=!PA(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function gE(t){return(t.flags&128)===128}var mE=new Map,dR=0;function hR(){return dR++}function fR(t){mE.set(t[Hu],t)}function Af(t){mE.delete(t[Hu])}var HI="__ngContext__";function Xr(t,e){sr(e)?(t[HI]=e[Hu],fR(e)):t[HI]=e}function yE(t){return _E(t[Go])}function vE(t){return _E(t[zt])}function _E(t){for(;t!==null&&!Mn(t);)t=t[zt];return t}var Mf;function IE(t){Mf=t}function pR(){if(Mf!==void 0)return Mf;if(typeof document<"u")return document;throw new B(210,!1)}var yp=new U("",{providedIn:"root",factory:()=>gR}),gR="ng",vp=new U(""),pr=new U("",{providedIn:"platform",factory:()=>"unknown"});var _p=new U("",{providedIn:"root",factory:()=>pR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var mR="h",yR="b";var vR=()=>null;function Ip(t,e,n=!1){return vR(t,e,n)}var wE=!1,_R=new U("",{providedIn:"root",factory:()=>wE});var au;function IR(){if(au===void 0&&(au=null,af.trustedTypes))try{au=af.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return au}function zI(t){return IR()?.createScriptURL(t)||t}var xu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ow})`}};function ea(t){return t instanceof xu?t.changingThisBreaksApplicationSecurity:t}function wp(t,e){let n=wR(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${ow})`)}return n===e}function wR(t){return t instanceof xu&&t.getTypeName()||null}var ER=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function EE(t){return t=String(t),t.match(ER)?t:"unsafe:"+t}var Ku=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ku||{});function DR(t){let e=bE();return e?e.sanitize(Ku.URL,t)||"":wp(t,"URL")?ea(t):EE(Uu(t))}function bR(t){let e=bE();if(e)return zI(e.sanitize(Ku.RESOURCE_URL,t)||"");if(wp(t,"ResourceURL"))return zI(ea(t));throw new B(904,!1)}function CR(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?bR:DR}function DE(t,e,n){return CR(e,n)(t)}function bE(){let t=ve();return t&&t[nn].sanitizer}function CE(t){return t instanceof Function?t():t}var Cn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Cn||{}),TR;function Ep(t,e){return TR(t,e)}function ns(t,e,n,r,i){if(r!=null){let s,o=!1;Mn(r)?s=r:sr(r)&&(o=!0,r=r[An]);let c=sn(r);t===0&&n!==null?i==null?RE(e,n,c):Nu(e,n,c,i||null,!0):t===1&&n!==null?Nu(e,n,c,i||null,!0):t===2?BR(e,c,o):t===3&&e.destroyNode(c),s!=null&&HR(e,t,s,n,i)}}function SR(t,e){return t.createText(e)}function AR(t,e,n){t.setValue(e,n)}function TE(t,e,n){return t.createElement(e,n)}function MR(t,e){SE(t,e),e[An]=null,e[Gt]=null}function RR(t,e,n,r,i,s){r[An]=i,r[Gt]=e,Qu(t,r,n,1,i,s)}function SE(t,e){e[nn].changeDetectionScheduler?.notify(9),Qu(t,e,e[Le],2,null,null)}function xR(t){let e=t[Go];if(!e)return ef(t[ee],t);for(;e;){let n=null;if(sr(e))n=e[Go];else{let r=e[Et];r&&(n=r)}if(!n){for(;e&&!e[zt]&&e!==t;)sr(e)&&ef(e[ee],e),e=e[tt];e===null&&(e=t),sr(e)&&ef(e[ee],e),n=e&&e[zt]}e=n}}function NR(t,e,n,r){let i=Et+r,s=n.length;r>0&&(n[i-1][zt]=e),r<s-Et?(e[zt]=n[i],pw(n,Et+r,e)):(n.push(e),e[zt]=null),e[tt]=n;let o=e[Wr];o!==null&&n!==o&&AE(o,e);let c=e[Dn];c!==null&&c.insertView(t),yf(e),e[G]|=128}function AE(t,e){let n=t[ls],r=e[tt];if(sr(r))t[G]|=bu.HasTransplantedViews;else{let i=r[tt][rn];e[rn]!==i&&(t[G]|=bu.HasTransplantedViews)}n===null?t[ls]=[e]:n.push(e)}function Dp(t,e){let n=t[ls],r=n.indexOf(e);n.splice(r,1)}function Rf(t,e){if(t.length<=Et)return;let n=Et+e,r=t[n];if(r){let i=r[Wr];i!==null&&i!==t&&Dp(i,r),e>0&&(t[n-1][zt]=r[zt]);let s=_u(t,Et+e);MR(r[ee],r);let o=s[Dn];o!==null&&o.detachView(s[ee]),r[tt]=null,r[zt]=null,r[G]&=-129}return r}function ME(t,e){if(!(e[G]&256)){let n=e[Le];n.destroyNode&&Qu(t,e,n,3,null,null),xR(e)}}function ef(t,e){if(e[G]&256)return;let n=he(null);try{e[G]&=-129,e[G]|=256,e[Nt]&&Ch(e[Nt]),OR(t,e),PR(t,e),e[ee].type===1&&e[Le].destroy();let r=e[Wr];if(r!==null&&Mn(e[tt])){r!==e[tt]&&Dp(r,e);let i=e[Dn];i!==null&&i.detachView(t)}Af(e)}finally{he(n)}}function PR(t,e){let n=t.cleanup,r=e[Eu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Eu]=null);let i=e[ir];if(i!==null){e[ir]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function OR(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Zr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],u=s[o+1];Xt(4,c,u);try{u.call(c)}finally{Xt(5,c,u)}}else{Xt(4,i,s);try{s.call(i)}finally{Xt(5,i,s)}}}}}function kR(t,e,n){return FR(t,e.parent,n)}function FR(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[An];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===tn.None||s===tn.Emulated)return null}return Ot(r,n)}}function Nu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function RE(t,e,n){t.appendChild(e,n)}function qI(t,e,n,r,i){r!==null?Nu(t,e,n,r,i):RE(t,e,n)}function xE(t,e){return t.parentNode(e)}function LR(t,e){return t.nextSibling(e)}function VR(t,e,n){return UR(t,e,n)}function jR(t,e,n){return t.type&40?Ot(t,n):null}var UR=jR,GI;function bp(t,e,n,r){let i=kR(t,r,e),s=e[Le],o=r.parent||e[Gt],c=VR(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)qI(s,i,n[u],c,!1);else qI(s,i,n,c,!1);GI!==void 0&&GI(s,r,e,n,i)}function Uo(t,e){if(e!==null){let n=e.type;if(n&3)return Ot(e,t);if(n&4)return xf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Uo(t,r);{let i=t[e.index];return Mn(i)?xf(-1,i):sn(i)}}else{if(n&128)return Uo(t,e.next);if(n&32)return Ep(e,t)()||sn(t[e.index]);{let r=NE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Qr(t[rn]);return Uo(i,r)}else return Uo(t,e.next)}}}return null}function NE(t,e){if(e!==null){let r=t[rn][Gt],i=e.projection;return r.projection[i]}return null}function xf(t,e){let n=Et+t+1;if(n<e.length){let r=e[n],i=r[ee].firstChild;if(i!==null)return Uo(r,i)}return e[Kr]}function BR(t,e,n){t.removeChild(null,e,n)}function Cp(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(o&&e===0&&(c&&Xr(sn(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Cp(t,e,n.child,r,i,s,!1),ns(e,t,i,c,s);else if(u&32){let l=Ep(n,r),f;for(;f=l();)ns(e,t,i,f,s);ns(e,t,i,c,s)}else u&16?$R(t,e,r,n,i,s):ns(e,t,i,c,s);n=o?n.projectionNext:n.next}}function Qu(t,e,n,r,i,s){Cp(n,r,t.firstChild,e,i,s,!1)}function $R(t,e,n,r,i,s){let o=n[rn],u=o[Gt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];ns(e,t,i,f,s)}else{let l=u,f=o[tt];gE(r)&&(l.flags|=128),Cp(t,e,l,f,i,s,!0)}}function HR(t,e,n,r,i){let s=n[Kr],o=sn(n);s!==o&&ns(e,t,r,s,i);for(let c=Et;c<n.length;c++){let u=n[c];Qu(u[ee],u,t,e,r,s)}}function zR(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Cn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Cn.Important),t.setStyle(n,r,i,s))}}function qR(t,e,n){t.setAttribute(e,"style",n)}function PE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function OE(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&df(t,e,r),i!==null&&PE(t,e,i),s!==null&&qR(t,e,s)}var ws={};function $e(t=1){kE(dt(),ve(),vs()+t,!1)}function kE(t,e,n,r){if(!r)if((e[G]&3)===3){let s=t.preOrderCheckHooks;s!==null&&hu(e,s,n)}else{let s=t.preOrderHooks;s!==null&&fu(e,s,0,n)}Yr(n)}function W(t,e=te.Default){let n=ve();if(n===null)return Z(t,e);let r=nt();return aE(r,n,ct(t),e)}function FE(t,e,n,r,i,s){let o=he(null);try{let c=null;i&or.SignalBased&&(c=e[r][In]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&or.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,c,s,n,r):Pw(e,c,r,s)}finally{he(o)}}function GR(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Yr(~i);else{let s=i,o=n[++r],c=n[++r];NM(o,s);let u=e[s];c(2,u)}}}finally{Yr(-1)}}function Yu(t,e,n,r,i,s,o,c,u,l,f){let g=e.blueprint.slice();return g[An]=i,g[G]=r|4|128|8|64,(l!==null||t&&t[G]&2048)&&(g[G]|=2048),jw(g),g[tt]=g[ys]=t,g[qt]=n,g[nn]=o||t&&t[nn],g[Le]=c||t&&t[Le],g[us]=u||t&&t[us]||null,g[Gt]=s,g[Hu]=hR(),g[wu]=f,g[Rw]=l,g[rn]=e.type==2?t[rn]:g,g}function Zu(t,e,n,r,i){let s=t.data[e];if(s===null)s=WR(t,e,n,r,i),xM()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=SM();s.injectorIndex=o===null?-1:o.injectorIndex}return Jo(s,!0),s}function WR(t,e,n,r,i){let s=zw(),o=qw(),c=o?s:s&&s.parent,u=t.data[e]=XR(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function LE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function VE(t,e,n,r,i){let s=vs(),o=r&2;try{Yr(-1),o&&e.length>ar&&kE(t,e,ar,!1),Xt(o?2:0,i),n(r,i)}finally{Yr(s),Xt(o?3:1,i)}}function jE(t,e,n){if(Nw(e)){let r=he(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=t.data[o];if(c.contentQueries){let u=n[o];c.contentQueries(1,u,o)}}}finally{he(r)}}}function UE(t,e,n){Hw()&&(sx(t,e,n,Ot(n,e)),(n.flags&64)===64&&GE(t,e,n))}function BE(t,e,n=Ot){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?n(e,t):t[o];t[i++]=c}}}function $E(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Tp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Tp(t,e,n,r,i,s,o,c,u,l,f){let g=ar+r,_=g+i,I=KR(g,_),A=typeof l=="function"?l():l;return I[ee]={type:t,blueprint:I,template:n,queries:null,viewQuery:c,declTNode:e,data:I.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function KR(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ws);return n}function QR(t,e,n,r){let s=r.get(_R,wE)||n===tn.ShadowDom,o=t.selectRootElement(e,s);return YR(o),o}function YR(t){ZR(t)}var ZR=()=>null;function JR(t,e,n,r){let i=QE(e);i.push(n),t.firstCreatePass&&YE(t).push(r,i.length-1)}function XR(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,c=0;return bM()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function WI(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,u=or.None;Array.isArray(o)?(c=o[0],u=o[1]):c=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?KI(r,n,l,c,u):KI(r,n,l,c)}return r}function KI(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function ex(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,c=[],u=null,l=null;for(let f=r;f<i;f++){let g=s[f],_=n?n.get(g):null,I=_?_.inputs:null,A=_?_.outputs:null;u=WI(0,g.inputs,f,u,I),l=WI(1,g.outputs,f,l,A);let N=u!==null&&o!==null&&!tp(e)?mx(u,f,o):null;c.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function tx(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function HE(t,e,n,r,i,s,o,c){let u=Ot(e,n),l=e.inputs,f;!c&&l!=null&&(f=l[r])?(Sp(t,n,f,r,i),zu(e)&&nx(n,e.index)):e.type&3?(r=tx(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function nx(t,e){let n=dr(e,t);n[G]&16||(n[G]|=64)}function zE(t,e,n,r){if(Hw()){let i=r===null?null:{"":-1},s=ax(t,n),o,c;s===null?o=c=null:[o,c]=s,o!==null&&qE(t,e,n,o,i,c),i&&cx(n,r,i)}n.mergedAttrs=zo(n.mergedAttrs,n.attrs)}function qE(t,e,n,r,i,s){for(let l=0;l<r.length;l++)wf(Au(n,e),t,r[l].type);lx(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let o=!1,c=!1,u=LE(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=zo(n.mergedAttrs,f.hostAttrs),dx(t,n,e,u,f),ux(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let g=f.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!c&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}ex(t,n,s)}function rx(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let c=~e.index;ix(o)!=c&&o.push(c),o.push(n,r,s)}}function ix(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function sx(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;zu(n)&&hx(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Au(n,e),Xr(r,e);let o=n.initialInputs;for(let c=i;c<s;c++){let u=t.data[c],l=Jr(e,t,c,n);if(Xr(l,e),o!==null&&gx(e,c-i,l,u,n,o),cr(u)){let f=dr(n.index,e);f[qt]=Jr(e,t,c,n)}}}function GE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=PM();try{Yr(s);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];vf(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&ox(u,l)}}finally{Yr(-1),vf(o)}}function ox(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function ax(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(zA(e,o.selectors,!1))if(r||(r=[]),cr(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let u=c.length;Nf(t,e,u)}else r.unshift(o),Nf(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Nf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function cx(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new B(-301,!1);r.push(e[i],s)}}}function ux(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;cr(e)&&(n[""]=t)}}function lx(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function dx(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=ss(i.type,!0)),o=new Zr(s,cr(i),W);t.blueprint[r]=o,n[r]=o,rx(t,e,r,LE(t,n,i.hostVars,ws),i)}function hx(t,e,n){let r=Ot(e,t),i=$E(n),s=t[nn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let c=Ju(t,Yu(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=c}function fx(t,e,n,r,i,s){let o=Ot(t,e);px(e[Le],o,s,t.value,n,r,i)}function px(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let c=o==null?Uu(s):o(s,r||"",i);t.setAttribute(e,i,c,n)}}function gx(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let u=o[c++],l=o[c++],f=o[c++],g=o[c++];FE(r,n,u,l,f,g)}}function mx(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],n[i+1]);break}}i+=2}return r}function WE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function KE(t,e){let n=t.contentQueries;if(n!==null){let r=he(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let c=t.data[o];op(s),c.contentQueries(2,e[o],o)}}}finally{he(r)}}}function Ju(t,e){return t[Go]?t[NI][zt]=e:t[Go]=e,t[NI]=e,e}function Pf(t,e,n){op(0);let r=he(null);try{e(t,n)}finally{he(r)}}function QE(t){return t[Eu]??=[]}function YE(t){return t.cleanup??=[]}function ZE(t,e){let n=t[us],r=n?n.get(bn,null):null;r&&r.handleError(e)}function Sp(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],c=n[s++],u=n[s++],l=e[o],f=t.data[o];FE(f,l,r,c,u,i)}}function yx(t,e,n){let r=Lw(e,t);AR(t[Le],r,n)}function vx(t,e){let n=dr(e,t),r=n[ee];_x(r,n);let i=n[An];i!==null&&n[wu]===null&&(n[wu]=Ip(i,n[us])),Ap(r,n,n[qt])}function _x(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Ap(t,e,n){ap(e);try{let r=t.viewQuery;r!==null&&Pf(1,r,n);let i=t.template;i!==null&&VE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Dn]?.finishViewCreation(t),t.staticContentQueries&&KE(t,e),t.staticViewQueries&&Pf(2,t.viewQuery,n);let s=t.components;s!==null&&Ix(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[G]&=-5,cp()}}function Ix(t,e){for(let n=0;n<e.length;n++)vx(t,e[n])}function wx(t,e,n,r){let i=he(null);try{let s=e.tView,c=t[G]&4096?4096:16,u=Yu(t,s,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Wr]=l;let f=t[Dn];return f!==null&&(u[Dn]=f.createEmbeddedView(s)),Ap(s,u,n),u}finally{he(i)}}function QI(t,e){return!e||e.firstChild===null||gE(t)}function Ex(t,e,n,r=!0){let i=e[ee];if(NR(i,e,t,n),r){let o=xf(n,t),c=e[Le],u=xE(c,t[Kr]);u!==null&&RR(i,t[Gt],c,e,u,o)}let s=e[wu];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Pu(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(sn(s)),Mn(s)&&Dx(s,r);let o=n.type;if(o&8)Pu(t,e,n.child,r);else if(o&32){let c=Ep(n,e),u;for(;u=c();)r.push(u)}else if(o&16){let c=NE(e,n);if(Array.isArray(c))r.push(...c);else{let u=Qr(e[rn]);Pu(u[ee],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function Dx(t,e){for(let n=Et;n<t.length;n++){let r=t[n],i=r[ee].firstChild;i!==null&&Pu(r[ee],r,i,e)}t[Kr]!==t[An]&&e.push(t[Kr])}var JE=[];function bx(t){return t[Nt]??Cx(t)}function Cx(t){let e=JE.pop()??Object.create(Sx);return e.lView=t,e}function Tx(t){t.lView[Nt]!==t&&(t.lView=null,JE.push(t))}var Sx=se(O({},Fo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Gu(t.lView)},consumerOnSignalRead(){this.lView[Nt]=this}});function Ax(t){let e=t[Nt]??Object.create(Mx);return e.lView=t,e}var Mx=se(O({},Fo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Qr(t.lView);for(;e&&!XE(e[ee]);)e=Qr(e);e&&Uw(e)},consumerOnSignalRead(){this.lView[Nt]=this}});function XE(t){return t.type!==2}var Rx=100;function eD(t,e=!0,n=0){let r=t[nn],i=r.rendererFactory,s=!1;s||i.begin?.();try{xx(t,n)}catch(o){throw e&&ZE(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function xx(t,e){let n=Gw();try{OI(!0),Of(t,e);let r=0;for(;qu(t);){if(r===Rx)throw new B(103,!1);r++,Of(t,1)}}finally{OI(n)}}function Nx(t,e,n,r){let i=e[G];if((i&256)===256)return;let s=!1,o=!1;!s&&e[nn].inlineEffectRunner?.flush(),ap(e);let c=!0,u=null,l=null;s||(XE(t)?(l=bx(e),u=Nc(l)):V_()===null?(c=!1,l=Ax(e),u=Nc(l)):e[Nt]&&(Ch(e[Nt]),e[Nt]=null));try{jw(e),MM(t.bindingStartIndex),n!==null&&VE(t,e,n,2,r);let f=(i&3)===3;if(!s)if(f){let I=t.preOrderCheckHooks;I!==null&&hu(e,I,null)}else{let I=t.preOrderHooks;I!==null&&fu(e,I,0,null),Yh(e,0)}if(o||Px(e),tD(e,0),t.contentQueries!==null&&KE(t,e),!s)if(f){let I=t.contentCheckHooks;I!==null&&hu(e,I)}else{let I=t.contentHooks;I!==null&&fu(e,I,1),Yh(e,1)}GR(t,e);let g=t.components;g!==null&&rD(e,g,0);let _=t.viewQuery;if(_!==null&&Pf(2,_,r),!s)if(f){let I=t.viewCheckHooks;I!==null&&hu(e,I)}else{let I=t.viewHooks;I!==null&&fu(e,I,2),Yh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Qh]){for(let I of e[Qh])I();e[Qh]=null}s||(e[G]&=-73)}catch(f){throw s||Gu(e),f}finally{l!==null&&(Dh(l,u),c&&Tx(l)),cp()}}function tD(t,e){for(let n=yE(t);n!==null;n=vE(n))for(let r=Et;r<n.length;r++){let i=n[r];nD(i,e)}}function Px(t){for(let e=yE(t);e!==null;e=vE(e)){if(!(e[G]&bu.HasTransplantedViews))continue;let n=e[ls];for(let r=0;r<n.length;r++){let i=n[r];Uw(i)}}}function Ox(t,e,n){let r=dr(e,t);nD(r,n)}function nD(t,e){sp(t)&&Of(t,e)}function Of(t,e){let r=t[ee],i=t[G],s=t[Nt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&bh(s)),o||=!1,s&&(s.dirty=!1),t[G]&=-9217,o)Nx(r,t,r.template,t[qt]);else if(i&8192){tD(t,1);let c=r.components;c!==null&&rD(t,c,1)}}function rD(t,e,n){for(let r=0;r<e.length;r++)Ox(t,e[r],n)}function Mp(t,e){let n=Gw()?64:1088;for(t[nn].changeDetectionScheduler?.notify(e);t;){t[G]|=n;let r=Qr(t);if(gf(t)&&!r)return t;t=r}return null}var ei=class{get rootNodes(){let e=this._lView,n=e[ee];return Pu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qt]}set context(e){this._lView[qt]=e}get destroyed(){return(this._lView[G]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[tt];if(Mn(e)){let n=e[Du],r=n?n.indexOf(this):-1;r>-1&&(Rf(e,r),_u(n,r))}this._attachedToViewContainer=!1}ME(this._lView[ee],this._lView)}onDestroy(e){Bw(this._lView,e)}markForCheck(){Mp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[G]&=-129}reattach(){yf(this._lView),this._lView[G]|=128}detectChanges(){this._lView[G]|=1024,eD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=gf(this._lView),n=this._lView[Wr];n!==null&&!e&&Dp(n,this._lView),SE(this._lView[ee],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;let n=gf(this._lView),r=this._lView[Wr];r!==null&&!n&&AE(r,this._lView),yf(this._lView)}},ds=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Lx;let t=e;return t})(),kx=ds,Fx=class extends kx{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=wx(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ei(i)}};function Lx(){return Rp(nt(),ve())}function Rp(t,e){return t.type&4?new Fx(e,t,Is(t,e)):null}var m4=new RegExp(`^(\\d+)*(${yR}|${mR})*(.*)`);var Vx=()=>null;function YI(t,e){return Vx(t,e)}var hs=class{},xp=new U("",{providedIn:"root",factory:()=>!1});var iD=new U(""),sD=new U(""),kf=class{},Ou=class{};function jx(t){let e=Error(`No component factory found for ${ut(t)}.`);return e[Ux]=t,e}var Ux="ngComponent";var Ff=class{resolveComponentFactory(e){throw jx(e)}},jp=class jp{};jp.NULL=new Ff;var fs=jp,ps=class{},gr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Bx();let t=e;return t})();function Bx(){let t=ve(),e=nt(),n=dr(e.index,t);return(sr(n)?n:t)[Le]}var $x=(()=>{let e=class e{};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function Lf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=EI(i,c);else if(s==2){let u=c,l=e[++o];r=EI(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var ku=class extends fs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Gr(e);return new Wo(n,this.ngModule)}};function ZI(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,c=s?i[1]:or.None;e?n.push({propName:o,templateName:r,isSignal:(c&or.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function Hx(t){let e=t.toLowerCase();return e==="svg"?gM:e==="math"?mM:null}var Wo=class extends Ou{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=ZI(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return ZI(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=KA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=he(null);try{i=i||this.ngModule;let o=i instanceof Pt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new _f(e,o):e,u=c.get(ps,null);if(u===null)throw new B(407,!1);let l=c.get($x,null),f=c.get(hs,null),g={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:f},_=u.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",A=r?QR(_,r,this.componentDef.encapsulation,c):TE(_,I,Hx(I)),N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let x=null;A!==null&&(x=Ip(A,c,!0));let V=Tp(0,null,null,1,0,null,null,null,null,null,null),Q=Yu(null,V,null,N,null,null,g,_,c,null,x);ap(Q);let X,ge,Ge=null;try{let fe=this.componentDef,D,m=null;fe.findHostDirectiveDefs?(D=[],m=new Map,fe.findHostDirectiveDefs(fe,D,m),D.push(fe)):D=[fe];let y=zx(Q,A);Ge=qx(y,A,fe,D,Q,g,_),ge=Vw(V,ar),A&&Kx(_,fe,A,r),n!==void 0&&Qx(ge,this.ngContentSelectors,n),X=Wx(Ge,fe,D,m,Q,[Yx]),Ap(V,Q,null)}catch(fe){throw Ge!==null&&Af(Ge),Af(Q),fe}finally{cp()}return new Vf(this.componentType,X,Is(ge,Q),Q,ge)}finally{he(s)}}},Vf=class extends kf{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ei(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Sp(s[ee],s,i,e,n),this.previousInputValues.set(e,n);let o=dr(this._tNode.index,s);Mp(o,1)}}get injector(){return new qr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function zx(t,e){let n=t[ee],r=ar;return t[r]=e,Zu(n,r,2,"#host",null)}function qx(t,e,n,r,i,s,o){let c=i[ee];Gx(r,t,e,o);let u=null;e!==null&&(u=Ip(e,i[us]));let l=s.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let g=Yu(i,$E(n),null,f,i[t.index],t,s,l,null,null,u);return c.firstCreatePass&&Nf(c,t,r.length-1),Ju(i,g),i[t.index]=g}function Gx(t,e,n,r){for(let i of t)e.mergedAttrs=zo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Lf(e,e.mergedAttrs,!0),n!==null&&OE(r,n,e))}function Wx(t,e,n,r,i,s){let o=nt(),c=i[ee],u=Ot(o,i);qE(c,i,o,n,null,r);for(let f=0;f<n.length;f++){let g=o.directiveStart+f,_=Jr(i,c,g,o);Xr(_,i)}GE(c,i,o),u&&Xr(u,i);let l=Jr(i,c,o.directiveStart+o.componentOffset,o);if(t[qt]=i[qt]=l,s!==null)for(let f of s)f(l,e);return jE(c,o,i),l}function Kx(t,e,n,r){if(r)df(t,n,["ng-version","18.2.3"]);else{let{attrs:i,classes:s}=QA(e.selectors[0]);i&&df(t,n,i),s&&s.length>0&&PE(t,n,s.join(" "))}}function Qx(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function Yx(){let t=nt();hp(ve()[ee],t)}var ii=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Zx;let t=e;return t})();function Zx(){let t=nt();return aD(t,ve())}var Jx=ii,oD=class extends Jx{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Is(this._hostTNode,this._hostLView)}get injector(){return new qr(this._hostTNode,this._hostLView)}get parentInjector(){let e=fp(this._hostTNode,this._hostLView);if(tE(e)){let n=Su(e,this._hostLView),r=Tu(e),i=n[ee].data[r+8];return new qr(i,n)}else return new qr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=JI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Et}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=YI(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(c,i,QI(this._hostTNode,o)),c}createComponent(e,n,r,i,s){let o=e&&!dM(e),c;if(o)c=n;else{let A=n||{};c=A.index,r=A.injector,i=A.projectableNodes,s=A.environmentInjector||A.ngModuleRef}let u=o?e:new Wo(Gr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let N=(o?l:this.parentInjector).get(Pt,null);N&&(s=N)}let f=Gr(u.componentType??{}),g=YI(this._lContainer,f?.id??null),_=g?.firstChild??null,I=u.create(l,i,_,s);return this.insertImpl(I.hostView,c,QI(this._hostTNode,g)),I}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(vM(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[tt],l=new oD(u,u[Gt],u[tt]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Ex(o,i,s,r),e.attachToViewContainerRef(),pw(tf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=JI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Rf(this._lContainer,n);r&&(_u(tf(this._lContainer),n),ME(r[ee],r))}detach(e){let n=this._adjustIndex(e,-1),r=Rf(this._lContainer,n);return r&&_u(tf(this._lContainer),n)!=null?new ei(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function JI(t){return t[Du]}function tf(t){return t[Du]||(t[Du]=[])}function aD(t,e){let n,r=e[t.index];return Mn(r)?n=r:(n=WE(r,e,null,t),e[t.index]=n,Ju(e,n)),eN(n,e,t,r),new oD(n,t,e)}function Xx(t,e){let n=t[Le],r=n.createComment(""),i=Ot(e,t),s=xE(n,i);return Nu(n,s,r,LR(n,i),!1),r}var eN=rN,tN=()=>!1;function nN(t,e,n){return tN(t,e,n)}function rN(t,e,n,r){if(t[Kr])return;let i;n.type&8?i=sn(r):i=Xx(e,n),t[Kr]=i}var jf=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Uf=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),c=this.queries[o.indexInDeclarationView];i.push(c.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Np(e,n).matches!==null&&this.queries[n].setDirty()}},Bf=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=dN(e):this.predicate=e}},$f=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Hf=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,iN(n,s)),this.matchTNodeWithReadOption(e,n,pu(n,e,s,!1,!1))}else r===ds?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,pu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===kt||i===ii||i===ds&&n.type&4)this.addMatch(n.index,-2);else{let s=pu(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function iN(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function sN(t,e){return t.type&11?Is(t,e):t.type&4?Rp(t,e):null}function oN(t,e,n,r){return n===-1?sN(e,t):n===-2?aN(t,e,r):Jr(t,t[ee],n,e)}function aN(t,e,n){if(n===kt)return Is(e,t);if(n===ds)return Rp(e,t);if(n===ii)return aD(e,t)}function cD(t,e,n,r){let i=e[Dn].queries[r];if(i.matches===null){let s=t.data,o=n.matches,c=[];for(let u=0;o!==null&&u<o.length;u+=2){let l=o[u];if(l<0)c.push(null);else{let f=s[l];c.push(oN(e,f,o[u+1],n.metadata.read))}}i.matches=c}return i.matches}function zf(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=cD(t,e,i,n);for(let c=0;c<s.length;c+=2){let u=s[c];if(u>0)r.push(o[c/2]);else{let l=s[c+1],f=e[-u];for(let g=Et;g<f.length;g++){let _=f[g];_[Wr]===_[tt]&&zf(_[ee],_,l,r)}if(f[ls]!==null){let g=f[ls];for(let _=0;_<g.length;_++){let I=g[_];zf(I[ee],I,l,r)}}}}}return r}function cN(t,e){return t[Dn].queries[e].queryList}function uN(t,e,n){let r=new Sf((n&4)===4);return JR(t,e,r,r.destroy),(e[Dn]??=new Uf).queries.push(new jf(r))-1}function lN(t,e,n,r){let i=dt();if(i.firstCreatePass){let s=nt();hN(i,new Bf(e,n,r),s.index),fN(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return uN(i,ve(),n)}function dN(t){return t.split(",").map(e=>e.trim())}function hN(t,e,n){t.queries===null&&(t.queries=new $f),t.queries.track(new Hf(e,n))}function fN(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Np(t,e){return t.queries.getByIndex(e)}function pN(t,e){let n=t[ee],r=Np(n,e);return r.crossesNgTemplate?zf(n,t,e,[]):cD(n,t,r,e)}var XI=new Set;function ta(t){XI.has(t)||(XI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function gN(t){return typeof t=="function"&&t[In]!==void 0}function na(t,e){ta("NgSignals");let n=Q_(t),r=n[In];return e?.equal&&(r.equal=e.equal),n.set=i=>Th(r,i),n.update=i=>Y_(r,i),n.asReadonly=mN.bind(n),n}function mN(){let t=this[In];if(t.readonlyFn===void 0){let e=()=>this();e[In]=t,t.readonlyFn=e}return t.readonlyFn}function uD(t){return gN(t)&&typeof t.set=="function"}function yN(t){return Object.getPrototypeOf(t.prototype).constructor}function mr(t){let e=yN(t.type),n=!0,r=[t];for(;e;){let i;if(cr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=cu(t.inputs),o.inputTransforms=cu(t.inputTransforms),o.declaredInputs=cu(t.declaredInputs),o.outputs=cu(t.outputs);let c=i.hostBindings;c&&EN(t,c);let u=i.viewQuery,l=i.contentQueries;if(u&&IN(t,u),l&&wN(t,l),vN(t,i),fA(t.outputs,i.outputs),cr(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let c=s[o];c&&c.ngInherit&&c(t),c===mr&&(n=!1)}}e=Object.getPrototypeOf(e)}_N(r)}function vN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function _N(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=zo(i.hostAttrs,n=zo(n,i.hostAttrs))}}function cu(t){return t===os?{}:t===xt?[]:t}function IN(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function wN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function EN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Pp(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var ur=class{},Ko=class{};var qf=class extends ur{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ku(this);let s=Dw(e);this._bootstrapComponents=CE(s.bootstrap),this._r3Injector=lE(e,n,[{provide:ur,useValue:this},{provide:fs,useValue:this.componentFactoryResolver},...r],ut(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Gf=class extends Ko{constructor(e){super(),this.moduleType=e}create(e){return new qf(this.moduleType,e,[])}};var Fu=class extends ur{constructor(e){super(),this.componentFactoryResolver=new ku(this),this.instance=null;let n=new qo([...e.providers,{provide:ur,useValue:this},{provide:fs,useValue:this.componentFactoryResolver}],e.parent||rp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Op(t,e,n=null){return new Fu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function ra(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function DN(t){return(t.flags&32)===32}function bN(t,e,n,r,i,s,o,c,u){let l=e.consts,f=Zu(e,t,4,o||null,c||null);zE(e,n,f,Cu(l,u)),hp(e,f);let g=f.tView=Tp(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}function CN(t,e,n,r,i,s,o,c,u,l){let f=n+ar,g=e.firstCreatePass?bN(f,e,t,r,i,s,o,c,u):e.data[f];Jo(g,!1);let _=TN(e,t,g,n);lp()&&bp(e,t,_,g),Xr(_,t);let I=WE(_,t,_,g);return t[f]=I,Ju(t,I),nN(I,g,t),ip(g)&&UE(e,t,g),u!=null&&BE(t,g,l),g}function Rn(t,e,n,r,i,s,o,c){let u=ve(),l=dt(),f=Cu(l.consts,s);return CN(u,l,t,e,n,r,i,f,o,c),Rn}var TN=SN;function SN(t,e,n,r){return dp(!0),e[Le].createComment("")}var Bo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Bo||{}),AN=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),zr=class zr{constructor(){this.ngZone=k(ye),this.scheduler=k(hs),this.errorHandler=k(bn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of zr.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};zr.PHASES=[Bo.EarlyRead,Bo.Write,Bo.MixedReadWrite,Bo.Read],zr.\u0275prov=z({token:zr,providedIn:"root",factory:()=>new zr});var ew=zr;function Xu(t,e,n,r){let i=ve(),s=Wu();if(ra(i,s,e)){let o=dt(),c=up();fx(c,i,t,e,n,r)}return Xu}function MN(t,e,n,r){return ra(t,Wu(),n)?e+Uu(n)+r:ws}function uu(t,e){return t<<17|e<<2}function ti(t){return t>>17&32767}function RN(t){return(t&2)==2}function xN(t,e){return t&131071|e<<17}function Wf(t){return t|2}function gs(t){return(t&131068)>>2}function nf(t,e){return t&-131069|e<<2}function NN(t){return(t&1)===1}function Kf(t){return t|1}function PN(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,c=ti(o),u=gs(o);t[r]=n;let l=!1,f;if(Array.isArray(n)){let g=n;f=g[1],(f===null||Zo(g,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let _=ti(t[c+1]);t[r+1]=uu(_,c),_!==0&&(t[_+1]=nf(t[_+1],r)),t[c+1]=xN(t[c+1],r)}else t[r+1]=uu(c,0),c!==0&&(t[c+1]=nf(t[c+1],r)),c=r;else t[r+1]=uu(u,0),c===0?c=r:t[u+1]=nf(t[u+1],r),u=r;l&&(t[r+1]=Wf(t[r+1])),tw(t,f,r,!0),tw(t,f,r,!1),ON(e,f,t,r,s),o=uu(c,u),s?e.classBindings=o:e.styleBindings=o}function ON(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Zo(s,e)>=0&&(n[r+1]=Kf(n[r+1]))}function tw(t,e,n,r){let i=t[n+1],s=e===null,o=r?ti(i):gs(i),c=!1;for(;o!==0&&(c===!1||s);){let u=t[o],l=t[o+1];kN(u,e)&&(c=!0,t[o+1]=r?Kf(l):Wf(l)),o=r?ti(l):gs(l)}c&&(t[n+1]=r?Wf(i):Kf(i))}function kN(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Zo(t,e)>=0:!1}function Wt(t,e,n){let r=ve(),i=Wu();if(ra(r,i,e)){let s=dt(),o=up();HE(s,o,r,t,e,r[Le],n,!1)}return Wt}function nw(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Sp(t,n,s[o],o,r)}function el(t,e){return FN(t,e,null,!0),el}function FN(t,e,n,r){let i=ve(),s=dt(),o=RM(2);if(s.firstUpdatePass&&VN(s,t,o,r),e!==ws&&ra(i,o,e)){let c=s.data[vs()];HN(s,c,i,i[Le],t,i[o+1]=zN(e,n),r,o)}}function LN(t,e){return e>=t.expandoStartIndex}function VN(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[vs()],o=LN(t,n);qN(s,r)&&e===null&&!o&&(e=!1),e=jN(i,s,e,r),PN(i,s,e,n,o,r)}}function jN(t,e,n,r){let i=OM(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=rf(null,t,e,n,r),n=Qo(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=rf(i,t,e,n,r),s===null){let u=UN(t,e,r);u!==void 0&&Array.isArray(u)&&(u=rf(null,t,e,u[1],r),u=Qo(u,e.attrs,r),BN(t,e,r,u))}else s=$N(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function UN(t,e,n){let r=n?e.classBindings:e.styleBindings;if(gs(r)!==0)return t[ti(r)]}function BN(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ti(i)]=r}function $N(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Qo(r,o,n)}return Qo(r,e.attrs,n)}function rf(t,e,n,r,i){let s=null,o=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<o&&(s=e[c],r=Qo(r,s.hostAttrs,i),s!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function Qo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),FA(t,o,n?!0:e[++s]))}return t===void 0?null:t}function HN(t,e,n,r,i,s,o,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],f=NN(l)?rw(u,e,n,i,gs(l),o):void 0;if(!Lu(f)){Lu(s)||RN(l)&&(s=rw(u,null,n,i,c,o));let g=Lw(vs(),n);zR(r,o,g,i,s)}}function rw(t,e,n,r,i,s){let o=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,g=f===null,_=n[i+1];_===ws&&(_=g?xt:void 0);let I=g?Wh(_,r):f===r?_:void 0;if(l&&!Lu(I)&&(I=Wh(u,r)),Lu(I)&&(c=I,o))return c;let A=t[i+1];i=o?ti(A):gs(A)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(c=Wh(u,r))}return c}function Lu(t){return t!==void 0}function zN(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ut(ea(t)))),t}function qN(t,e){return(t.flags&(e?8:16))!==0}function GN(t,e,n,r,i,s){let o=e.consts,c=Cu(o,i),u=Zu(e,t,2,r,c);return zE(e,n,u,Cu(o,s)),u.attrs!==null&&Lf(u,u.attrs,!1),u.mergedAttrs!==null&&Lf(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function L(t,e,n,r){let i=ve(),s=dt(),o=ar+t,c=i[Le],u=s.firstCreatePass?GN(o,s,i,e,n,r):s.data[o],l=WN(s,i,u,c,e,t);i[o]=l;let f=ip(u);return Jo(u,!0),OE(c,l,u),!DN(u)&&lp()&&bp(s,i,l,u),wM()===0&&Xr(l,i),EM(),f&&(UE(s,i,u),jE(s,u,i)),r!==null&&BE(i,u),L}function F(){let t=nt();qw()?AM():(t=t.parent,Jo(t,!1));let e=t;CM(e)&&TM(),DM();let n=dt();return n.firstCreatePass&&(hp(n,t),Nw(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&BM(e)&&nw(n,e,ve(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&$M(e)&&nw(n,e,ve(),e.stylesWithoutHost,!1),F}function Ve(t,e,n,r){return L(t,e,n,r),F(),Ve}var WN=(t,e,n,r,i,s)=>(dp(!0),TE(r,i,LM()));function yr(){return ve()}var Vu="en-US";var KN=Vu;function QN(t){typeof t=="string"&&(KN=t.toLowerCase().replace(/_/g,"-"))}var YN=(t,e,n)=>{};function Qe(t,e,n,r){let i=ve(),s=dt(),o=nt();return lD(s,i,i[Le],o,t,e,r),Qe}function ZN(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let c=e[Eu],u=i[s+2];return c.length>u?c[u]:null}typeof o=="string"&&(s+=2)}return null}function lD(t,e,n,r,i,s,o){let c=ip(r),l=t.firstCreatePass&&YE(t),f=e[qt],g=QE(e),_=!0;if(r.type&3||o){let N=Ot(r,e),x=o?o(N):N,V=g.length,Q=o?ge=>o(sn(ge[r.index])):r.index,X=null;if(!o&&c&&(X=ZN(t,e,i,r.index)),X!==null){let ge=X.__ngLastListenerFn__||X;ge.__ngNextListenerFn__=s,X.__ngLastListenerFn__=s,_=!1}else{s=sw(r,e,f,s),YN(N,i,s);let ge=n.listen(x,i,s);g.push(s,ge),l&&l.push(i,Q,V,V+1)}}else s=sw(r,e,f,s);let I=r.outputs,A;if(_&&I!==null&&(A=I[i])){let N=A.length;if(N)for(let x=0;x<N;x+=2){let V=A[x],Q=A[x+1],Ge=e[V][Q].subscribe(s),fe=g.length;g.push(s,Ge),l&&l.push(i,r.index,fe,-(fe+1))}}}function iw(t,e,n,r){let i=he(null);try{return Xt(6,e,n),n(r)!==!1}catch(s){return ZE(t,s),!1}finally{Xt(7,e,n),he(i)}}function sw(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?dr(t.index,e):e;Mp(o,5);let c=iw(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)c=iw(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return c}}function Kt(t=1){return FM(t)}function dD(t,e,n,r){lN(t,e,n,r)}function hD(t){let e=ve(),n=dt(),r=Ww();op(r+1);let i=Np(n,r);if(t.dirty&&yM(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=pN(e,r);t.reset(s,uR),t.notifyOnChanges()}return!0}return!1}function fD(){return cN(ve(),Ww())}function $(t,e=""){let n=ve(),r=dt(),i=t+ar,s=r.firstCreatePass?Zu(r,i,1,e,null):r.data[i],o=JN(r,n,s,e,t);n[i]=o,lp()&&bp(r,n,o,s),Jo(s,!1)}var JN=(t,e,n,r,i)=>(dp(!0),SR(e[Le],r));function kp(t){return Es("",t,""),kp}function Es(t,e,n){let r=ve(),i=MN(r,t,e,n);return i!==ws&&yx(r,vs(),i),Es}function vr(t,e,n){uD(e)&&(e=e());let r=ve(),i=Wu();if(ra(r,i,e)){let s=dt(),o=up();HE(s,o,r,t,e,r[Le],n,!1)}return vr}function si(t,e){let n=uD(t);return n&&t.set(e),n}function _r(t,e){let n=ve(),r=dt(),i=nt();return lD(r,n,n[Le],i,t,e),_r}function XN(t,e,n){let r=dt();if(r.firstCreatePass){let i=cr(t);Qf(n,r.data,r.blueprint,i,!0),Qf(e,r.data,r.blueprint,i,!1)}}function Qf(t,e,n,r,i){if(t=ct(t),Array.isArray(t))for(let s=0;s<t.length;s++)Qf(t[s],e,n,r,i);else{let s=dt(),o=ve(),c=nt(),u=cs(t)?t:ct(t.provide),l=Mw(t),f=c.providerIndexes&1048575,g=c.directiveStart,_=c.providerIndexes>>20;if(cs(t)||!t.multi){let I=new Zr(l,i,W),A=of(u,e,i?f:f+_,g);A===-1?(wf(Au(c,o),s,u),sf(s,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(I),o.push(I)):(n[A]=I,o[A]=I)}else{let I=of(u,e,f+_,g),A=of(u,e,f,f+_),N=I>=0&&n[I],x=A>=0&&n[A];if(i&&!x||!i&&!N){wf(Au(c,o),s,u);let V=nP(i?tP:eP,n.length,i,r,l);!i&&x&&(n[A].providerFactory=V),sf(s,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(V),o.push(V)}else{let V=pD(n[i?A:I],l,!i&&r);sf(s,t,I>-1?I:A,V)}!i&&r&&x&&n[A].componentProviders++}}}function sf(t,e,n,r){let i=cs(e),s=rM(e);if(i||s){let u=(s?ct(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(n);f===-1?l.push(n,[r,u]):l[f+1].push(r,u)}else l.push(n,u)}}}function pD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function of(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function eP(t,e,n,r){return Yf(this.multi,[])}function tP(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,c=Jr(n,n[ee],this.providerFactory.index,r);s=c.slice(0,o),Yf(i,s);for(let u=o;u<c.length;u++)s.push(c[u])}else s=[],Yf(i,s);return s}function Yf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function nP(t,e,n,r,i){let s=new Zr(t,n,W);return s.multi=[],s.index=e,s.componentProviders=0,pD(s,i,r&&!n),s}function tl(t,e=[]){return n=>{n.providersResolver=(r,i)=>XN(r,i?i(t):t,e)}}var rP=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Tw(!1,r.type),s=i.length>0?Op([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=z({token:e,providedIn:"environment",factory:()=>new e(Z(Pt))});let t=e;return t})();function vt(t){ta("NgStandalone"),t.getStandaloneInjector=e=>e.get(rP).getOrCreateStandaloneInjector(t)}var Tn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},gD=new Tn("18.2.3");var nl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var mD=new U("");function oi(t){return!!t&&typeof t.then=="function"}function yD(t){return!!t&&typeof t.subscribe=="function"}var vD=new U(""),_D=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=k(vD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(oi(o))r.push(o);else if(yD(o)){let c=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(c)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fp=new U("");function iP(){K_(()=>{throw new B(600,!1)})}function sP(t){return t.isBoundToModule}var oP=10;function aP(t,e,n){try{let r=n();return oi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var ai=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(aR),this.afterRenderManager=k(AN),this.zonelessEnabled=k(xp),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Be,this.afterTick=new Be,this.componentTypes=[],this.components=[],this.isStable=k(_s).hasPendingTasks.pipe(re(r=>!r)),this._injector=k(Pt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Ou;if(!this._injector.get(_D).done){let I=!s&&Ew(r),A=!1;throw new B(405,A)}let c;s?c=r:c=this._injector.get(fs).resolveComponentFactory(r),this.componentTypes.push(c.componentType);let u=sP(c)?void 0:this._injector.get(ur),l=i||c.selector,f=c.create(gt.NULL,[],l,u),g=f.location.nativeElement,_=f.injector.get(mD,null);return _?.registerApplication(g),f.onDestroy(()=>{this.detachView(f.hostView),gu(this.components,f),_?.unregisterApplication(g)}),this._loadComponent(f),f}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new B(101,!1);let r=he(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,he(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(ps,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<oP;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:o}of this._views)cP(s,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>qu(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;gu(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Fp,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>gu(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new B(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function gu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function cP(t,e,n,r){if(!n&&!qu(t))return;eD(t,e,n&&!r?0:1)}var Zf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Lp=(()=>{let e=class e{compileModuleSync(r){return new Gf(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=Dw(r),o=CE(s.declarations).reduce((c,u)=>{let l=Gr(u);return l&&c.push(new Wo(l)),c},[]);return new Zf(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var uP=(()=>{let e=class e{constructor(){this.zone=k(ye),this.changeDetectionScheduler=k(hs),this.applicationRef=k(ai)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lP=new U("",{factory:()=>!1});function ID({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ye(se(O({},ED()),{scheduleInRootZone:n})),[{provide:ye,useFactory:t},{provide:as,multi:!0,useFactory:()=>{let r=k(uP,{optional:!0});return()=>r.initialize()}},{provide:as,multi:!0,useFactory:()=>{let r=k(dP);return()=>{r.initialize()}}},e===!0?{provide:iD,useValue:!0}:[],{provide:sD,useValue:n??dE}]}function wD(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=ID({ngZoneFactory:()=>{let i=ED(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&ta("NgZone_CoalesceEvent"),new ye(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return on([{provide:lP,useValue:!0},{provide:xp,useValue:!1},r])}function ED(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var dP=(()=>{let e=class e{constructor(){this.subscription=new Ce,this.initialized=!1,this.zone=k(ye),this.pendingTasks=k(_s)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ye.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var hP=(()=>{let e=class e{constructor(){this.appRef=k(ai),this.taskService=k(_s),this.ngZone=k(ye),this.zonelessEnabled=k(xp),this.disableScheduling=k(iD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ce,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ru):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(k(sD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Tf||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?UI:fE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ru+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,UI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fP(){return typeof $localize<"u"&&$localize.locale||Vu}var Vp=new U("",{providedIn:"root",factory:()=>k(Vp,te.Optional|te.SkipSelf)||fP()});var DD=new U("");function lu(t){return!!t.platformInjector}function pP(t){let e=lu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ye);return n.run(()=>{lu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(bn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),lu(t)){let s=()=>e.destroy(),o=t.platformInjector.get(DD);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{gu(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return aP(r,n,()=>{let s=e.get(_D);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Vp,Vu);if(QN(o||Vu),lu(t)){let c=e.get(ai);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return gP(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function gP(t,e){let n=t.injector.get(ai);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new B(-403,!1);e.push(t)}var mu=null;function mP(t=[],e){return gt.create({name:e,providers:[{provide:$u,useValue:"platform"},{provide:DD,useValue:new Set([()=>mu=null])},...t]})}function yP(t=[]){if(mu)return mu;let e=mP(t);return mu=e,iP(),vP(e),e}function vP(t){t.get(vp,null)?.forEach(n=>n())}var Ir=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=_P;let t=e;return t})();function _P(t){return IP(nt(),ve(),(t&16)===16)}function IP(t,e,n){if(zu(t)&&!n){let r=dr(t.index,e);return new ei(r,r)}else if(t.type&175){let r=e[rn];return new ei(r,e)}return null}function bD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=yP(r),s=[ID({}),{provide:hs,useExisting:hP},...n||[]],o=new Fu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return pP({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var CD=new U("");function ci(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ia(t,e){ta("NgSignals");let n=q_(t);return e?.equal&&(n[In].equal=e.equal),n}function xn(t){let e=he(null);try{return t()}finally{he(e)}}var MD=null;function Nn(){return MD}function RD(t){MD??=t}var rl=class{};var Dt=new U(""),xD=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>k(wP),providedIn:"platform"});let t=e;return t})();var wP=(()=>{let e=class e extends xD{constructor(){super(),this._doc=k(Dt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Nn().getBaseHref(this._doc)}onPopState(r){let i=Nn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Nn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function ND(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function TD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function ui(t){return t&&t[0]!=="?"?"?"+t:t}var Ds=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>k(PD),providedIn:"root"});let t=e;return t})(),EP=new U(""),PD=(()=>{let e=class e extends Ds{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??k(Dt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return ND(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+ui(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let c=this.prepareExternalUrl(s+ui(o));this._platformLocation.pushState(r,i,c)}replaceState(r,i,s,o){let c=this.prepareExternalUrl(s+ui(o));this._platformLocation.replaceState(r,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(Z(xD),Z(EP,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var sa=(()=>{let e=class e{constructor(r){this._subject=new Se,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=CP(TD(SD(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+ui(i))}normalize(r){return e.stripTrailingSlash(bP(this._basePath,SD(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ui(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ui(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=ui,e.joinWithSlash=ND,e.stripTrailingSlash=TD,e.\u0275fac=function(i){return new(i||e)(Z(Ds))},e.\u0275prov=z({token:e,factory:()=>DP(),providedIn:"root"});let t=e;return t})();function DP(){return new sa(Z(Ds))}function bP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function SD(t){return t.replace(/\/index.html$/,"")}function CP(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function OD(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var bs=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Up,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){AD("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){AD("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(W(ii),W(ds))},e.\u0275dir=lt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Up=class{constructor(){this.$implicit=null,this.ngIf=null}};function AD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${ut(e)}'.`)}var li=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ri({type:e}),e.\u0275inj=ni({});let t=e;return t})(),kD="browser",TP="server";function Bp(t){return t===TP}var il=class{};var zp=class extends rl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},qp=class t extends zp{static makeCurrent(){RD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=SP();return n==null?null:AP(n)}resetBaseElement(){oa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return OD(document.cookie,e)}},oa=null;function SP(){return oa=oa||document.querySelector("base"),oa?oa.getAttribute("href"):null}function AP(t){return new URL(t,document.baseURI).pathname}var MP=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),ol=new U(""),jD=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new B(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(Z(ol),Z(ye))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),aa=class{constructor(e){this._doc=e}},$p="ng-app-id",UD=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Bp(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${$p}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute($p),o;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute($p,this.appId),r.appendChild(c),c}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,c=o.get(i)?.elements;c?c.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(Z(Dt),Z(yp),Z(_p,8),Z(pr))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),Hp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Wp=/%COMP%/g,BD="%COMP%",RP=`_nghost-${BD}`,xP=`_ngcontent-${BD}`,NP=!0,PP=new U("",{providedIn:"root",factory:()=>NP});function OP(t){return xP.replace(Wp,t)}function kP(t){return RP.replace(Wp,t)}function $D(t,e){return e.map(n=>n.replace(Wp,t))}var FD=(()=>{let e=class e{constructor(r,i,s,o,c,u,l,f=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=c,this.platformId=u,this.ngZone=l,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=Bp(u),this.defaultRenderer=new ca(r,c,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===tn.ShadowDom&&(i=se(O({},i),{encapsulation:tn.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof al?s.applyToHost(r):s instanceof ua&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let c=this.doc,u=this.ngZone,l=this.eventManager,f=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,_=this.platformIsServer;switch(i.encapsulation){case tn.Emulated:o=new al(l,f,i,this.appId,g,c,u,_);break;case tn.ShadowDom:return new Gp(l,f,r,i,c,u,this.nonce,_);default:o=new ua(l,f,i,g,c,u,_);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(Z(jD),Z(UD),Z(yp),Z(PP),Z(Dt),Z(pr),Z(ye),Z(_p))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),ca=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Hp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(LD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(LD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Hp[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Hp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Cn.DashCase|Cn.Important)?e.style.setProperty(n,r,i&Cn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Cn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Nn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function LD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Gp=class extends ca{constructor(e,n,r,i,s,o,c,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=$D(i.id,i.styles);for(let f of l){let g=document.createElement("style");c&&g.setAttribute("nonce",c),g.textContent=f,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ua=class extends ca{constructor(e,n,r,i,s,o,c,u){super(e,s,o,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?$D(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},al=class extends ua{constructor(e,n,r,i,s,o,c,u){let l=i+"-"+r.id;super(e,n,r,s,o,c,u,l),this.contentAttr=OP(l),this.hostAttr=kP(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},FP=(()=>{let e=class e extends aa{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(Z(Dt))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),LP=(()=>{let e=class e extends aa{constructor(r){super(r),this.delegate=k(CD,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(Z(Dt))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),VD=["alt","control","meta","shift"],VP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jP={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},UP=(()=>{let e=class e extends aa{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),c=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Nn().onAndCancel(r,o.domEventName,c))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),c="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),c="code."),VD.forEach(f=>{let g=i.indexOf(f);g>-1&&(i.splice(g,1),c+=f+".")}),c+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=c,l}static matchEventFullKeyCode(r,i){let s=VP[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),VD.forEach(c=>{if(c!==s){let u=jP[c];u(r)&&(o+=c+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(Z(Dt))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function HD(t,e){return bD(O({rootComponent:t},BP(e)))}function BP(t){return{appProviders:[...GP,...t?.providers??[]],platformProviders:qP}}function $P(){qp.makeCurrent()}function HP(){return new bn}function zP(){return IE(document),document}var qP=[{provide:pr,useValue:kD},{provide:vp,useValue:$P,multi:!0},{provide:Dt,useFactory:zP,deps:[]}];var GP=[{provide:$u,useValue:"root"},{provide:bn,useFactory:HP,deps:[]},{provide:ol,useClass:FP,multi:!0,deps:[Dt,ye,pr]},{provide:ol,useClass:UP,multi:!0,deps:[Dt]},{provide:ol,useClass:LP,multi:!0},FD,UD,jD,{provide:ps,useExisting:FD},{provide:il,useClass:MP,deps:[]},[]];var zD=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(Z(Dt))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var J="primary",Ca=Symbol("RouteTitle"),Jp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Rs(t){return new Jp(t)}function KP(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=t[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function QP(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!an(t[n],e[n]))return!1;return!0}function an(t,e){let n=t?Xp(t):void 0,r=e?Xp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!JD(t[i],e[i]))return!1;return!0}function Xp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function JD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function XD(t){return t.length>0?t[t.length-1]:null}function wr(t){return Uh(t)?t:oi(t)?Te(Promise.resolve(t)):K(t)}var YP={exact:tb,subset:nb},eb={exact:ZP,subset:JP,ignored:()=>!0};function qD(t,e,n){return YP[n.paths](t.root,e.root,n.matrixParams)&&eb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function ZP(t,e){return an(t,e)}function tb(t,e,n){if(!hi(t.segments,e.segments)||!ll(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!tb(t.children[r],e.children[r],n))return!1;return!0}function JP(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>JD(t[n],e[n]))}function nb(t,e,n){return rb(t,e,e.segments,n)}function rb(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!hi(i,n)||e.hasChildren()||!ll(i,n,r))}else if(t.segments.length===n.length){if(!hi(t.segments,n)||!ll(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!nb(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!hi(t.segments,i)||!ll(t.segments,i,r)||!t.children[J]?!1:rb(t.children[J],e,s,r)}}function ll(t,e,n){return e.every((r,i)=>eb[n](t[i].parameters,r.parameters))}var On=class{constructor(e=new me([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Rs(this.queryParams),this._queryParamMap}toString(){return tO.serialize(this)}},me=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dl(this)}},di=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Rs(this.parameters),this._parameterMap}toString(){return sb(this)}};function XP(t,e){return hi(t,e)&&t.every((n,r)=>an(n.parameters,e[r].parameters))}function hi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function eO(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===J&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==J&&(n=n.concat(e(i,r)))}),n}var Cg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>new ma,providedIn:"root"});let t=e;return t})(),ma=class{parse(e){let n=new tg(e);return new On(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${la(e.root,!0)}`,r=iO(e.queryParams),i=typeof e.fragment=="string"?`#${nO(e.fragment)}`:"";return`${n}${r}${i}`}},tO=new ma;function dl(t){return t.segments.map(e=>sb(e)).join("/")}function la(t,e){if(!t.hasChildren())return dl(t);if(e){let n=t.children[J]?la(t.children[J],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==J&&r.push(`${i}:${la(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=eO(t,(r,i)=>i===J?[la(t.children[J],!1)]:[`${i}:${la(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[J]!=null?`${dl(t)}/${n[0]}`:`${dl(t)}/(${n.join("//")})`}}function ib(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cl(t){return ib(t).replace(/%3B/gi,";")}function nO(t){return encodeURI(t)}function eg(t){return ib(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hl(t){return decodeURIComponent(t)}function GD(t){return hl(t.replace(/\+/g,"%20"))}function sb(t){return`${eg(t.path)}${rO(t.parameters)}`}function rO(t){return Object.entries(t).map(([e,n])=>`;${eg(e)}=${eg(n)}`).join("")}function iO(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${cl(n)}=${cl(i)}`).join("&"):`${cl(n)}=${cl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var sO=/^[^\/()?;#]+/;function Kp(t){let e=t.match(sO);return e?e[0]:""}var oO=/^[^\/()?;=#]+/;function aO(t){let e=t.match(oO);return e?e[0]:""}var cO=/^[^=?&#]+/;function uO(t){let e=t.match(cO);return e?e[0]:""}var lO=/^[^&#]+/;function dO(t){let e=t.match(lO);return e?e[0]:""}var tg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[J]=new me(e,n)),r}parseSegment(){let e=Kp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new di(hl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=aO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Kp(this.remaining);i&&(r=i,this.capture(r))}e[hl(n)]=hl(r)}parseQueryParam(e){let n=uO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=dO(this.remaining);o&&(r=o,this.capture(r))}let i=GD(n),s=GD(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Kp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=J);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[J]:new me([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function ob(t){return t.segments.length>0?new me([],{[J]:t}):t}function ab(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=ab(i);if(r===J&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new me(t.segments,e);return hO(n)}function hO(t){if(t.numberOfChildren===1&&t.children[J]){let e=t.children[J];return new me(t.segments.concat(e.segments),e.children)}return t}function fi(t){return t instanceof On}function fO(t,e,n=null,r=null){let i=cb(t);return ub(i,e,n,r)}function cb(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let c=new me(s.url,o);return s===t&&(e=c),c}let r=n(t.root),i=ob(r);return e??i}function ub(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Qp(i,i,i,n,r);let s=pO(e);if(s.toRoot())return Qp(i,i,new me([],{}),n,r);let o=gO(s,i,t),c=o.processChildren?fa(o.segmentGroup,o.index,s.commands):db(o.segmentGroup,o.index,s.commands);return Qp(i,o.segmentGroup,c,n,r)}function fl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ya(t){return typeof t=="object"&&t!=null&&t.outlets}function Qp(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let o;t===e?o=n:o=lb(t,e,n);let c=ob(ab(o));return new On(c,s,i)}function lb(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=lb(s,e,n)}),new me(t.segments,r)}var pl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&fl(r[0]))throw new B(4003,!1);let i=r.find(ya);if(i&&i!==XD(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function pO(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new pl(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new pl(n,e,r)}var Ss=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function gO(t,e,n){if(t.isAbsolute)return new Ss(e,!0,0);if(!n)return new Ss(e,!1,NaN);if(n.parent===null)return new Ss(n,!0,0);let r=fl(t.commands[0])?0:1,i=n.segments.length-1+r;return mO(n,i,t.numberOfDoubleDots)}function mO(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new Ss(r,!1,i-s)}function yO(t){return ya(t[0])?t[0].outlets:{[J]:t}}function db(t,e,n){if(t??=new me([],{}),t.segments.length===0&&t.hasChildren())return fa(t,e,n);let r=vO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new me(t.segments.slice(0,r.pathIndex),{});return s.children[J]=new me(t.segments.slice(r.pathIndex),t.children),fa(s,0,i)}else return r.match&&i.length===0?new me(t.segments,{}):r.match&&!t.hasChildren()?ng(t,e,n):r.match?fa(t,0,i):ng(t,e,n)}function fa(t,e,n){if(n.length===0)return new me(t.segments,{});{let r=yO(n),i={};if(Object.keys(r).some(s=>s!==J)&&t.children[J]&&t.numberOfChildren===1&&t.children[J].segments.length===0){let s=fa(t.children[J],e,n);return new me(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=db(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new me(t.segments,i)}}function vO(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],c=n[r];if(ya(c))break;let u=`${c}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!KD(u,l,o))return s;r+=2}else{if(!KD(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ng(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(ya(s)){let u=_O(s.outlets);return new me(r,u)}if(i===0&&fl(n[0])){let u=t.segments[e];r.push(new di(u.path,WD(n[0]))),i++;continue}let o=ya(s)?s.outlets[J]:`${s}`,c=i<n.length-1?n[i+1]:null;o&&c&&fl(c)?(r.push(new di(o,WD(c))),i+=2):(r.push(new di(o,{})),i++)}return new me(r,{})}function _O(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=ng(new me([],{}),0,r))}),e}function WD(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function KD(t,e,n){return t==n.path&&an(e,n.parameters)}var pa="imperative",Ye=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ye||{}),Lt=class{constructor(e,n){this.id=e,this.url=n}},va=class extends Lt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ye.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},kn=class extends Lt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ye.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ct=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ct||{}),rg=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(rg||{}),Pn=class extends Lt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ye.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},pi=class extends Lt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ye.NavigationSkipped}},_a=class extends Lt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ye.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},gl=class extends Lt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ye.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ig=class extends Lt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ye.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sg=class extends Lt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ye.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},og=class extends Lt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ye.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ag=class extends Lt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ye.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cg=class{constructor(e){this.route=e,this.type=Ye.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ug=class{constructor(e){this.route=e,this.type=Ye.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},lg=class{constructor(e){this.snapshot=e,this.type=Ye.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dg=class{constructor(e){this.snapshot=e,this.type=Ye.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hg=class{constructor(e){this.snapshot=e,this.type=Ye.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fg=class{constructor(e){this.snapshot=e,this.type=Ye.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ia=class{},xs=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function IO(t,e){return t.providers&&!t._injector&&(t._injector=Op(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Qt(t){return t.outlet||J}function wO(t,e){let n=t.filter(r=>Qt(r)===e);return n.push(...t.filter(r=>Qt(r)!==e)),n}function Ta(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var pg=class{get injector(){return Ta(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new El(this.rootInjector),this.attachRef=null}},El=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new pg(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(Z(Pt))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ml=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=gg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=gg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=mg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return mg(e,this._root).map(n=>n.value)}};function gg(t,e){if(t===e.value)return e;for(let n of e.children){let r=gg(t,n);if(r)return r}return null}function mg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=mg(t,n);if(r.length)return r.unshift(e),r}return[]}var bt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ts(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var yl=class extends ml{constructor(e,n){super(e),this.snapshot=n,Tg(this,e)}toString(){return this.snapshot.toString()}};function hb(t){let e=EO(t),n=new Ke([new di("",{})]),r=new Ke({}),i=new Ke({}),s=new Ke({}),o=new Ke(""),c=new gi(n,r,s,o,i,J,t,e.root);return c.snapshot=e.root,new yl(new bt(c,[]),e)}function EO(t){let e={},n={},r={},i="",s=new As([],e,r,i,n,J,t,null,{});return new _l("",new bt(s,[]))}var gi=class{constructor(e,n,r,i,s,o,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(re(l=>l[Ca]))??K(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(re(e=>Rs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(re(e=>Rs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function vl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),t.params),data:O(O({},e.data),t.data),resolve:O(O(O(O({},t.data),e.data),i?.data),t._resolvedData)}:r={params:O({},t.params),data:O({},t.data),resolve:O(O({},t.data),t._resolvedData??{})},i&&pb(i)&&(r.resolve[Ca]=i.title),r}var As=class{get title(){return this.data?.[Ca]}constructor(e,n,r,i,s,o,c,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Rs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Rs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},_l=class extends ml{constructor(e,n){super(n),this.url=e,Tg(this,n)}toString(){return fb(this._root)}};function Tg(t,e){e.value._routerState=t,e.children.forEach(n=>Tg(t,n))}function fb(t){let e=t.children.length>0?` { ${t.children.map(fb).join(", ")} } `:"";return`${t.value}${e}`}function Yp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,an(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),an(e.params,n.params)||t.paramsSubject.next(n.params),QP(e.url,n.url)||t.urlSubject.next(n.url),an(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function yg(t,e){let n=an(t.params,e.params)&&XP(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||yg(t.parent,e.parent))}function pb(t){return typeof t.title=="string"||t.title===null}var Sg=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=J,this.activateEvents=new Se,this.deactivateEvents=new Se,this.attachEvents=new Se,this.detachEvents=new Se,this.parentContexts=k(El),this.location=k(ii),this.changeDetector=k(Ir),this.inputBinder=k(Ag,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=r;let s=this.location,c=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new vg(r,u,s.injector);this.activated=s.createComponent(c,{index:s.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=lt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[lr]});let t=e;return t})(),vg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===gi?this.route:e===El?this.childContexts:this.parent.get(e,n)}},Ag=new U("");function DO(t,e,n){let r=wa(t,e._root,n?n._root:void 0);return new yl(r,e)}function wa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=bO(t,e,n);return new bt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>wa(t,c)),o}}let r=CO(e.value),i=e.children.map(s=>wa(t,s));return new bt(r,i)}}function bO(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return wa(t,r,i);return wa(t,r)})}function CO(t){return new gi(new Ke(t.url),new Ke(t.params),new Ke(t.queryParams),new Ke(t.fragment),new Ke(t.data),t.outlet,t.component,t)}var Ea=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},gb="ngNavigationCancelingError";function Il(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=fi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=mb(!1,Ct.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function mb(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[gb]=!0,n.cancellationCode=e,n}function TO(t){return yb(t)&&fi(t.url)}function yb(t){return!!t&&t[gb]}var SO=(t,e,n,r)=>re(i=>(new _g(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),_g=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Yp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ts(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ts(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ts(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ts(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new fg(s.value.snapshot))}),e.children.length&&this.forwardEvent(new dg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Yp(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),Yp(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},wl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ms=class{constructor(e,n){this.component=e,this.route=n}};function AO(t,e,n){let r=t._root,i=e?e._root:null;return da(r,i,n,[r.value])}function MO(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Os(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!cw(t)?t:e.get(t):r}function da(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ts(e);return t.children.forEach(o=>{RO(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>ga(c,n.getContext(o),i)),i}function RO(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=xO(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new wl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?da(t,e,c?c.children:null,r,i):da(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Ms(c.outlet.component,o))}else o&&ga(e,c,i),i.canActivateChecks.push(new wl(r)),s.component?da(t,null,c?c.children:null,r,i):da(t,null,n,r,i);return i}function xO(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!hi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!hi(t.url,e.url)||!an(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yg(t,e)||!an(t.queryParams,e.queryParams);case"paramsChange":default:return!yg(t,e)}}function ga(t,e,n){let r=Ts(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?ga(o,e.children.getContext(s),n):ga(o,null,n):ga(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ms(e.outlet.component,i)):n.canDeactivateChecks.push(new Ms(null,i)):n.canDeactivateChecks.push(new Ms(null,i))}function Sa(t){return typeof t=="function"}function NO(t){return typeof t=="boolean"}function PO(t){return t&&Sa(t.canLoad)}function OO(t){return t&&Sa(t.canActivate)}function kO(t){return t&&Sa(t.canActivateChild)}function FO(t){return t&&Sa(t.canDeactivate)}function LO(t){return t&&Sa(t.canMatch)}function vb(t){return t instanceof wn||t?.name==="EmptyError"}var ul=Symbol("INITIAL_VALUE");function Ns(){return $t(t=>ru(t.map(e=>e.pipe(En(1),qh(ul)))).pipe(re(e=>{for(let n of e)if(n!==!0){if(n===ul)return ul;if(n===!1||VO(n))return n}return!0}),Bt(e=>e!==ul),En(1)))}function VO(t){return fi(t)||t instanceof Ea}function jO(t,e){return ke(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?K(se(O({},n),{guardsResult:!0})):UO(o,r,i,t).pipe(ke(c=>c&&NO(c)?BO(r,s,t,e):K(c)),re(c=>se(O({},n),{guardsResult:c})))})}function UO(t,e,n,r){return Te(t).pipe(ke(i=>GO(i.component,i.route,n,e,r)),Jt(i=>i!==!0,!0))}function BO(t,e,n,r){return Te(e).pipe(Ji(i=>Zi(HO(i.route.parent,r),$O(i.route,r),qO(t,i.path,n),zO(t,i.route,n))),Jt(i=>i!==!0,!0))}function $O(t,e){return t!==null&&e&&e(new hg(t)),K(!0)}function HO(t,e){return t!==null&&e&&e(new lg(t)),K(!0)}function zO(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return K(!0);let i=r.map(s=>iu(()=>{let o=Ta(e)??n,c=Os(s,o),u=OO(c)?c.canActivate(e,t):Sn(o,()=>c(e,t));return wr(u).pipe(Jt())}));return K(i).pipe(Ns())}function qO(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>MO(o)).filter(o=>o!==null).map(o=>iu(()=>{let c=o.guards.map(u=>{let l=Ta(o.node)??n,f=Os(u,l),g=kO(f)?f.canActivateChild(r,t):Sn(l,()=>f(r,t));return wr(g).pipe(Jt())});return K(c).pipe(Ns())}));return K(s).pipe(Ns())}function GO(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return K(!0);let o=s.map(c=>{let u=Ta(e)??i,l=Os(c,u),f=FO(l)?l.canDeactivate(t,e,n,r):Sn(u,()=>l(t,e,n,r));return wr(f).pipe(Jt())});return K(o).pipe(Ns())}function WO(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return K(!0);let s=i.map(o=>{let c=Os(o,t),u=PO(c)?c.canLoad(e,n):Sn(t,()=>c(e,n));return wr(u)});return K(s).pipe(Ns(),_b(r))}function _b(t){return Nh(Fe(e=>{if(typeof e!="boolean")throw Il(t,e)}),re(e=>e===!0))}function KO(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return K(!0);let s=i.map(o=>{let c=Os(o,t),u=LO(c)?c.canMatch(e,n):Sn(t,()=>c(e,n));return wr(u)});return K(s).pipe(Ns(),_b(r))}var Da=class{constructor(e){this.segmentGroup=e||null}},ba=class extends Error{constructor(e){super(),this.urlTree=e}};function Cs(t){return Qi(new Da(t))}function QO(t){return Qi(new B(4e3,!1))}function YO(t){return Qi(mb(!1,Ct.GuardRejected))}var Ig=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return K(r);if(i.numberOfChildren>1||!i.children[J])return QO(`${e.redirectTo}`);i=i.children[J]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let c=n,{queryParams:u,fragment:l,routeConfig:f,url:g,outlet:_,params:I,data:A,title:N}=i,x=Sn(s,()=>c({params:I,data:A,queryParams:u,fragment:l,routeConfig:f,url:g,outlet:_,title:N}));if(x instanceof On)throw new ba(x);n=x}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new ba(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new On(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=n[c]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(e,u,r,i)}),new me(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},wg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ZO(t,e,n,r,i){let s=Ib(t,e,n);return s.matched?(r=IO(e,r),KO(r,e,n,i).pipe(re(o=>o===!0?s:O({},wg)))):K(s)}function Ib(t,e,n){if(e.path==="**")return JO(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?O({},wg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||KP)(n,t,e);if(!i)return O({},wg);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let o=i.consumed.length>0?O(O({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function JO(t){return{matched:!0,parameters:t.length>0?XD(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function QD(t,e,n,r){return n.length>0&&tk(t,n,r)?{segmentGroup:new me(e,ek(r,new me(n,t.children))),slicedSegments:[]}:n.length===0&&nk(t,n,r)?{segmentGroup:new me(t.segments,XO(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new me(t.segments,t.children),slicedSegments:n}}function XO(t,e,n,r){let i={};for(let s of n)if(Dl(t,e,s)&&!r[Qt(s)]){let o=new me([],{});i[Qt(s)]=o}return O(O({},r),i)}function ek(t,e){let n={};n[J]=e;for(let r of t)if(r.path===""&&Qt(r)!==J){let i=new me([],{});n[Qt(r)]=i}return n}function tk(t,e,n){return n.some(r=>Dl(t,e,r)&&Qt(r)!==J)}function nk(t,e,n){return n.some(r=>Dl(t,e,r))}function Dl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function rk(t,e,n){return e.length===0&&!t.children[n]}var Eg=class{};function ik(t,e,n,r,i,s,o="emptyOnly"){return new Dg(t,e,n,r,i,o,s).recognize()}var sk=31,Dg=class{constructor(e,n,r,i,s,o,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new Ig(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=QD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(re(({children:n,rootSnapshot:r})=>{let i=new bt(r,n),s=new _l("",i),o=fO(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new As([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),J,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,J,n).pipe(re(r=>({children:r,rootSnapshot:n})),tr(r=>{if(r instanceof ba)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Da?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(re(o=>o instanceof bt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Te(s).pipe(Ji(o=>{let c=r.children[o],u=wO(n,o);return this.processSegmentGroup(e,u,c,o,i)}),zh((o,c)=>(o.push(...c),o)),nr(null),Hh(),ke(o=>{if(o===null)return Cs(r);let c=wb(o);return ok(c),K(c)}))}processSegment(e,n,r,i,s,o,c){return Te(n).pipe(Ji(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,c).pipe(tr(l=>{if(l instanceof Da)return K(null);throw l}))),Jt(u=>!!u),tr(u=>{if(vb(u))return rk(r,i,s)?K(new Eg):Cs(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,c,u){return Qt(r)!==o&&(o===J||!Dl(i,s,r))?Cs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):Cs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,c){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:g,remainingSegments:_}=Ib(n,i,s);if(!u)return Cs(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>sk&&(this.allowRedirects=!1));let I=new As(s,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,YD(i),Qt(i),i.component??i._loadedComponent??null,i,ZD(i)),A=vl(I,c,this.paramsInheritanceStrategy);I.params=Object.freeze(A.params),I.data=Object.freeze(A.data);let N=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,g,I,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(ke(x=>this.processSegment(e,r,n,x.concat(_),o,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let c=ZO(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe($t(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe($t(({routes:l})=>{let f=r._loadedInjector??e,{parameters:g,consumedSegments:_,remainingSegments:I}=u,A=new As(_,g,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,YD(r),Qt(r),r.component??r._loadedComponent??null,r,ZD(r)),N=vl(A,o,this.paramsInheritanceStrategy);A.params=Object.freeze(N.params),A.data=Object.freeze(N.data);let{segmentGroup:x,slicedSegments:V}=QD(n,_,I,l);if(V.length===0&&x.hasChildren())return this.processChildren(f,l,x,A).pipe(re(X=>new bt(A,X)));if(l.length===0&&V.length===0)return K(new bt(A,[]));let Q=Qt(r)===s;return this.processSegment(f,l,x,V,Q?J:s,!0,A).pipe(re(X=>new bt(A,X instanceof bt?[X]:[])))}))):Cs(n)))}getChildConfig(e,n,r){return n.children?K({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?K({routes:n._loadedRoutes,injector:n._loadedInjector}):WO(e,n,r,this.urlSerializer).pipe(ke(i=>i?this.configLoader.loadChildren(e,n).pipe(Fe(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):YO(n))):K({routes:[],injector:e})}};function ok(t){t.sort((e,n)=>e.value.outlet===J?-1:n.value.outlet===J?1:e.value.outlet.localeCompare(n.value.outlet))}function ak(t){let e=t.value.routeConfig;return e&&e.path===""}function wb(t){let e=[],n=new Set;for(let r of t){if(!ak(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=wb(r.children);e.push(new bt(r.value,i))}return e.filter(r=>!n.has(r))}function YD(t){return t.data||{}}function ZD(t){return t.resolve||{}}function ck(t,e,n,r,i,s){return ke(o=>ik(t,e,n,r,o.extractedUrl,i,s).pipe(re(({state:c,tree:u})=>se(O({},o),{targetSnapshot:c,urlAfterRedirects:u}))))}function uk(t,e){return ke(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return K(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of Eb(u))o.add(l);let c=0;return Te(o).pipe(Ji(u=>s.has(u)?lk(u,r,t,e):(u.data=vl(u,u.parent,t).resolve,K(void 0))),Fe(()=>c++),Xi(1),ke(u=>c===o.size?K(n):wt))})}function Eb(t){let e=t.children.map(n=>Eb(n)).flat();return[t,...e]}function lk(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!pb(i)&&(s[Ca]=i.title),dk(s,t,e,r).pipe(re(o=>(t._resolvedData=o,t.data=vl(t,t.parent,n).resolve,null)))}function dk(t,e,n,r){let i=Xp(t);if(i.length===0)return K({});let s={};return Te(i).pipe(ke(o=>hk(t[o],e,n,r).pipe(Jt(),Fe(c=>{if(c instanceof Ea)throw Il(new ma,c);s[o]=c}))),Xi(1),$h(s),tr(o=>vb(o)?wt:Qi(o)))}function hk(t,e,n,r){let i=Ta(e)??r,s=Os(t,i),o=s.resolve?s.resolve(e,n):Sn(i,()=>s(e,n));return wr(o)}function Zp(t){return $t(e=>{let n=t(e);return n?Te(n).pipe(re(()=>e)):K(e)})}var Db=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===J);return i}getResolvedTitleForRoute(r){return r.data[Ca]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>k(fk),providedIn:"root"});let t=e;return t})(),fk=(()=>{let e=class e extends Db{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(Z(zD))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Mg=new U("",{providedIn:"root",factory:()=>({})}),pk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=yt({type:e,selectors:[["ng-component"]],standalone:!0,features:[vt],decls:1,vars:0,template:function(i,s){i&1&&Ve(0,"router-outlet")},dependencies:[Sg],encapsulation:2});let t=e;return t})();function Rg(t){let e=t.children&&t.children.map(Rg),n=e?se(O({},t),{children:e}):O({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==J&&(n.component=pk),n}var xg=new U(""),gk=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(Lp)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return K(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=wr(r.loadComponent()).pipe(re(bb),Fe(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),jo(()=>{this.componentLoaders.delete(r)})),s=new qi(i,()=>new Be).pipe(zi());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return K({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=mk(i,this.compiler,r,this.onLoadEndListener).pipe(jo(()=>{this.childrenLoaders.delete(i)})),c=new qi(o,()=>new Be).pipe(zi());return this.childrenLoaders.set(i,c),c}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mk(t,e,n,r){return wr(t.loadChildren()).pipe(re(bb),ke(i=>i instanceof Ko||Array.isArray(i)?K(i):Te(e.compileModuleAsync(i))),re(i=>{r&&r(t);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(n).injector,o=s.get(xg,[],{optional:!0,self:!0}).flat()),{routes:o.map(Rg),injector:s}}))}function yk(t){return t&&typeof t=="object"&&"default"in t}function bb(t){return yk(t)?t.default:t}var Ng=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>k(vk),providedIn:"root"});let t=e;return t})(),vk=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_k=new U("");var Ik=new U(""),wk=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Be,this.transitionAbortSubject=new Be,this.configLoader=k(gk),this.environmentInjector=k(Pt),this.urlSerializer=k(Cg),this.rootContexts=k(El),this.location=k(sa),this.inputBindingEnabled=k(Ag,{optional:!0})!==null,this.titleStrategy=k(Db),this.options=k(Mg,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(Ng),this.createViewTransition=k(_k,{optional:!0}),this.navigationErrorHandler=k(Ik,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>K(void 0),this.rootComponentType=null;let r=s=>this.events.next(new cg(s)),i=s=>this.events.next(new ug(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(se(O(O({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Ke({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:pa,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Bt(o=>o.id!==0),re(o=>se(O({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),$t(o=>{let c=!1,u=!1;return K(o).pipe($t(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Ct.SupersededByNewNavigation),wt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?se(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),g=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!f&&g!=="reload"){let _="";return this.events.next(new pi(l.id,this.urlSerializer.serialize(l.rawUrl),_,rg.IgnoredSameUrlNavigation)),l.resolve(!1),wt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return K(l).pipe($t(_=>{let I=this.transitions?.getValue();return this.events.next(new va(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),I!==this.transitions?.getValue()?wt:Promise.resolve(_)}),ck(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Fe(_=>{o.targetSnapshot=_.targetSnapshot,o.urlAfterRedirects=_.urlAfterRedirects,this.currentNavigation=se(O({},this.currentNavigation),{finalUrl:_.urlAfterRedirects});let I=new gl(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(I)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:_,extractedUrl:I,source:A,restoredState:N,extras:x}=l,V=new va(_,this.urlSerializer.serialize(I),A,N);this.events.next(V);let Q=hb(this.rootComponentType).snapshot;return this.currentTransition=o=se(O({},l),{targetSnapshot:Q,urlAfterRedirects:I,extras:se(O({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=I,K(o)}else{let _="";return this.events.next(new pi(l.id,this.urlSerializer.serialize(l.extractedUrl),_,rg.IgnoredByUrlHandlingStrategy)),l.resolve(!1),wt}}),Fe(l=>{let f=new ig(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),re(l=>(this.currentTransition=o=se(O({},l),{guards:AO(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),jO(this.environmentInjector,l=>this.events.next(l)),Fe(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Il(this.urlSerializer,l.guardsResult);let f=new sg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),Bt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Ct.GuardRejected),!1)),Zp(l=>{if(l.guards.canActivateChecks.length)return K(l).pipe(Fe(f=>{let g=new og(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}),$t(f=>{let g=!1;return K(f).pipe(uk(this.paramsInheritanceStrategy,this.environmentInjector),Fe({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(f,"",Ct.NoDataFromResolver)}}))}),Fe(f=>{let g=new ag(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}))}),Zp(l=>{let f=g=>{let _=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(g.routeConfig).pipe(Fe(I=>{g.component=I}),re(()=>{})));for(let I of g.children)_.push(...f(I));return _};return ru(f(l.targetSnapshot.root)).pipe(nr(null),En(1))}),Zp(()=>this.afterPreactivation()),$t(()=>{let{currentSnapshot:l,targetSnapshot:f}=o,g=this.createViewTransition?.(this.environmentInjector,l.root,f.root);return g?Te(g).pipe(re(()=>o)):K(o)}),re(l=>{let f=DO(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=se(O({},l),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,o}),Fe(()=>{this.events.next(new Ia)}),SO(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),En(1),Fe({next:l=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new kn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{c=!0}}),Gh(this.transitionAbortSubject.pipe(Fe(l=>{throw l}))),jo(()=>{!c&&!u&&this.cancelNavigationTransition(o,"",Ct.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),tr(l=>{if(u=!0,yb(l))this.events.next(new Pn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),TO(l)?this.events.next(new xs(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let f=new _a(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let g=Sn(this.environmentInjector,()=>this.navigationErrorHandler?.(f));if(g instanceof Ea){let{message:_,cancellationCode:I}=Il(this.urlSerializer,g);this.events.next(new Pn(o.id,this.urlSerializer.serialize(o.extractedUrl),_,I)),this.events.next(new xs(g.redirectTo,g.navigationBehaviorOptions))}else{this.events.next(f);let _=r.errorHandler(l);o.resolve(!!_)}}catch(g){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(g)}}return wt}))}))}cancelNavigationTransition(r,i,s){let o=new Pn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ek(t){return t!==pa}var Dk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>k(bk),providedIn:"root"});let t=e;return t})(),bg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},bk=(()=>{let e=class e extends bg{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Xo(e)))(s||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Cb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>k(Ck),providedIn:"root"});let t=e;return t})(),Ck=(()=>{let e=class e extends Cb{constructor(){super(...arguments),this.location=k(sa),this.urlSerializer=k(Cg),this.options=k(Mg,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(Ng),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new On,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=hb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof va)this.stateMemento=this.createStateMemento();else if(r instanceof pi)this.rawUrlTree=i.initialUrl;else if(r instanceof gl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof Ia?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof Pn&&(r.code===Ct.GuardRejected||r.code===Ct.NoDataFromResolver)?this.restoreHistory(i):r instanceof _a?this.restoreHistory(i,!0):r instanceof kn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=r instanceof On?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,c=O(O({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",c)}else{let o=O(O({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Xo(e)))(s||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ha=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ha||{});function Tk(t,e){t.events.pipe(Bt(n=>n instanceof kn||n instanceof Pn||n instanceof _a||n instanceof pi),re(n=>n instanceof kn||n instanceof pi?ha.COMPLETE:(n instanceof Pn?n.code===Ct.Redirect||n.code===Ct.SupersededByNewNavigation:!1)?ha.REDIRECTING:ha.FAILED),Bt(n=>n!==ha.REDIRECTING),En(1)).subscribe(()=>{e()})}function Sk(t){throw t}var Ak={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Mk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},cn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=k(nl),this.stateManager=k(Cb),this.options=k(Mg,{optional:!0})||{},this.pendingTasks=k(_s),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(wk),this.urlSerializer=k(Cg),this.location=k(sa),this.urlHandlingStrategy=k(Ng),this._events=new Be,this.errorHandler=this.options.errorHandler||Sk,this.navigated=!1,this.routeReuseStrategy=k(Dk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(xg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(Ag,{optional:!0}),this.eventsSubscription=new Ce,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Pn&&i.code!==Ct.Redirect&&i.code!==Ct.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof kn)this.navigated=!0;else if(i instanceof xs){let c=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l=O({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Ek(s.source)},c);this.scheduleNavigation(u,pa,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}xk(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),pa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},c=s?.navigationId?s:null;if(s){let l=O({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Rg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:c,queryParamsHandling:u,preserveFragment:l}=i,f=l?this.currentUrlTree.fragment:c,g=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":g=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=o||null}g!==null&&(g=this.removeEmptyProps(g));let _;try{let I=s?s.snapshot:this.routerState.snapshot.root;_=cb(I)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),_=this.currentUrlTree.root}return ub(_,r,g,f??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=fi(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,pa,null,i)}navigate(r,i={skipLocationChange:!1}){return Rk(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=O({},Ak):i===!1?s=O({},Mk):s=i,fi(r))return qD(this.currentUrlTree,r,s);let o=this.parseUrl(r);return qD(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,c){if(this.disposed)return Promise.resolve(!1);let u,l,f;c?(u=c.resolve,l=c.reject,f=c.promise):f=new Promise((_,I)=>{u=_,l=I});let g=this.pendingTasks.add();return Tk(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(_=>Promise.reject(_))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Rk(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new B(4008,!1)}function xk(t){return!(t instanceof Ia)&&!(t instanceof xs)}var Ps=(()=>{let e=class e{constructor(r,i,s,o,c,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=c,this.locationStrategy=u,this.href=null,this.onChanges=new Be,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(f=>{f instanceof kn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(fi(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,s,o,c){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||c||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:DE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.routerLinkInput===null?null:fi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(W(cn),W(gi),pp("tabindex"),W(gr),W(kt),W(Ds))},e.\u0275dir=lt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&Qe("click",function(c){return s.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),i&2&&Xu("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ci],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ci],replaceUrl:[2,"replaceUrl","replaceUrl",ci],routerLink:"routerLink"},standalone:!0,features:[Pp,lr]});let t=e;return t})(),ks=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,c){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=c,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Se,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof kn&&this.update()})}ngAfterContentInit(){K(this.links.changes,K(null)).pipe(Yi()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Te(r).pipe(Yi()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=Nk(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?r.isActive(o,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(W(cn),W(kt),W(gr),W(Ir),W(Ps,8))},e.\u0275dir=lt({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&dD(o,Ps,5),i&2){let c;hD(c=fD())&&(s.links=c)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[lr]});let t=e;return t})();function Nk(t){return!!t.paths}var Pk=new U("");function Tb(t,...e){return on([{provide:xg,multi:!0,useValue:t},[],{provide:gi,useFactory:Ok,deps:[cn]},{provide:Fp,multi:!0,useFactory:kk},e.map(n=>n.\u0275providers)])}function Ok(t){return t.routerState.root}function kk(){let t=k(gt);return e=>{let n=t.get(ai);if(e!==n.components[0])return;let r=t.get(cn),i=t.get(Fk);t.get(Lk)===1&&r.initialNavigation(),t.get(Vk,null,te.Optional)?.setUpPreloading(),t.get(Pk,null,te.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Fk=new U("",{factory:()=>new Be}),Lk=new U("",{providedIn:"root",factory:()=>1});var Vk=new U("");var bl=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=yt({type:t,selectors:[["app-home"]],standalone:!0,features:[vt],decls:48,vars:0,consts:[[1,"main","min-vh-100"],[1,"py-5"],[1,"container","px-lg-5"],[1,"p-lg-2","rounded-3","text-center","divTitulo"],[1,"m-4","m-lg-5"],[1,"display-5","fw-bold","image-text"],[1,"display-7"],[1,"pt-4"],[1,"row","gx-lg-5"],[1,"col-lg-6","col-xxl-6","mb-5"],[1,"card","divjuegos","border-0","h-100"],[1,"card-body","text-center","p-4","p-lg-5","pt-0","pt-lg-0"],[1,"game-card","feature","bg-dark","bg-gradient","text-white","rounded-3","mb-4","mt-n4"],["src","ahorcado.png","alt","ahorcado"],[1,"fs-4","fw-bold"],[1,"mb-0"],["src","mayor-menor.png","alt","mayor o menor"],["src","preguntas-respuestas.png","alt","Preguntas y respuestas"],["src","mayor-menor.png","alt","Juego Propio"]],template:function(n,r){n&1&&(L(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),$(6,"Sala de Juegos"),F(),L(7,"h2",6),$(8,"\xA1Te doy la bienvenida!"),F()()()()(),L(9,"section",7)(10,"div",2)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12),Ve(16,"img",13),F(),L(17,"h2",14),$(18,"Ahorcado"),F(),L(19,"p",15),$(20,"Intenta adivinar la palabra secreta, letra por letra antes de que te quedes sin vida"),F()()()(),L(21,"div",9)(22,"div",10)(23,"div",11)(24,"div",12),Ve(25,"img",16),F(),L(26,"h2",14),$(27,"Mayor o menor"),F(),L(28,"p",15),$(29,"Advina si la siguiente carta sera mayor o menort que la anterior"),F()()()(),L(30,"div",9)(31,"div",10)(32,"div",11)(33,"div",12),Ve(34,"img",17),F(),L(35,"h2",14),$(36,"Preguntados"),F(),L(37,"p",15),$(38,"\xBFCuantas preguntas sin equivocarte puedes responder?"),F()()()(),L(39,"div",9)(40,"div",10)(41,"div",11)(42,"div",12),Ve(43,"img",18),F(),L(44,"h2",14),$(45,"Juego propio"),F(),L(46,"p",15),$(47,"Estamos pensando ...."),F()()()()()()()())},styles:[".main[_ngcontent-%COMP%]{background-image:url(https://wallpapers.com/images/hd/game-night-background-poemd877bzft58ix.jpg);background-size:cover;background-position:center;background-repeat:no-repeat}.divTitulo[_ngcontent-%COMP%]{background-color:#f0e9e980;height:150px;display:flex;justify-content:center;align-items:center}.divjuegos[_ngcontent-%COMP%]{background-color:#ffffffc9;height:100px;display:flex;justify-content:center;align-items:center}.card[_ngcontent-%COMP%]:hover{cursor:pointer;filter:brightness(105%);transform:scale(1.025);color:#003666;transition:all .5s ease;-webkit-box-shadow:0px 0px 35px 0px rgba(0,0,0,.75);box-shadow:0 0 35px #000000bf}.mt-n4[_ngcontent-%COMP%]{margin-top:-1.5rem!important}.feature[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;height:4rem;width:4rem;font-size:2rem}.game-card[_ngcontent-%COMP%]{overflow:hidden}.game-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:55%;width:auto;object-fit:cover}"]})};var Cl=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=yt({type:t,selectors:[["app-about-me"]],standalone:!0,features:[vt],decls:17,vars:0,consts:[[1,"main","min-vh-100"],[1,"container","col-xxl-8","px-4","py-5"],[1,"row","g-5","py-5"],[1,"col-10","col-sm-8","col-lg-6"],["src","facundo-palmieri.png","alt","facundo-palmieri","width","500","loading","lazy",1,"d-block","mx-lg-auto","img-fluid","personal-img"],[1,"col-lg-6","divFondo"],[1,"display-5","fw-bold","lh-1","mb-3"],[1,"lead"],[1,"display-7","lh-1","mb-3"]],template:function(n,r){n&1&&(L(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Ve(4,"img",4),F(),L(5,"div",5)(6,"h1",6),$(7,"Facundo Nicol\xE1s Palmieri"),F(),L(8,"p",7),$(9,"Tengo 22 a\xF1os, vivo en Lan\xFAs, Buenos Aires"),F(),L(10,"p",7),$(11,"Soy un alumno de la utn en la tecnicatura en programacion, actualmente estoy en el ultimo cuatrimestre de la carrera."),F(),Ve(12,"br"),L(13,"h2",8),$(14,"El juego que desarroll\xE9..."),F(),L(15,"p",7),$(16," Aun estoy pensando que juego podria desarrollar para mostrar en la pagina "),F()()()()())},styles:[".main[_ngcontent-%COMP%]{background-image:url(https://wallpapers.com/images/hd/game-night-background-poemd877bzft58ix.jpg);background-size:cover;background-position:center;background-repeat:no-repeat}.divFondo[_ngcontent-%COMP%]{background-color:#fff9;padding:20px;border-radius:10px}.divFondo[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;font-size:2rem}.divFondo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#444;font-size:1.8rem}"]})};var Ob=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(W(gr),W(kt))},e.\u0275dir=lt({type:e});let t=e;return t})(),jk=(()=>{let e=class e extends Ob{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Xo(e)))(s||e)}})(),e.\u0275dir=lt({type:e,features:[mr]});let t=e;return t})(),kb=new U("");var Uk={provide:kb,useExisting:ms(()=>Us),multi:!0};function Bk(){let t=Nn()?Nn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var $k=new U(""),Us=(()=>{let e=class e extends Ob{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Bk())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(W(gr),W(kt),W($k,8))},e.\u0275dir=lt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&Qe("input",function(c){return s._handleInput(c.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(c){return s._compositionEnd(c.target.value)})},features:[tl([Uk]),mr]});let t=e;return t})();var Fb=new U(""),Lb=new U("");function Vb(t){return t!=null}function jb(t){return oi(t)?Te(t):t}function Ub(t){let e={};return t.forEach(n=>{e=n!=null?O(O({},e),n):e}),Object.keys(e).length===0?null:e}function Bb(t,e){return e.map(n=>n(t))}function Hk(t){return!t.validate}function $b(t){return t.map(e=>Hk(e)?e:n=>e.validate(n))}function zk(t){if(!t)return null;let e=t.filter(Vb);return e.length==0?null:function(n){return Ub(Bb(n,e))}}function kg(t){return t!=null?zk($b(t)):null}function qk(t){if(!t)return null;let e=t.filter(Vb);return e.length==0?null:function(n){let r=Bb(n,e).map(jb);return Bh(r).pipe(re(Ub))}}function Fg(t){return t!=null?qk($b(t)):null}function Sb(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Gk(t){return t._rawValidators}function Wk(t){return t._rawAsyncValidators}function Og(t){return t?Array.isArray(t)?t:[t]:[]}function Sl(t,e){return Array.isArray(t)?t.includes(e):t===e}function Ab(t,e){let n=Og(e);return Og(t).forEach(i=>{Sl(n,i)||n.push(i)}),n}function Mb(t,e){return Og(e).filter(n=>!Sl(t,n))}var Al=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=kg(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Fg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Vs=class extends Al{get formDirective(){return null}get path(){return null}},Oa=class extends Al{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Ml=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Kk={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},r3=se(O({},Kk),{"[class.ng-submitted]":"isSubmitted"}),Pl=(()=>{let e=class e extends Ml{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(W(Oa,2))},e.\u0275dir=lt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&el("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[mr]});let t=e;return t})(),Ol=(()=>{let e=class e extends Ml{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(W(Vs,10))},e.\u0275dir=lt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&el("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[mr]});let t=e;return t})();var Ma="VALID",Tl="INVALID",Fs="PENDING",Ra="DISABLED",js=class{},Rl=class extends js{constructor(e,n){super(),this.value=e,this.source=n}},Na=class extends js{constructor(e,n){super(),this.pristine=e,this.source=n}},Pa=class extends js{constructor(e,n){super(),this.touched=e,this.source=n}},Ls=class extends js{constructor(e,n){super(),this.status=e,this.source=n}};function Hb(t){return(kl(t)?t.validators:t)||null}function Qk(t){return Array.isArray(t)?kg(t):t||null}function zb(t,e){return(kl(e)?e.asyncValidators:t)||null}function Yk(t){return Array.isArray(t)?Fg(t):t||null}function kl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Zk(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new B(1e3,"");if(!r[n])throw new B(1001,"")}function Jk(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new B(1002,"")})}var xl=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ia(()=>this.statusReactive()),this.statusReactive=na(void 0),this._pristine=ia(()=>this.pristineReactive()),this.pristineReactive=na(!0),this._touched=ia(()=>this.touchedReactive()),this.touchedReactive=na(!1),this._events=new Be,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return xn(this.statusReactive)}set status(e){xn(()=>this.statusReactive.set(e))}get valid(){return this.status===Ma}get invalid(){return this.status===Tl}get pending(){return this.status==Fs}get disabled(){return this.status===Ra}get enabled(){return this.status!==Ra}get pristine(){return xn(this.pristineReactive)}set pristine(e){xn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return xn(this.touchedReactive)}set touched(e){xn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ab(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ab(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Mb(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Mb(e,this._rawAsyncValidators))}hasValidator(e){return Sl(this._rawValidators,e)}hasAsyncValidator(e){return Sl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(se(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Pa(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Pa(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(se(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Na(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Na(!0,r))}markAsPending(e={}){this.status=Fs;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ls(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(se(O({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ra,this.errors=null,this._forEachChild(i=>{i.disable(se(O({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Rl(this.value,r)),this._events.next(new Ls(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(se(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ma,this._forEachChild(r=>{r.enable(se(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(se(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ma||this.status===Fs)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Rl(this.value,n)),this._events.next(new Ls(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(se(O({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ra:Ma}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Fs,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=jb(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ls(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Se,this.statusChanges=new Se}_calculateStatus(){return this._allControlsDisabled()?Ra:this.errors?Tl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fs)?Fs:this._anyControlsHaveStatus(Tl)?Tl:Ma}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Na(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Pa(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){kl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Qk(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Yk(this._rawAsyncValidators)}},Nl=class extends xl{constructor(e,n,r){super(Hb(n),zb(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Jk(this,!0,e),Object.keys(e).forEach(r=>{Zk(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Lg=new U("CallSetDisabledState",{providedIn:"root",factory:()=>Vg}),Vg="always";function Xk(t,e){return[...e.path,t]}function qb(t,e,n=Vg){Gb(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),t1(t,e),r1(t,e),n1(t,e),e1(t,e)}function Rb(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function e1(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Gb(t,e){let n=Gk(t);e.validator!==null?t.setValidators(Sb(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Wk(t);e.asyncValidator!==null?t.setAsyncValidators(Sb(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Rb(e._rawValidators,i),Rb(e._rawAsyncValidators,i)}function t1(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Wb(t,e)})}function n1(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Wb(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Wb(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function r1(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function i1(t,e){t==null,Gb(t,e)}function s1(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function o1(t){return Object.getPrototypeOf(t.constructor)===jk}function a1(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function c1(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Us?n=s:o1(s)?r=s:i=s}),i||r||n||null}var u1={provide:Vs,useExisting:ms(()=>ka)},xa=Promise.resolve(),ka=(()=>{let e=class e extends Vs{get submitted(){return xn(this.submittedReactive)}constructor(r,i,s){super(),this.callSetDisabledState=s,this._submitted=ia(()=>this.submittedReactive()),this.submittedReactive=na(!1),this._directives=new Set,this.ngSubmit=new Se,this.form=new Nl({},kg(r),Fg(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){xa.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),qb(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){xa.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){xa.then(()=>{let i=this._findContainer(r.path),s=new Nl({});i1(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){xa.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){xa.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),a1(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(W(Fb,10),W(Lb,10),W(Lg,8))},e.\u0275dir=lt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&Qe("submit",function(c){return s.onSubmit(c)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[tl([u1]),mr]});let t=e;return t})();function xb(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Nb(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var l1=class extends xl{constructor(e=null,n,r){super(Hb(n),zb(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Nb(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){xb(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){xb(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Nb(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var d1={provide:Oa,useExisting:ms(()=>Fa)},Pb=Promise.resolve(),Fa=(()=>{let e=class e extends Oa{constructor(r,i,s,o,c,u){super(),this._changeDetectorRef=c,this.callSetDisabledState=u,this.control=new l1,this._registered=!1,this.name="",this.update=new Se,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=c1(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),s1(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){qb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){Pb.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&ci(i);Pb.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?Xk(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(W(Vs,9),W(Fb,10),W(Lb,10),W(kb,10),W(Ir,8),W(Lg,8))},e.\u0275dir=lt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[tl([d1]),mr,lr]});let t=e;return t})(),Fl=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=lt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var h1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ri({type:e}),e.\u0275inj=ni({});let t=e;return t})();var Ll=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Lg,useValue:r.callSetDisabledState??Vg}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ri({type:e}),e.\u0275inj=ni({imports:[h1]});let t=e;return t})();var Yb=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},f1=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Zb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,c=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=s>>2,g=(s&3)<<4|c>>4,_=(c&15)<<2|l>>6,I=l&63;u||(I=64,o||(_=64)),r.push(n[f],n[g],n[_],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Yb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):f1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||l==null||g==null)throw new Ug;let _=s<<2|c>>4;if(r.push(_),l!==64){let I=c<<4&240|l>>2;if(r.push(I),g!==64){let A=l<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Ug=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},p1=function(t){let e=Yb(t);return Zb.encodeByteArray(e,!0)},La=function(t){return p1(t).replace(/\./g,"")},$g=function(t){try{return Zb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function g1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var m1=()=>g1().__FIREBASE_DEFAULTS__,y1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},v1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&$g(t[1]);return e&&JSON.parse(e)},jl=()=>{try{return m1()||y1()||v1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Hg=t=>{var e,n;return(n=(e=jl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Jb=t=>{let e=Hg(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zg=()=>{var t;return(t=jl())===null||t===void 0?void 0:t.config},qg=t=>{var e;return(e=jl())===null||e===void 0?void 0:e[`_${t}`]};var Vl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Xb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[La(JSON.stringify(n)),La(JSON.stringify(o)),""].join(".")}function He(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function _1(){var t;let e=(t=jl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rC(){let t=He();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function iC(){return!_1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gg(){try{return typeof indexedDB=="object"}catch{return!1}}function sC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var I1="FirebaseError",Tt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=I1,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fn.prototype.create)}},Fn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?w1(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Tt(i,c,r)}};function w1(t,e){return t.replace(E1,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var E1=/\{\$([^}]+)}/g;function oC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(Qb(s)&&Qb(o)){if(!mi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function Qb(t){return t!==null&&typeof t=="object"}function Va(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bs(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function $s(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function aC(t,e){let n=new Bg(t,e);return n.subscribe.bind(n)}var Bg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");D1(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=jg),i.error===void 0&&(i.error=jg),i.complete===void 0&&(i.complete=jg);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function D1(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function jg(){}var o3=4*60*60*1e3;function ht(t){return t&&t._delegate?t._delegate:t}var Vt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var yi="[DEFAULT]";var Wg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Vl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(C1(e))try{this.getOrInitializeService({instanceIdentifier:yi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=yi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=yi){return this.instances.has(e)}getOptions(e=yi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:b1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yi){return this.component?this.component.multipleInstances?e:yi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function b1(t){return t===yi?void 0:t}function C1(t){return t.instantiationMode==="EAGER"}var Ul=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Wg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var T1=[],ae=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ae||{}),S1={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},A1=ae.INFO,M1={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},R1=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=M1[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Er=class{constructor(e){this.name=e,this._logLevel=A1,this._logHandler=R1,this._userLogHandler=null,T1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?S1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}};var x1=(t,e)=>e.some(n=>t instanceof n),cC,uC;function N1(){return cC||(cC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P1(){return uC||(uC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var lC=new WeakMap,Qg=new WeakMap,dC=new WeakMap,Kg=new WeakMap,Zg=new WeakMap;function O1(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(un(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&lC.set(n,t)}).catch(()=>{}),Zg.set(e,t),e}function k1(t){if(Qg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Qg.set(t,e)}var Yg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return un(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hC(t){Yg=t(Yg)}function F1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Bl(this),e,...n);return dC.set(r,e.sort?e.sort():[e]),un(r)}:P1().includes(t)?function(...e){return t.apply(Bl(this),e),un(lC.get(this))}:function(...e){return un(t.apply(Bl(this),e))}}function L1(t){return typeof t=="function"?F1(t):(t instanceof IDBTransaction&&k1(t),x1(t,N1())?new Proxy(t,Yg):t)}function un(t){if(t instanceof IDBRequest)return O1(t);if(Kg.has(t))return Kg.get(t);let e=L1(t);return e!==t&&(Kg.set(t,e),Zg.set(e,t)),e}var Bl=t=>Zg.get(t);function pC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),c=un(o);return r&&o.addEventListener("upgradeneeded",u=>{r(un(o.result),u.oldVersion,u.newVersion,un(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var V1=["get","getKey","getAll","getAllKeys","count"],j1=["put","add","delete","clear"],Jg=new Map;function fC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jg.get(e))return Jg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=j1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||V1.includes(n)))return;let s=function(o,...c){return w(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return Jg.set(e,s),s}hC(t=>se(O({},t),{get:(e,n,r)=>fC(e,n)||t.get(e,n,r),has:(e,n)=>!!fC(e,n)||t.has(e,n)}));var em=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(U1(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function U1(t){let e=t.getComponent();return e?.type==="VERSION"}var tm="@firebase/app",gC="0.10.10";var Ln=new Er("@firebase/app"),B1="@firebase/app-compat",$1="@firebase/analytics-compat",H1="@firebase/analytics",z1="@firebase/app-check-compat",q1="@firebase/app-check",G1="@firebase/auth",W1="@firebase/auth-compat",K1="@firebase/database",Q1="@firebase/database-compat",Y1="@firebase/functions",Z1="@firebase/functions-compat",J1="@firebase/installations",X1="@firebase/installations-compat",eF="@firebase/messaging",tF="@firebase/messaging-compat",nF="@firebase/performance",rF="@firebase/performance-compat",iF="@firebase/remote-config",sF="@firebase/remote-config-compat",oF="@firebase/storage",aF="@firebase/storage-compat",cF="@firebase/firestore",uF="@firebase/vertexai-preview",lF="@firebase/firestore-compat",dF="firebase",hF="10.13.1";var nm="[DEFAULT]",fF={[tm]:"fire-core",[B1]:"fire-core-compat",[H1]:"fire-analytics",[$1]:"fire-analytics-compat",[q1]:"fire-app-check",[z1]:"fire-app-check-compat",[G1]:"fire-auth",[W1]:"fire-auth-compat",[K1]:"fire-rtdb",[Q1]:"fire-rtdb-compat",[Y1]:"fire-fn",[Z1]:"fire-fn-compat",[J1]:"fire-iid",[X1]:"fire-iid-compat",[eF]:"fire-fcm",[tF]:"fire-fcm-compat",[nF]:"fire-perf",[rF]:"fire-perf-compat",[iF]:"fire-rc",[sF]:"fire-rc-compat",[oF]:"fire-gcs",[aF]:"fire-gcs-compat",[cF]:"fire-fst",[lF]:"fire-fst-compat",[uF]:"fire-vertex","fire-js":"fire-js",[dF]:"fire-js-all"};var ja=new Map,pF=new Map,rm=new Map;function mC(t,e){try{t.container.addComponent(e)}catch(n){Ln.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function br(t){let e=t.name;if(rm.has(e))return Ln.debug(`There were multiple attempts to register component ${e}.`),!1;rm.set(e,t);for(let n of ja.values())mC(n,t);for(let n of pF.values())mC(n,t);return!0}function Ba(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Yt(t){return t.settings!==void 0}var gF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new Fn("app","Firebase",gF);var im=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}};var Cr=hF;function am(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:nm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Dr.create("bad-app-name",{appName:String(i)});if(n||(n=zg()),!n)throw Dr.create("no-options");let s=ja.get(i);if(s){if(mi(n,s.options)&&mi(r,s.config))return s;throw Dr.create("duplicate-app",{appName:i})}let o=new Ul(i);for(let u of rm.values())o.addComponent(u);let c=new im(n,r,o);return ja.set(i,c),c}function Hs(t=nm){let e=ja.get(t);if(!e&&t===nm&&zg())return am();if(!e)throw Dr.create("no-app",{appName:t});return e}function $l(){return Array.from(ja.values())}function je(t,e,n){var r;let i=(r=fF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ln.warn(c.join(" "));return}br(new Vt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var mF="firebase-heartbeat-database",yF=1,Ua="firebase-heartbeat-store",Xg=null;function IC(){return Xg||(Xg=pC(mF,yF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ua)}catch(n){console.warn(n)}}}}).catch(t=>{throw Dr.create("idb-open",{originalErrorMessage:t.message})})),Xg}function vF(t){return w(this,null,function*(){try{let n=(yield IC()).transaction(Ua),r=yield n.objectStore(Ua).get(wC(t));return yield n.done,r}catch(e){if(e instanceof Tt)Ln.warn(e.message);else{let n=Dr.create("idb-get",{originalErrorMessage:e?.message});Ln.warn(n.message)}}})}function yC(t,e){return w(this,null,function*(){try{let r=(yield IC()).transaction(Ua,"readwrite");yield r.objectStore(Ua).put(e,wC(t)),yield r.done}catch(n){if(n instanceof Tt)Ln.warn(n.message);else{let r=Dr.create("idb-set",{originalErrorMessage:n?.message});Ln.warn(r.message)}}})}function wC(t){return`${t.name}!${t.options.appId}`}var _F=1024,IF=30*24*60*60*1e3,sm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new om(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=vC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=IF}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ln.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=vC(),{heartbeatsToSend:r,unsentEntries:i}=wF(this._heartbeatsCache.heartbeats),s=La(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ln.warn(n),""}})}};function vC(){return new Date().toISOString().substring(0,10)}function wF(t,e=_F){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),_C(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_C(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var om=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return Gg()?sC().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield vF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return yC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return yC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function _C(t){return La(JSON.stringify({version:2,heartbeats:t})).length}function EF(t){br(new Vt("platform-logger",e=>new em(e),"PRIVATE")),br(new Vt("heartbeat",e=>new sm(e),"PRIVATE")),je(tm,gC,t),je(tm,gC,"esm2017"),je("fire-js","")}EF("");var DF="firebase",bF="10.13.1";je(DF,bF,"app");var _i=new Tn("ANGULARFIRE2_VERSION");function zl(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var $a=(t,e)=>{let n=e?[e]:$l(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},qs=class{constructor(){return $a(CF)}},CF="app-check";function zs(){}var Hl=class{zone;delegate;constructor(e,n=Vh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},cm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zs,{},zs,zs)),n.pipe(Fe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Gs=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Hl(Zone.current)),this.insideAngular=n.run(()=>new Hl(Zone.current,Lh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(Z(ye))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ql(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function TF(t){return ql().ngZone.runOutsideAngular(()=>t())}function vi(t){return ql().ngZone.run(()=>t())}function SF(t){return AF(ql())(t)}function AF(t){return function(n){return n=n.lift(new cm(t.ngZone)),n.pipe(er(t.outsideAngular),Xn(t.insideAngular))}}var MF=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),vi(()=>t.apply(void 0,r))},Zt=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=vi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zs,{},zs,zs))),r[s]=MF(r[s],n));let i=TF(()=>t.apply(this,r));if(!e)if(i instanceof ue){let s=ql();return i.pipe(er(s.outsideAngular),Xn(s.insideAngular))}else return vi(()=>i);return i instanceof ue?i.pipe(SF):i instanceof Promise?vi(()=>new Promise((s,o)=>i.then(c=>vi(()=>s(c)),c=>vi(()=>o(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:vi(()=>i)};var Vn=class{constructor(e){return e}},Ii=class{constructor(){return $l()}};function RF(t){return t&&t.length===1?t[0]:new Vn(Hs())}var um=new U("angularfire2._apps"),xF={provide:Vn,useFactory:RF,deps:[[new mt,um]]},NF={provide:Ii,deps:[[new mt,um]]};function PF(t){return(e,n)=>{let r=n.get(pr);je("angularfire",_i.full,"core"),je("angularfire",_i.full,"app"),je("angular",gD.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Vn(i)}}function EC(t,...e){return on([xF,NF,{provide:um,useFactory:PF(t),multi:!0,deps:[ye,gt,Gs,...e]}])}var DC=Zt(am,!0);function UC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var BC=UC,$C=new Fn("auth","Firebase",UC());var Zl=new Er("@firebase/auth");function OF(t,...e){Zl.logLevel<=ae.WARN&&Zl.warn(`Auth (${Cr}): ${t}`,...e)}function Wl(t,...e){Zl.logLevel<=ae.ERROR&&Zl.error(`Auth (${Cr}): ${t}`,...e)}function dn(t,...e){throw Nm(t,...e)}function wi(t,...e){return Nm(t,...e)}function HC(t,e,n){let r=Object.assign(Object.assign({},BC()),{[e]:n});return new Fn("auth","Firebase",r).create(e,{appName:t.name})}function Bn(t){return HC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nm(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $C.create(t,...e)}function q(t,e,...n){if(!t)throw Nm(e,...n)}function jn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Wl(e),new Error(e)}function Sr(t,e){t||jn(e)}function fm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function kF(){return bC()==="http:"||bC()==="https:"}function bC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function FF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kF()||tC()||"connection"in navigator)?navigator.onLine:!0}function LF(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ei=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Sr(n>e,"Short delay should be less than long delay!"),this.isMobile=eC()||nC()}get(){return FF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Pm(t,e){Sr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Jl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var VF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var jF=new Ei(3e4,6e4);function Ar(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Mr(s,o,c,u){return w(this,arguments,function*(t,e,n,r,i={}){return zC(t,i,()=>w(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let g=Va(Object.assign({key:t.config.apiKey},f)).slice(1),_=yield t._getAdditionalHeaders();return _["Content-Type"]="application/json",t.languageCode&&(_["X-Firebase-Locale"]=t.languageCode),Jl.fetch()(qC(t,t.config.apiHost,n,g),Object.assign({method:e,headers:_,referrerPolicy:"no-referrer"},l))}))})}function zC(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},VF),e);try{let i=new pm(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Gl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gl(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Gl(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Gl(t,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw HC(t,f,l);dn(t,f)}}catch(i){if(i instanceof Tt)throw i;dn(t,"network-request-failed",{message:String(i)})}})}function Ya(s,o,c,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield Mr(t,e,n,r,i);return"mfaPendingCredential"in l&&dn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function qC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Pm(t.config,i):`${t.config.apiScheme}://${i}`}function UF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var pm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wi(this.auth,"network-request-failed")),jF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Gl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=wi(t,e,r);return i.customData._tokenResponse=n,i}function CC(t){return t!==void 0&&t.enterprise!==void 0}var gm=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return UF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function BF(t,e){return w(this,null,function*(){return Mr(t,"GET","/v2/recaptchaConfig",Ar(t,e))})}function $F(t,e){return w(this,null,function*(){return Mr(t,"POST","/v1/accounts:delete",e)})}function GC(t,e){return w(this,null,function*(){return Mr(t,"POST","/v1/accounts:lookup",e)})}function Ha(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Om(t,e=!1){return w(this,null,function*(){let n=ht(t),r=yield n.getIdToken(e),i=km(r);q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ha(lm(i.auth_time)),issuedAtTime:Ha(lm(i.iat)),expirationTime:Ha(lm(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function lm(t){return Number(t)*1e3}function km(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wl("JWT malformed, contained fewer than 3 sections"),null;try{let i=$g(n);return i?JSON.parse(i):(Wl("Failed to decode base64 JWT payload"),null)}catch(i){return Wl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function TC(t){let e=km(t);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function qa(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Tt&&HF(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function HF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var mm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ga=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ha(this.lastLoginAt),this.creationTime=Ha(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Xl(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield qa(t,GC(n,{idToken:r}));q(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?WC(s.providerUserInfo):[],c=zF(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!c?.length,f=u?l:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Ga(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,g)})}function Fm(t){return w(this,null,function*(){let e=ht(t);yield Xl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function zF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function WC(t){return t.map(e=>{var{providerId:n}=e,r=jh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function qF(t,e){return w(this,null,function*(){let n=yield zC(t,{},()=>w(this,null,function*(){let r=Va({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=qC(t,i,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Jl.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function GF(t,e){return w(this,null,function*(){return Mr(t,"POST","/v2/accounts:revokeToken",Ar(t,e))})}var za=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):TC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){q(e.length!==0,"internal-error");let n=TC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield qF(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(q(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return jn("not implemented")}};function Tr(t,e){q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ws=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=jh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ga(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield qa(this,this.stsTokenManager.getToken(this.auth,e));return q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Om(this,e)}reload(){return Fm(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Xl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(Yt(this.auth.app))return Promise.reject(Bn(this.auth));let e=yield this.getIdToken();return yield qa(this,$F(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,u,l,f;let g=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,I=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,N=(c=n.tenantId)!==null&&c!==void 0?c:void 0,x=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,V=(l=n.createdAt)!==null&&l!==void 0?l:void 0,Q=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:X,emailVerified:ge,isAnonymous:Ge,providerData:fe,stsTokenManager:D}=n;q(X&&D,e,"internal-error");let m=za.fromJSON(this.name,D);q(typeof X=="string",e,"internal-error"),Tr(g,e.name),Tr(_,e.name),q(typeof ge=="boolean",e,"internal-error"),q(typeof Ge=="boolean",e,"internal-error"),Tr(I,e.name),Tr(A,e.name),Tr(N,e.name),Tr(x,e.name),Tr(V,e.name),Tr(Q,e.name);let y=new t({uid:X,auth:e,email:_,emailVerified:ge,displayName:g,isAnonymous:Ge,photoURL:A,phoneNumber:I,tenantId:N,stsTokenManager:m,createdAt:V,lastLoginAt:Q});return fe&&Array.isArray(fe)&&(y.providerData=fe.map(E=>Object.assign({},E))),x&&(y._redirectEventId=x),y}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new za;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Xl(s),s})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];q(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?WC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new za;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ga(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var SC=new Map;function Un(t){Sr(t instanceof Function,"Expected a class definition");let e=SC.get(t);return e?(Sr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,SC.set(t,e),e)}var WF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),ym=WF;function Kl(t,e,n){return`firebase:${t}:${e}:${n}`}var ed=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Kl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Kl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ws._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(Un(ym),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Un(ym),o=Kl(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let f=yield l._get(o);if(f){let g=Ws._fromJSON(e,f);l!==s&&(c=g),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function AC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XC(e))return"Blackberry";if(e0(e))return"Webos";if(QC(e))return"Safari";if((e.includes("chrome/")||YC(e))&&!e.includes("edge/"))return"Chrome";if(JC(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function KC(t=He()){return/firefox\//i.test(t)}function QC(t=He()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YC(t=He()){return/crios\//i.test(t)}function ZC(t=He()){return/iemobile/i.test(t)}function JC(t=He()){return/android/i.test(t)}function XC(t=He()){return/blackberry/i.test(t)}function e0(t=He()){return/webos/i.test(t)}function Lm(t=He()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function KF(t=He()){var e;return Lm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QF(){return rC()&&document.documentMode===10}function t0(t=He()){return Lm(t)||JC(t)||e0(t)||XC(t)||/windows phone/i.test(t)||ZC(t)}function n0(t,e=[]){let n;switch(t){case"Browser":n=AC(He());break;case"Worker":n=`${AC(He())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Cr}/${r}`}var vm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,c)=>{try{let u=e(s);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function YF(n){return w(this,arguments,function*(t,e={}){return Mr(t,"GET","/v2/passwordPolicy",Ar(t,e))})}var ZF=6,_m=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:ZF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Im=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new td(this),this.idTokenSubscription=new td(this),this.beforeStateQueue=new vm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$C,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Un(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield ed.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield GC(this,{idToken:e}),r=yield Ws._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(Yt(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield Xl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=LF()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(Yt(this.app))return Promise.reject(Bn(this));let n=e?ht(e):null;return n&&q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return Yt(this.app)?Promise.reject(Bn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Yt(this.app)?Promise.reject(Bn(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Un(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield YF(this),n=new _m(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield GF(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Un(e)||this._popupRedirectResolver;q(n,this,"argument-error"),this.redirectPersistenceManager=yield ed.create(this,[Un(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=n0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&OF(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function bi(t){return ht(t)}var td=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=aC(n=>this.observer=n)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var cd={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JF(t){cd=t}function r0(t){return cd.loadJS(t)}function XF(){return cd.recaptchaEnterpriseScript}function eL(){return cd.gapiScript}function i0(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var tL="recaptcha-enterprise",nL="NO_RECAPTCHA",wm=class{constructor(e){this.type=tL,this.auth=bi(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(s){return w(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,c)=>w(this,null,function*(){BF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let l=new gm(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{c(u)})}))})}function i(s,o,c){let u=window.grecaptcha;CC(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(nL)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(c=>{if(!n&&CC(window.grecaptcha))i(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=XF();u.length!==0&&(u+=c),r0(u).then(()=>{i(c,s,o)}).catch(l=>{o(l)})}}).catch(c=>{o(c)})})})}};function MC(t,e,n,r=!1){return w(this,null,function*(){let i=new wm(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Em(t,e,n,r){return w(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield MC(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>w(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield MC(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function Vm(t,e){let n=Ba(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(mi(s,e??{}))return i;dn(i,"already-initialized")}return n.initialize({options:e})}function rL(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Un);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function jm(t,e,n){let r=bi(t);q(r._canInitEmulator,r,"emulator-config-failed"),q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=s0(e),{host:o,port:c}=iL(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||sL()}function s0(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function iL(t){let e=s0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:RC(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:RC(o)}}}function RC(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function sL(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Wa=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jn("not implemented")}_getIdTokenResponse(e){return jn("not implemented")}_linkToIdToken(e,n){return jn("not implemented")}_getReauthenticationResolver(e){return jn("not implemented")}};function oL(t,e){return w(this,null,function*(){return Mr(t,"POST","/v1/accounts:signUp",e)})}function aL(t,e){return w(this,null,function*(){return Ya(t,"POST","/v1/accounts:signInWithPassword",Ar(t,e))})}function cL(t,e){return w(this,null,function*(){return Ya(t,"POST","/v1/accounts:signInWithEmailLink",Ar(t,e))})}function uL(t,e){return w(this,null,function*(){return Ya(t,"POST","/v1/accounts:signInWithEmailLink",Ar(t,e))})}var Ka=class t extends Wa{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Em(e,n,"signInWithPassword",aL);case"emailLink":return cL(e,{email:this._email,oobCode:this._password});default:dn(e,"internal-error")}})}_linkToIdToken(e,n){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Em(e,r,"signUpPassword",oL);case"emailLink":return uL(e,{idToken:n,email:this._email,oobCode:this._password});default:dn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function dm(t,e){return w(this,null,function*(){return Ya(t,"POST","/v1/accounts:signInWithIdp",Ar(t,e))})}function lL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dL(t){let e=Bs($s(t)).link,n=e?Bs($s(e)).deep_link_id:null,r=Bs($s(t)).deep_link_id;return(r?Bs($s(r)).link:null)||r||n||e||t}var nd=class t{constructor(e){var n,r,i,s,o,c;let u=Bs($s(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,g=lL((i=u.mode)!==null&&i!==void 0?i:null);q(l&&f&&g,"argument-error"),this.apiKey=l,this.operation=g,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let n=dL(e);try{return new t(n)}catch{return null}}};var o0=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Ka._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=nd.parseLink(r);return q(i,"argument-error"),Ka._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),rd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Dm=class extends rd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function hL(t,e){return w(this,null,function*(){return Ya(t,"POST","/v1/accounts:signUp",Ar(t,e))})}var Ks=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let s=yield Ws._fromIdTokenResponse(e,r,i),o=xC(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=xC(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function xC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var bm=class t extends Tt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function a0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?bm._fromErrorAndOperation(t,s,e,r):s})}function fL(t,e,n=!1){return w(this,null,function*(){let r=yield qa(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ks._forOperation(t,"link",r)})}function pL(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(Yt(r.app))return Promise.reject(Bn(r));let i="reauthenticate";try{let s=yield qa(t,a0(r,i,e,t),n);q(s.idToken,r,"internal-error");let o=km(s.idToken);q(o,r,"internal-error");let{sub:c}=o;return q(t.uid===c,r,"user-mismatch"),Ks._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&dn(r,"user-mismatch"),s}})}function c0(t,e,n=!1){return w(this,null,function*(){if(Yt(t.app))return Promise.reject(Bn(t));let r="signIn",i=yield a0(t,r,e),s=yield Ks._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Um(t,e){return w(this,null,function*(){return c0(bi(t),e)})}function u0(t){return w(this,null,function*(){let e=bi(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Bm(t,e,n){return w(this,null,function*(){if(Yt(t.app))return Promise.reject(Bn(t));let r=bi(t),o=yield Em(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hL).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&u0(t),u}),c=yield Ks._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(c.user),c})}function $m(t,e,n){return Yt(t.app)?Promise.reject(Bn(t)):Um(ht(t),o0.credential(e,n)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&u0(t),r}))}function Hm(t,e,n,r){return ht(t).onIdTokenChanged(e,n,r)}function zm(t,e,n){return ht(t).beforeAuthStateChanged(e,n)}function qm(t){return ht(t).signOut()}var id="__sak";var sd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(id,"1"),this.storage.removeItem(id),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var gL=1e3,mL=10,yL=(()=>{class t extends sd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=t0(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);QF()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,mL):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},gL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield Zn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield Zn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield Zn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),l0=yL;var vL=(()=>{class t extends sd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Gm=vL;function _L(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var IL=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(c).map(f=>w(this,null,function*(){return f(r.origin,o)})),l=yield _L(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function d0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Cm=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{let l=d0("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){let _=g;if(_.data.eventId===l)switch(_.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(_.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function ln(){return window}function wL(t){ln().location.href=t}function h0(){return typeof ln().WorkerGlobalScope<"u"&&typeof ln().importScripts=="function"}function EL(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function DL(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function bL(){return h0()?self:null}var f0="firebaseLocalStorageDb",CL=1,od="firebaseLocalStorage",p0="fbase_key",Di=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function ud(t,e){return t.transaction([od],e?"readwrite":"readonly").objectStore(od)}function TL(){let t=indexedDB.deleteDatabase(f0);return new Di(t).toPromise()}function Tm(){let t=indexedDB.open(f0,CL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(od,{keyPath:p0})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(od)?e(r):(r.close(),yield TL(),e(yield Tm()))}))})}function NC(t,e,n){return w(this,null,function*(){let r=ud(t,!0).put({[p0]:e,value:n});return new Di(r).toPromise()})}function SL(t,e){return w(this,null,function*(){let n=ud(t,!1).get(e),r=yield new Di(n).toPromise();return r===void 0?null:r.value})}function PC(t,e){let n=ud(t,!0).delete(e);return new Di(n).toPromise()}var AL=800,ML=3,RL=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield Tm(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>ML)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return h0()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=IL._getInstance(bL()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield EL(),!this.activeServiceWorker)return;this.sender=new Cm(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||DL()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Tm();return yield NC(n,id,"1"),yield PC(n,id),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>NC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>SL(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>PC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(s=>{let o=ud(s,!1).getAll();return new Di(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),AL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),g0=RL;var X3=i0("rcb"),e9=new Ei(3e4,6e4);function xL(t,e){return e?Un(e):(q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Qa=class extends Wa{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return dm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return dm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function NL(t){return c0(t.auth,new Qa(t),t.bypassAuthState)}function PL(t){let{auth:e,user:n}=t;return q(n,e,"internal-error"),pL(n,new Qa(t),t.bypassAuthState)}function OL(t){return w(this,null,function*(){let{auth:e,user:n}=t;return q(n,e,"internal-error"),fL(n,new Qa(t),t.bypassAuthState)})}var Sm=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NL;case"linkViaPopup":case"linkViaRedirect":return OL;case"reauthViaPopup":case"reauthViaRedirect":return PL;default:dn(this.auth,"internal-error")}}resolve(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var t9=new Ei(2e3,1e4);var kL="pendingRedirect",Ql=new Map,Am=class t extends Sm{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=Ql.get(this.auth._key());if(!e){try{let r=(yield FL(this.resolver,this.auth))?yield Zn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ql.set(this.auth._key(),e)}return this.bypassAuthState||Ql.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return Zn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Zn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function FL(t,e){return w(this,null,function*(){let n=jL(e),r=VL(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function LL(t,e){Ql.set(t._key(),e)}function VL(t){return Un(t._redirectPersistence)}function jL(t){return Kl(kL,t.config.apiKey,t.name)}function UL(t,e,n=!1){return w(this,null,function*(){if(Yt(t.app))return Promise.reject(Bn(t));let r=bi(t),i=xL(r,e),o=yield new Am(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var BL=10*60*1e3,Mm=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$L(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!m0(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(wi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BL&&this.cachedEventUids.clear(),this.cachedEventUids.has(OC(e))}saveEventToCache(e){this.cachedEventUids.add(OC(e)),this.lastProcessedEventTime=Date.now()}};function OC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function m0({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function $L(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return m0(t);default:return!1}}function HL(n){return w(this,arguments,function*(t,e={}){return Mr(t,"GET","/v1/projects",e)})}var zL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qL=/^https?/;function GL(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield HL(t);for(let n of e)try{if(WL(n))return}catch{}dn(t,"unauthorized-domain")})}function WL(t){let e=fm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!qL.test(n))return!1;if(zL.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var KL=new Ei(3e4,6e4);function kC(){let t=ln().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function QL(t){return new Promise((e,n)=>{var r,i,s;function o(){kC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kC(),n(wi(t,"network-request-failed"))},timeout:KL.get()})}if(!((i=(r=ln().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ln().gapi)===null||s===void 0)&&s.load)o();else{let c=i0("iframefcb");return ln()[c]=()=>{gapi.load?o():n(wi(t,"network-request-failed"))},r0(`${eL()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw Yl=null,e})}var Yl=null;function YL(t){return Yl=Yl||QL(t),Yl}var ZL=new Ei(5e3,15e3),JL="__/auth/iframe",XL="emulator/auth/iframe",eV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nV(t){let e=t.config;q(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Pm(e,XL):`https://${t.config.authDomain}/${JL}`,r={apiKey:e.apiKey,appName:t.name,v:Cr},i=tV.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Va(r).slice(1)}`}function rV(t){return w(this,null,function*(){let e=yield YL(t),n=ln().gapi;return q(n,t,"internal-error"),e.open({where:document.body,url:nV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eV,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=wi(t,"network-request-failed"),c=ln().setTimeout(()=>{s(o)},ZL.get());function u(){ln().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var iV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sV=500,oV=600,aV="_blank",cV="http://localhost",ad=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function uV(t,e,n,r=sV,i=oV){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},iV),{width:r.toString(),height:i.toString(),top:s,left:o}),l=He().toLowerCase();n&&(c=YC(l)?aV:n),KC(l)&&(e=e||cV,u.scrollbars="yes");let f=Object.entries(u).reduce((_,[I,A])=>`${_}${I}=${A},`,"");if(KF(l)&&c!=="_self")return lV(e||"",c),new ad(null);let g=window.open(e||"",c,f);q(g,t,"popup-blocked");try{g.focus()}catch{}return new ad(g)}function lV(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var dV="__/auth/handler",hV="emulator/auth/handler",fV=encodeURIComponent("fac");function FC(t,e,n,r,i,s){return w(this,null,function*(){q(t.config.authDomain,t,"auth-domain-config-required"),q(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Cr,eventId:i};if(e instanceof rd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",oC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,g]of Object.entries(s||{}))o[f]=g}if(e instanceof Dm){let f=e.getScopes().filter(g=>g!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);let c=o;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=yield t._getAppCheckToken(),l=u?`#${fV}=${encodeURIComponent(u)}`:"";return`${pV(t)}?${Va(c).slice(1)}${l}`})}function pV({config:t}){return t.emulator?Pm(t,hV):`https://${t.authDomain}/${dV}`}var hm="webStorageSupport",Rm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gm,this._completeRedirectFn=UL,this._overrideRedirectResult=LL}_openPopup(e,n,r,i){return w(this,null,function*(){var s;Sr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield FC(e,n,r,fm(),i);return uV(e,o,d0())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield FC(e,n,r,fm(),i);return wL(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Sr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield rV(e),r=new Mm(e);return n.register("authEvent",i=>(q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hm,{type:hm},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[hm];o!==void 0&&n(!!o),dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return t0()||QC()||Lm()}},y0=Rm;var LC="@firebase/auth",VC="1.7.8";var xm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function gV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mV(t){br(new Vt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n0(t)},l=new Im(r,i,s,u);return rL(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),br(new Vt("auth-internal",e=>{let n=bi(e.getProvider("auth").getImmediate());return(r=>new xm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),je(LC,VC,gV(t)),je(LC,VC,"esm2017")}var yV=5*60,vV=qg("authIdTokenMaxAge")||yV,jC=null,_V=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>vV)return;let i=n?.token;jC!==i&&(jC=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Wm(t=Hs()){let e=Ba(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Vm(t,{popupRedirectResolver:y0,persistence:[g0,l0,Gm]}),r=qg("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=_V(s.toString());zm(n,o,()=>o(n.currentUser)),Hm(n,c=>o(c))}}let i=Hg("auth");return i&&jm(n,`http://${i}`),n}function IV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}JF({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=wi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",IV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mV("Browser");var v0="auth",St=class{constructor(e){return e}},Za=class{constructor(){return $a(v0)}};var Km=new U("angularfire2.auth-instances");function lj(t,e){let n=zl(v0,t,e);return n&&new St(n)}function dj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new St(r)}}var hj={provide:Za,deps:[[new mt,Km]]},fj={provide:St,useFactory:lj,deps:[[new mt,Km],Vn]};function _0(t,...e){return je("angularfire",_i.full,"auth"),on([fj,hj,{provide:Km,useFactory:dj(t),multi:!0,deps:[ye,gt,Gs,Ii,[new mt,qs],...e]}])}var I0=Zt(Bm,!0);var w0=Zt(Wm,!0);var E0=Zt($m,!0);var D0=Zt(qm,!0);var b0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},C0={};var Qm,T0;(function(){var t;function e(D,m){function y(){}y.prototype=m.prototype,D.D=m.prototype,D.prototype=new y,D.prototype.constructor=D,D.C=function(E,b,T){for(var v=Array(arguments.length-2),yn=2;yn<arguments.length;yn++)v[yn-2]=arguments[yn];return m.prototype[b].apply(E,v)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,m,y){y||(y=0);var E=Array(16);if(typeof m=="string")for(var b=0;16>b;++b)E[b]=m.charCodeAt(y++)|m.charCodeAt(y++)<<8|m.charCodeAt(y++)<<16|m.charCodeAt(y++)<<24;else for(b=0;16>b;++b)E[b]=m[y++]|m[y++]<<8|m[y++]<<16|m[y++]<<24;m=D.g[0],y=D.g[1],b=D.g[2];var T=D.g[3],v=m+(T^y&(b^T))+E[0]+3614090360&4294967295;m=y+(v<<7&4294967295|v>>>25),v=T+(b^m&(y^b))+E[1]+3905402710&4294967295,T=m+(v<<12&4294967295|v>>>20),v=b+(y^T&(m^y))+E[2]+606105819&4294967295,b=T+(v<<17&4294967295|v>>>15),v=y+(m^b&(T^m))+E[3]+3250441966&4294967295,y=b+(v<<22&4294967295|v>>>10),v=m+(T^y&(b^T))+E[4]+4118548399&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(b^m&(y^b))+E[5]+1200080426&4294967295,T=m+(v<<12&4294967295|v>>>20),v=b+(y^T&(m^y))+E[6]+2821735955&4294967295,b=T+(v<<17&4294967295|v>>>15),v=y+(m^b&(T^m))+E[7]+4249261313&4294967295,y=b+(v<<22&4294967295|v>>>10),v=m+(T^y&(b^T))+E[8]+1770035416&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(b^m&(y^b))+E[9]+2336552879&4294967295,T=m+(v<<12&4294967295|v>>>20),v=b+(y^T&(m^y))+E[10]+4294925233&4294967295,b=T+(v<<17&4294967295|v>>>15),v=y+(m^b&(T^m))+E[11]+2304563134&4294967295,y=b+(v<<22&4294967295|v>>>10),v=m+(T^y&(b^T))+E[12]+1804603682&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(b^m&(y^b))+E[13]+4254626195&4294967295,T=m+(v<<12&4294967295|v>>>20),v=b+(y^T&(m^y))+E[14]+2792965006&4294967295,b=T+(v<<17&4294967295|v>>>15),v=y+(m^b&(T^m))+E[15]+1236535329&4294967295,y=b+(v<<22&4294967295|v>>>10),v=m+(b^T&(y^b))+E[1]+4129170786&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^b&(m^y))+E[6]+3225465664&4294967295,T=m+(v<<9&4294967295|v>>>23),v=b+(m^y&(T^m))+E[11]+643717713&4294967295,b=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(b^T))+E[0]+3921069994&4294967295,y=b+(v<<20&4294967295|v>>>12),v=m+(b^T&(y^b))+E[5]+3593408605&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^b&(m^y))+E[10]+38016083&4294967295,T=m+(v<<9&4294967295|v>>>23),v=b+(m^y&(T^m))+E[15]+3634488961&4294967295,b=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(b^T))+E[4]+3889429448&4294967295,y=b+(v<<20&4294967295|v>>>12),v=m+(b^T&(y^b))+E[9]+568446438&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^b&(m^y))+E[14]+3275163606&4294967295,T=m+(v<<9&4294967295|v>>>23),v=b+(m^y&(T^m))+E[3]+4107603335&4294967295,b=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(b^T))+E[8]+1163531501&4294967295,y=b+(v<<20&4294967295|v>>>12),v=m+(b^T&(y^b))+E[13]+2850285829&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^b&(m^y))+E[2]+4243563512&4294967295,T=m+(v<<9&4294967295|v>>>23),v=b+(m^y&(T^m))+E[7]+1735328473&4294967295,b=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(b^T))+E[12]+2368359562&4294967295,y=b+(v<<20&4294967295|v>>>12),v=m+(y^b^T)+E[5]+4294588738&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^b)+E[8]+2272392833&4294967295,T=m+(v<<11&4294967295|v>>>21),v=b+(T^m^y)+E[11]+1839030562&4294967295,b=T+(v<<16&4294967295|v>>>16),v=y+(b^T^m)+E[14]+4259657740&4294967295,y=b+(v<<23&4294967295|v>>>9),v=m+(y^b^T)+E[1]+2763975236&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^b)+E[4]+1272893353&4294967295,T=m+(v<<11&4294967295|v>>>21),v=b+(T^m^y)+E[7]+4139469664&4294967295,b=T+(v<<16&4294967295|v>>>16),v=y+(b^T^m)+E[10]+3200236656&4294967295,y=b+(v<<23&4294967295|v>>>9),v=m+(y^b^T)+E[13]+681279174&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^b)+E[0]+3936430074&4294967295,T=m+(v<<11&4294967295|v>>>21),v=b+(T^m^y)+E[3]+3572445317&4294967295,b=T+(v<<16&4294967295|v>>>16),v=y+(b^T^m)+E[6]+76029189&4294967295,y=b+(v<<23&4294967295|v>>>9),v=m+(y^b^T)+E[9]+3654602809&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^b)+E[12]+3873151461&4294967295,T=m+(v<<11&4294967295|v>>>21),v=b+(T^m^y)+E[15]+530742520&4294967295,b=T+(v<<16&4294967295|v>>>16),v=y+(b^T^m)+E[2]+3299628645&4294967295,y=b+(v<<23&4294967295|v>>>9),v=m+(b^(y|~T))+E[0]+4096336452&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~b))+E[7]+1126891415&4294967295,T=m+(v<<10&4294967295|v>>>22),v=b+(m^(T|~y))+E[14]+2878612391&4294967295,b=T+(v<<15&4294967295|v>>>17),v=y+(T^(b|~m))+E[5]+4237533241&4294967295,y=b+(v<<21&4294967295|v>>>11),v=m+(b^(y|~T))+E[12]+1700485571&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~b))+E[3]+2399980690&4294967295,T=m+(v<<10&4294967295|v>>>22),v=b+(m^(T|~y))+E[10]+4293915773&4294967295,b=T+(v<<15&4294967295|v>>>17),v=y+(T^(b|~m))+E[1]+2240044497&4294967295,y=b+(v<<21&4294967295|v>>>11),v=m+(b^(y|~T))+E[8]+1873313359&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~b))+E[15]+4264355552&4294967295,T=m+(v<<10&4294967295|v>>>22),v=b+(m^(T|~y))+E[6]+2734768916&4294967295,b=T+(v<<15&4294967295|v>>>17),v=y+(T^(b|~m))+E[13]+1309151649&4294967295,y=b+(v<<21&4294967295|v>>>11),v=m+(b^(y|~T))+E[4]+4149444226&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~b))+E[11]+3174756917&4294967295,T=m+(v<<10&4294967295|v>>>22),v=b+(m^(T|~y))+E[2]+718787259&4294967295,b=T+(v<<15&4294967295|v>>>17),v=y+(T^(b|~m))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+m&4294967295,D.g[1]=D.g[1]+(b+(v<<21&4294967295|v>>>11))&4294967295,D.g[2]=D.g[2]+b&4294967295,D.g[3]=D.g[3]+T&4294967295}r.prototype.u=function(D,m){m===void 0&&(m=D.length);for(var y=m-this.blockSize,E=this.B,b=this.h,T=0;T<m;){if(b==0)for(;T<=y;)i(this,D,T),T+=this.blockSize;if(typeof D=="string"){for(;T<m;)if(E[b++]=D.charCodeAt(T++),b==this.blockSize){i(this,E),b=0;break}}else for(;T<m;)if(E[b++]=D[T++],b==this.blockSize){i(this,E),b=0;break}}this.h=b,this.o+=m},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var m=1;m<D.length-8;++m)D[m]=0;var y=8*this.o;for(m=D.length-8;m<D.length;++m)D[m]=y&255,y/=256;for(this.u(D),D=Array(16),m=y=0;4>m;++m)for(var E=0;32>E;E+=8)D[y++]=this.g[m]>>>E&255;return D};function s(D,m){var y=c;return Object.prototype.hasOwnProperty.call(y,D)?y[D]:y[D]=m(D)}function o(D,m){this.h=m;for(var y=[],E=!0,b=D.length-1;0<=b;b--){var T=D[b]|0;E&&T==m||(y[b]=T,E=!1)}this.g=y}var c={};function u(D){return-128<=D&&128>D?s(D,function(m){return new o([m|0],0>m?-1:0)}):new o([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return g;if(0>D)return x(l(-D));for(var m=[],y=1,E=0;D>=y;E++)m[E]=D/y|0,y*=4294967296;return new o(m,0)}function f(D,m){if(D.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(D.charAt(0)=="-")return x(f(D.substring(1),m));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=l(Math.pow(m,8)),E=g,b=0;b<D.length;b+=8){var T=Math.min(8,D.length-b),v=parseInt(D.substring(b,b+T),m);8>T?(T=l(Math.pow(m,T)),E=E.j(T).add(l(v))):(E=E.j(y),E=E.add(l(v)))}return E}var g=u(0),_=u(1),I=u(16777216);t=o.prototype,t.m=function(){if(N(this))return-x(this).m();for(var D=0,m=1,y=0;y<this.g.length;y++){var E=this.i(y);D+=(0<=E?E:4294967296+E)*m,m*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(N(this))return"-"+x(this).toString(D);for(var m=l(Math.pow(D,6)),y=this,E="";;){var b=ge(y,m).g;y=V(y,b.j(m));var T=((0<y.g.length?y.g[0]:y.h)>>>0).toString(D);if(y=b,A(y))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(var m=0;m<D.g.length;m++)if(D.g[m]!=0)return!1;return!0}function N(D){return D.h==-1}t.l=function(D){return D=V(this,D),N(D)?-1:A(D)?0:1};function x(D){for(var m=D.g.length,y=[],E=0;E<m;E++)y[E]=~D.g[E];return new o(y,~D.h).add(_)}t.abs=function(){return N(this)?x(this):this},t.add=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0,b=0;b<=m;b++){var T=E+(this.i(b)&65535)+(D.i(b)&65535),v=(T>>>16)+(this.i(b)>>>16)+(D.i(b)>>>16);E=v>>>16,T&=65535,v&=65535,y[b]=v<<16|T}return new o(y,y[y.length-1]&-2147483648?-1:0)};function V(D,m){return D.add(x(m))}t.j=function(D){if(A(this)||A(D))return g;if(N(this))return N(D)?x(this).j(x(D)):x(x(this).j(D));if(N(D))return x(this.j(x(D)));if(0>this.l(I)&&0>D.l(I))return l(this.m()*D.m());for(var m=this.g.length+D.g.length,y=[],E=0;E<2*m;E++)y[E]=0;for(E=0;E<this.g.length;E++)for(var b=0;b<D.g.length;b++){var T=this.i(E)>>>16,v=this.i(E)&65535,yn=D.i(b)>>>16,mo=D.i(b)&65535;y[2*E+2*b]+=v*mo,Q(y,2*E+2*b),y[2*E+2*b+1]+=T*mo,Q(y,2*E+2*b+1),y[2*E+2*b+1]+=v*yn,Q(y,2*E+2*b+1),y[2*E+2*b+2]+=T*yn,Q(y,2*E+2*b+2)}for(E=0;E<m;E++)y[E]=y[2*E+1]<<16|y[2*E];for(E=m;E<2*m;E++)y[E]=0;return new o(y,0)};function Q(D,m){for(;(D[m]&65535)!=D[m];)D[m+1]+=D[m]>>>16,D[m]&=65535,m++}function X(D,m){this.g=D,this.h=m}function ge(D,m){if(A(m))throw Error("division by zero");if(A(D))return new X(g,g);if(N(D))return m=ge(x(D),m),new X(x(m.g),x(m.h));if(N(m))return m=ge(D,x(m)),new X(x(m.g),m.h);if(30<D.g.length){if(N(D)||N(m))throw Error("slowDivide_ only works with positive integers.");for(var y=_,E=m;0>=E.l(D);)y=Ge(y),E=Ge(E);var b=fe(y,1),T=fe(E,1);for(E=fe(E,2),y=fe(y,2);!A(E);){var v=T.add(E);0>=v.l(D)&&(b=b.add(y),T=v),E=fe(E,1),y=fe(y,1)}return m=V(D,b.j(m)),new X(b,m)}for(b=g;0<=D.l(m);){for(y=Math.max(1,Math.floor(D.m()/m.m())),E=Math.ceil(Math.log(y)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(y),v=T.j(m);N(v)||0<v.l(D);)y-=E,T=l(y),v=T.j(m);A(T)&&(T=_),b=b.add(T),D=V(D,v)}return new X(b,D)}t.A=function(D){return ge(this,D).h},t.and=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)&D.i(E);return new o(y,this.h&D.h)},t.or=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)|D.i(E);return new o(y,this.h|D.h)},t.xor=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)^D.i(E);return new o(y,this.h^D.h)};function Ge(D){for(var m=D.g.length+1,y=[],E=0;E<m;E++)y[E]=D.i(E)<<1|D.i(E-1)>>>31;return new o(y,D.h)}function fe(D,m){var y=m>>5;m%=32;for(var E=D.g.length-y,b=[],T=0;T<E;T++)b[T]=0<m?D.i(T+y)>>>m|D.i(T+y+1)<<32-m:D.i(T+y);return new o(b,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,T0=C0.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=f,Qm=C0.Integer=o}).apply(typeof b0<"u"?b0:typeof self<"u"?self:typeof window<"u"?window:{});var dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$n={};var Ym,Zm,Qs,Jm,Ja,hd,Xm,ey,ty;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof dd=="object"&&dd];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var p=0;p<a.length-1;p++){var C=a[p];if(!(C in h))break e;h=h[C]}a=a[a.length-1],p=h[a],d=d(p),d!=p&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var h=0,p=!1,C={next:function(){if(!p&&h<a.length){var S=h++;return{value:d(S,a[S]),done:!1}}return p=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,h){return h})}});var o=o||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function g(a,d,h){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,p),a.apply(d,C)}}return function(){return a.apply(d,arguments)}}function _(a,d,h){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,_.apply(null,arguments)}function I(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function A(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(p,C,S){for(var P=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)P[_e-2]=arguments[_e];return d.prototype[C].apply(p,P)}}function N(a){let d=a.length;if(0<d){let h=Array(d);for(let p=0;p<d;p++)h[p]=a[p];return h}return[]}function x(a,d){for(let h=1;h<arguments.length;h++){let p=arguments[h];if(u(p)){let C=a.length||0,S=p.length||0;a.length=C+S;for(let P=0;P<S;P++)a[C+P]=p[P]}else a.push(p)}}class V{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Q(a){return/^[\s\xa0]*$/.test(a)}function X(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ge(a){return ge[" "](a),a}ge[" "]=function(){};var Ge=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function fe(a,d,h){for(let p in a)d.call(h,a[p],p,a)}function D(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function m(a){let d={};for(let h in a)d[h]=a[h];return d}let y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,d){let h,p;for(let C=1;C<arguments.length;C++){p=arguments[C];for(h in p)a[h]=p[h];for(let S=0;S<y.length;S++)h=y[S],Object.prototype.hasOwnProperty.call(p,h)&&(a[h]=p[h])}}function b(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function T(a){c.setTimeout(()=>{throw a},0)}function v(){var a=Qd;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class yn{constructor(){this.h=this.g=null}add(d,h){let p=mo.get();p.set(d,h),this.h?this.h.next=p:this.g=p,this.h=p}}var mo=new V(()=>new ZT,a=>a.reset());class ZT{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let yo,vo=!1,Qd=new yn,Ov=()=>{let a=c.Promise.resolve(void 0);yo=()=>{a.then(JT)}};var JT=()=>{for(var a;a=v();){try{a.h.call(a.g)}catch(h){T(h)}var d=mo;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}vo=!1};function Wn(){this.s=this.s,this.C=this.C}Wn.prototype.s=!1,Wn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Wn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ze(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Ze.prototype.h=function(){this.defaultPrevented=!0};var XT=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function _o(a,d){if(Ze.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Ge){e:{try{ge(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:eS[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&_o.aa.h.call(this)}}A(_o,Ze);var eS={2:"touch",3:"pen",4:"mouse"};_o.prototype.h=function(){_o.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Io="closure_listenable_"+(1e6*Math.random()|0),tS=0;function nS(a,d,h,p,C){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!p,this.ha=C,this.key=++tS,this.da=this.fa=!1}function hc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function fc(a){this.src=a,this.g={},this.h=0}fc.prototype.add=function(a,d,h,p,C){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var P=Zd(a,d,p,C);return-1<P?(d=a[P],h||(d.fa=!1)):(d=new nS(d,this.src,S,!!p,C),d.fa=h,a.push(d)),d};function Yd(a,d){var h=d.type;if(h in a.g){var p=a.g[h],C=Array.prototype.indexOf.call(p,d,void 0),S;(S=0<=C)&&Array.prototype.splice.call(p,C,1),S&&(hc(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Zd(a,d,h,p){for(var C=0;C<a.length;++C){var S=a[C];if(!S.da&&S.listener==d&&S.capture==!!h&&S.ha==p)return C}return-1}var Jd="closure_lm_"+(1e6*Math.random()|0),Xd={};function kv(a,d,h,p,C){if(p&&p.once)return Lv(a,d,h,p,C);if(Array.isArray(d)){for(var S=0;S<d.length;S++)kv(a,d[S],h,p,C);return null}return h=rh(h),a&&a[Io]?a.K(d,h,l(p)?!!p.capture:!!p,C):Fv(a,d,h,!1,p,C)}function Fv(a,d,h,p,C,S){if(!d)throw Error("Invalid event type");var P=l(C)?!!C.capture:!!C,_e=th(a);if(_e||(a[Jd]=_e=new fc(a)),h=_e.add(d,h,p,P,S),h.proxy)return h;if(p=rS(),h.proxy=p,p.src=a,p.listener=h,a.addEventListener)XT||(C=P),C===void 0&&(C=!1),a.addEventListener(d.toString(),p,C);else if(a.attachEvent)a.attachEvent(jv(d.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function rS(){function a(h){return d.call(a.src,a.listener,h)}let d=iS;return a}function Lv(a,d,h,p,C){if(Array.isArray(d)){for(var S=0;S<d.length;S++)Lv(a,d[S],h,p,C);return null}return h=rh(h),a&&a[Io]?a.L(d,h,l(p)?!!p.capture:!!p,C):Fv(a,d,h,!0,p,C)}function Vv(a,d,h,p,C){if(Array.isArray(d))for(var S=0;S<d.length;S++)Vv(a,d[S],h,p,C);else p=l(p)?!!p.capture:!!p,h=rh(h),a&&a[Io]?(a=a.i,d=String(d).toString(),d in a.g&&(S=a.g[d],h=Zd(S,h,p,C),-1<h&&(hc(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[d],a.h--)))):a&&(a=th(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Zd(d,h,p,C)),(h=-1<a?d[a]:null)&&eh(h))}function eh(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Io])Yd(d.i,a);else{var h=a.type,p=a.proxy;d.removeEventListener?d.removeEventListener(h,p,a.capture):d.detachEvent?d.detachEvent(jv(h),p):d.addListener&&d.removeListener&&d.removeListener(p),(h=th(d))?(Yd(h,a),h.h==0&&(h.src=null,d[Jd]=null)):hc(a)}}}function jv(a){return a in Xd?Xd[a]:Xd[a]="on"+a}function iS(a,d){if(a.da)a=!0;else{d=new _o(d,this);var h=a.listener,p=a.ha||a.src;a.fa&&eh(a),a=h.call(p,d)}return a}function th(a){return a=a[Jd],a instanceof fc?a:null}var nh="__closure_events_fn_"+(1e9*Math.random()>>>0);function rh(a){return typeof a=="function"?a:(a[nh]||(a[nh]=function(d){return a.handleEvent(d)}),a[nh])}function Je(){Wn.call(this),this.i=new fc(this),this.M=this,this.F=null}A(Je,Wn),Je.prototype[Io]=!0,Je.prototype.removeEventListener=function(a,d,h,p){Vv(this,a,d,h,p)};function ot(a,d){var h,p=a.F;if(p)for(h=[];p;p=p.F)h.push(p);if(a=a.M,p=d.type||d,typeof d=="string")d=new Ze(d,a);else if(d instanceof Ze)d.target=d.target||a;else{var C=d;d=new Ze(p,a),E(d,C)}if(C=!0,h)for(var S=h.length-1;0<=S;S--){var P=d.g=h[S];C=pc(P,p,!0,d)&&C}if(P=d.g=a,C=pc(P,p,!0,d)&&C,C=pc(P,p,!1,d)&&C,h)for(S=0;S<h.length;S++)P=d.g=h[S],C=pc(P,p,!1,d)&&C}Je.prototype.N=function(){if(Je.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],p=0;p<h.length;p++)hc(h[p]);delete a.g[d],a.h--}}this.F=null},Je.prototype.K=function(a,d,h,p){return this.i.add(String(a),d,!1,h,p)},Je.prototype.L=function(a,d,h,p){return this.i.add(String(a),d,!0,h,p)};function pc(a,d,h,p){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,S=0;S<d.length;++S){var P=d[S];if(P&&!P.da&&P.capture==h){var _e=P.listener,We=P.ha||P.src;P.fa&&Yd(a.i,P),C=_e.call(We,p)!==!1&&C}}return C&&!p.defaultPrevented}function Uv(a,d,h){if(typeof a=="function")h&&(a=_(a,h));else if(a&&typeof a.handleEvent=="function")a=_(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function Bv(a){a.g=Uv(()=>{a.g=null,a.i&&(a.i=!1,Bv(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class sS extends Wn{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Bv(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wo(a){Wn.call(this),this.h=a,this.g={}}A(wo,Wn);var $v=[];function Hv(a){fe(a.g,function(d,h){this.g.hasOwnProperty(h)&&eh(d)},a),a.g={}}wo.prototype.N=function(){wo.aa.N.call(this),Hv(this)},wo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ih=c.JSON.stringify,oS=c.JSON.parse,aS=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function sh(){}sh.prototype.h=null;function zv(a){return a.h||(a.h=a.i())}function qv(){}var Eo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oh(){Ze.call(this,"d")}A(oh,Ze);function ah(){Ze.call(this,"c")}A(ah,Ze);var kr={},Gv=null;function gc(){return Gv=Gv||new Je}kr.La="serverreachability";function Wv(a){Ze.call(this,kr.La,a)}A(Wv,Ze);function Do(a){let d=gc();ot(d,new Wv(d))}kr.STAT_EVENT="statevent";function Kv(a,d){Ze.call(this,kr.STAT_EVENT,a),this.stat=d}A(Kv,Ze);function at(a){let d=gc();ot(d,new Kv(d,a))}kr.Ma="timingevent";function Qv(a,d){Ze.call(this,kr.Ma,a),this.size=d}A(Qv,Ze);function bo(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function Co(){this.g=!0}Co.prototype.xa=function(){this.g=!1};function cS(a,d,h,p,C,S){a.info(function(){if(a.g)if(S)for(var P="",_e=S.split("&"),We=0;We<_e.length;We++){var pe=_e[We].split("=");if(1<pe.length){var Xe=pe[0];pe=pe[1];var et=Xe.split("_");P=2<=et.length&&et[1]=="type"?P+(Xe+"="+pe+"&"):P+(Xe+"=redacted&")}}else P=null;else P=S;return"XMLHTTP REQ ("+p+") [attempt "+C+"]: "+d+`
`+h+`
`+P})}function uS(a,d,h,p,C,S,P){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+C+"]: "+d+`
`+h+`
`+S+" "+P})}function ki(a,d,h,p){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+dS(a,h)+(p?" "+p:"")})}function lS(a,d){a.info(function(){return"TIMEOUT: "+d})}Co.prototype.info=function(){};function dS(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var p=h[a];if(!(2>p.length)){var C=p[1];if(Array.isArray(C)&&!(1>C.length)){var S=C[0];if(S!="noop"&&S!="stop"&&S!="close")for(var P=1;P<C.length;P++)C[P]=""}}}}return ih(h)}catch{return d}}var mc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Yv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ch;function yc(){}A(yc,sh),yc.prototype.g=function(){return new XMLHttpRequest},yc.prototype.i=function(){return{}},ch=new yc;function Kn(a,d,h,p){this.j=a,this.i=d,this.l=h,this.R=p||1,this.U=new wo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Zv}function Zv(){this.i=null,this.g="",this.h=!1}var Jv={},uh={};function lh(a,d,h){a.L=1,a.v=wc(vn(d)),a.m=h,a.P=!0,Xv(a,null)}function Xv(a,d){a.F=Date.now(),vc(a),a.A=vn(a.v);var h=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),f_(h.i,"t",p),a.C=0,h=a.j.J,a.h=new Zv,a.g=x_(a.j,h?d:null,!a.m),0<a.O&&(a.M=new sS(_(a.Y,a,a.g),a.O)),d=a.U,h=a.g,p=a.ca;var C="readystatechange";Array.isArray(C)||(C&&($v[0]=C.toString()),C=$v);for(var S=0;S<C.length;S++){var P=kv(h,C[S],p||d.handleEvent,!1,d.h||d);if(!P)break;d.g[P.key]=P}d=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Do(),cS(a.i,a.u,a.A,a.l,a.R,a.m)}Kn.prototype.ca=function(a){a=a.target;let d=this.M;d&&_n(a)==3?d.j():this.Y(a)},Kn.prototype.Y=function(a){try{if(a==this.g)e:{let et=_n(this.g);var d=this.g.Ba();let Vi=this.g.Z();if(!(3>et)&&(et!=3||this.g&&(this.h.h||this.g.oa()||I_(this.g)))){this.J||et!=4||d==7||(d==8||0>=Vi?Do(3):Do(2)),dh(this);var h=this.g.Z();this.X=h;t:if(e_(this)){var p=I_(this.g);a="";var C=p.length,S=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fr(this),To(this);var P="";break t}this.h.i=new c.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,a+=this.h.i.decode(p[d],{stream:!(S&&d==C-1)});p.length=0,this.h.g+=a,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=h==200,uS(this.i,this.u,this.A,this.l,this.R,et,h),this.o){if(this.T&&!this.K){t:{if(this.g){var _e,We=this.g;if((_e=We.g?We.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(_e)){var pe=_e;break t}}pe=null}if(h=pe)ki(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hh(this,h);else{this.o=!1,this.s=3,at(12),Fr(this),To(this);break e}}if(this.P){h=!0;let jt;for(;!this.J&&this.C<P.length;)if(jt=hS(this,P),jt==uh){et==4&&(this.s=4,at(14),h=!1),ki(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==Jv){this.s=4,at(15),ki(this.i,this.l,P,"[Invalid Chunk]"),h=!1;break}else ki(this.i,this.l,jt,null),hh(this,jt);if(e_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),et!=4||P.length!=0||this.h.h||(this.s=1,at(16),h=!1),this.o=this.o&&h,!h)ki(this.i,this.l,P,"[Invalid Chunked Response]"),Fr(this),To(this);else if(0<P.length&&!this.W){this.W=!0;var Xe=this.j;Xe.g==this&&Xe.ba&&!Xe.M&&(Xe.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),vh(Xe),Xe.M=!0,at(11))}}else ki(this.i,this.l,P,null),hh(this,P);et==4&&Fr(this),this.o&&!this.J&&(et==4?S_(this.j,this):(this.o=!1,vc(this)))}else MS(this.g),h==400&&0<P.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Fr(this),To(this)}}}catch{}finally{}};function e_(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function hS(a,d){var h=a.C,p=d.indexOf(`
`,h);return p==-1?uh:(h=Number(d.substring(h,p)),isNaN(h)?Jv:(p+=1,p+h>d.length?uh:(d=d.slice(p,p+h),a.C=p+h,d)))}Kn.prototype.cancel=function(){this.J=!0,Fr(this)};function vc(a){a.S=Date.now()+a.I,t_(a,a.I)}function t_(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=bo(_(a.ba,a),d)}function dh(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Kn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(lS(this.i,this.A),this.L!=2&&(Do(),at(17)),Fr(this),this.s=2,To(this)):t_(this,this.S-a)};function To(a){a.j.G==0||a.J||S_(a.j,a)}function Fr(a){dh(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Hv(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function hh(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||fh(h.h,a))){if(!a.K&&fh(h.h,a)&&h.G==3){try{var p=h.Da.g.parse(d)}catch{p=null}if(Array.isArray(p)&&p.length==3){var C=p;if(C[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Tc(h),bc(h);else break e;yh(h),at(18)}}else h.za=C[1],0<h.za-h.T&&37500>C[2]&&h.F&&h.v==0&&!h.C&&(h.C=bo(_(h.Za,h),6e3));if(1>=i_(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Vr(h,11)}else if((a.K||h.g==a)&&Tc(h),!Q(d))for(C=h.Da.g.parse(d),d=0;d<C.length;d++){let pe=C[d];if(h.T=pe[0],pe=pe[1],h.G==2)if(pe[0]=="c"){h.K=pe[1],h.ia=pe[2];let Xe=pe[3];Xe!=null&&(h.la=Xe,h.j.info("VER="+h.la));let et=pe[4];et!=null&&(h.Aa=et,h.j.info("SVER="+h.Aa));let Vi=pe[5];Vi!=null&&typeof Vi=="number"&&0<Vi&&(p=1.5*Vi,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;let jt=a.g;if(jt){let Ac=jt.g?jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ac){var S=p.h;S.g||Ac.indexOf("spdy")==-1&&Ac.indexOf("quic")==-1&&Ac.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(ph(S,S.h),S.h=null))}if(p.D){let _h=jt.g?jt.g.getResponseHeader("X-HTTP-Session-Id"):null;_h&&(p.ya=_h,De(p.I,p.D,_h))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var P=a;if(p.qa=R_(p,p.J?p.ia:null,p.W),P.K){s_(p.h,P);var _e=P,We=p.L;We&&(_e.I=We),_e.B&&(dh(_e),vc(_e)),p.g=P}else C_(p);0<h.i.length&&Cc(h)}else pe[0]!="stop"&&pe[0]!="close"||Vr(h,7);else h.G==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?Vr(h,7):mh(h):pe[0]!="noop"&&h.l&&h.l.ta(pe),h.v=0)}}Do(4)}catch{}}var fS=class{constructor(a,d){this.g=a,this.map=d}};function n_(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function r_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function i_(a){return a.h?1:a.g?a.g.size:0}function fh(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function ph(a,d){a.g?a.g.add(d):a.h=d}function s_(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}n_.prototype.cancel=function(){if(this.i=o_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function o_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return N(a.i)}function pS(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,p=0;p<h;p++)d.push(a[p]);return d}d=[],h=0;for(p in a)d[h++]=a[p];return d}function gS(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let p in a)d[h++]=p;return d}}}function a_(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=gS(a),p=pS(a),C=p.length,S=0;S<C;S++)d.call(void 0,p[S],h&&h[S],a)}var c_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mS(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var p=a[h].indexOf("="),C=null;if(0<=p){var S=a[h].substring(0,p);C=a[h].substring(p+1)}else S=a[h];d(S,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Lr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Lr){this.h=a.h,_c(this,a.j),this.o=a.o,this.g=a.g,Ic(this,a.s),this.l=a.l;var d=a.i,h=new Mo;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),u_(this,h),this.m=a.m}else a&&(d=String(a).match(c_))?(this.h=!1,_c(this,d[1]||"",!0),this.o=So(d[2]||""),this.g=So(d[3]||"",!0),Ic(this,d[4]),this.l=So(d[5]||"",!0),u_(this,d[6]||"",!0),this.m=So(d[7]||"")):(this.h=!1,this.i=new Mo(null,this.h))}Lr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Ao(d,l_,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Ao(d,l_,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Ao(h,h.charAt(0)=="/"?_S:vS,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Ao(h,wS)),a.join("")};function vn(a){return new Lr(a)}function _c(a,d,h){a.j=h?So(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Ic(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function u_(a,d,h){d instanceof Mo?(a.i=d,ES(a.i,a.h)):(h||(d=Ao(d,IS)),a.i=new Mo(d,a.h))}function De(a,d,h){a.i.set(d,h)}function wc(a){return De(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function So(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ao(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,yS),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function yS(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var l_=/[#\/\?@]/g,vS=/[#\?:]/g,_S=/[#\?]/g,IS=/[#\?@]/g,wS=/#/g;function Mo(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Qn(a){a.g||(a.g=new Map,a.h=0,a.i&&mS(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=Mo.prototype,t.add=function(a,d){Qn(this),this.i=null,a=Fi(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function d_(a,d){Qn(a),d=Fi(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function h_(a,d){return Qn(a),d=Fi(a,d),a.g.has(d)}t.forEach=function(a,d){Qn(this),this.g.forEach(function(h,p){h.forEach(function(C){a.call(d,C,p,this)},this)},this)},t.na=function(){Qn(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let p=0;p<d.length;p++){let C=a[p];for(let S=0;S<C.length;S++)h.push(d[p])}return h},t.V=function(a){Qn(this);let d=[];if(typeof a=="string")h_(this,a)&&(d=d.concat(this.g.get(Fi(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return Qn(this),this.i=null,a=Fi(this,a),h_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function f_(a,d,h){d_(a,d),0<h.length&&(a.i=null,a.g.set(Fi(a,d),N(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var p=d[h];let S=encodeURIComponent(String(p)),P=this.V(p);for(p=0;p<P.length;p++){var C=S;P[p]!==""&&(C+="="+encodeURIComponent(String(P[p]))),a.push(C)}}return this.i=a.join("&")};function Fi(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function ES(a,d){d&&!a.j&&(Qn(a),a.i=null,a.g.forEach(function(h,p){var C=p.toLowerCase();p!=C&&(d_(this,p),f_(this,C,h))},a)),a.j=d}function DS(a,d){let h=new Co;if(c.Image){let p=new Image;p.onload=I(Yn,h,"TestLoadImage: loaded",!0,d,p),p.onerror=I(Yn,h,"TestLoadImage: error",!1,d,p),p.onabort=I(Yn,h,"TestLoadImage: abort",!1,d,p),p.ontimeout=I(Yn,h,"TestLoadImage: timeout",!1,d,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else d(!1)}function bS(a,d){let h=new Co,p=new AbortController,C=setTimeout(()=>{p.abort(),Yn(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:p.signal}).then(S=>{clearTimeout(C),S.ok?Yn(h,"TestPingServer: ok",!0,d):Yn(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Yn(h,"TestPingServer: error",!1,d)})}function Yn(a,d,h,p,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),p(h)}catch{}}function CS(){this.g=new aS}function TS(a,d,h){let p=h||"";try{a_(a,function(C,S){let P=C;l(C)&&(P=ih(C)),d.push(p+S+"="+encodeURIComponent(P))})}catch(C){throw d.push(p+"type="+encodeURIComponent("_badmap")),C}}function Ro(a){this.l=a.Ub||null,this.j=a.eb||!1}A(Ro,sh),Ro.prototype.g=function(){return new Ec(this.l,this.j)},Ro.prototype.i=function(a){return function(){return a}}({});function Ec(a,d){Je.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Ec,Je),t=Ec.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,No(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xo(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,No(this)),this.g&&(this.readyState=3,No(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;p_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function p_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?xo(this):No(this),this.readyState==3&&p_(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,xo(this))},t.Qa=function(a){this.g&&(this.response=a,xo(this))},t.ga=function(){this.g&&xo(this)};function xo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,No(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function No(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ec.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function g_(a){let d="";return fe(a,function(h,p){d+=p,d+=":",d+=h,d+=`\r
`}),d}function gh(a,d,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=g_(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):De(a,d,h))}function be(a){Je.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(be,Je);var SS=/^https?$/i,AS=["POST","PUT"];t=be.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ch.g(),this.v=this.o?zv(this.o):zv(ch),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){m_(this,S);return}if(a=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var C in p)h.set(C,p[C]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let S of p.keys())h.set(S,p.get(S));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),C=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(AS,d,void 0))||p||C||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,P]of h)this.g.setRequestHeader(S,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{__(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){m_(this,S)}};function m_(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,y_(a),Dc(a)}function y_(a){a.A||(a.A=!0,ot(a,"complete"),ot(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ot(this,"complete"),ot(this,"abort"),Dc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dc(this,!0)),be.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?v_(this):this.bb())},t.bb=function(){v_(this)};function v_(a){if(a.h&&typeof o<"u"&&(!a.v[1]||_n(a)!=4||a.Z()!=2)){if(a.u&&_n(a)==4)Uv(a.Ea,0,a);else if(ot(a,"readystatechange"),_n(a)==4){a.h=!1;try{let P=a.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var p;if(p=P===0){var C=String(a.D).match(c_)[1]||null;!C&&c.self&&c.self.location&&(C=c.self.location.protocol.slice(0,-1)),p=!SS.test(C?C.toLowerCase():"")}h=p}if(h)ot(a,"complete"),ot(a,"success");else{a.m=6;try{var S=2<_n(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",y_(a)}}finally{Dc(a)}}}}function Dc(a,d){if(a.g){__(a);let h=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||ot(a,"ready");try{h.onreadystatechange=p}catch{}}}function __(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function _n(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),oS(d)}};function I_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function MS(a){let d={};a=(a.g&&2<=_n(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if(Q(a[p]))continue;var h=b(a[p]);let C=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=d[C]||[];d[C]=S,S.push(h)}D(d,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Po(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function w_(a){this.Aa=0,this.i=[],this.j=new Co,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Po("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Po("baseRetryDelayMs",5e3,a),this.cb=Po("retryDelaySeedMs",1e4,a),this.Wa=Po("forwardChannelMaxRetries",2,a),this.wa=Po("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new n_(a&&a.concurrentRequestLimit),this.Da=new CS,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=w_.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,p){at(0),this.W=a,this.H=d||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=R_(this,null,this.W),Cc(this)};function mh(a){if(E_(a),a.G==3){var d=a.U++,h=vn(a.I);if(De(h,"SID",a.K),De(h,"RID",d),De(h,"TYPE","terminate"),Oo(a,h),d=new Kn(a,a.j,d),d.L=2,d.v=wc(vn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=x_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),vc(d)}M_(a)}function bc(a){a.g&&(vh(a),a.g.cancel(),a.g=null)}function E_(a){bc(a),a.u&&(c.clearTimeout(a.u),a.u=null),Tc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Cc(a){if(!r_(a.h)&&!a.s){a.s=!0;var d=a.Ga;yo||Ov(),vo||(yo(),vo=!0),Qd.add(d,a),a.B=0}}function RS(a,d){return i_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=bo(_(a.Ga,a,d),A_(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let C=new Kn(this,this.j,a),S=this.o;if(this.S&&(S?(S=m(S),E(S,this.S)):S=this.S),this.m!==null||this.O||(C.H=S,S=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(d+=p,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=b_(this,C,d),h=vn(this.I),De(h,"RID",a),De(h,"CVER",22),this.D&&De(h,"X-HTTP-Session-Id",this.D),Oo(this,h),S&&(this.O?d="headers="+encodeURIComponent(String(g_(S)))+"&"+d:this.m&&gh(h,this.m,S)),ph(this.h,C),this.Ua&&De(h,"TYPE","init"),this.P?(De(h,"$req",d),De(h,"SID","null"),C.T=!0,lh(C,h,null)):lh(C,h,d),this.G=2}}else this.G==3&&(a?D_(this,a):this.i.length==0||r_(this.h)||D_(this))};function D_(a,d){var h;d?h=d.l:h=a.U++;let p=vn(a.I);De(p,"SID",a.K),De(p,"RID",h),De(p,"AID",a.T),Oo(a,p),a.m&&a.o&&gh(p,a.m,a.o),h=new Kn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=b_(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),ph(a.h,h),lh(h,p,d)}function Oo(a,d){a.H&&fe(a.H,function(h,p){De(d,p,h)}),a.l&&a_({},function(h,p){De(d,p,h)})}function b_(a,d,h){h=Math.min(a.i.length,h);var p=a.l?_(a.l.Na,a.l,a):null;e:{var C=a.i;let S=-1;for(;;){let P=["count="+h];S==-1?0<h?(S=C[0].g,P.push("ofs="+S)):S=0:P.push("ofs="+S);let _e=!0;for(let We=0;We<h;We++){let pe=C[We].g,Xe=C[We].map;if(pe-=S,0>pe)S=Math.max(0,C[We].g-100),_e=!1;else try{TS(Xe,P,"req"+pe+"_")}catch{p&&p(Xe)}}if(_e){p=P.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,p}function C_(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;yo||Ov(),vo||(yo(),vo=!0),Qd.add(d,a),a.v=0}}function yh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=bo(_(a.Fa,a),A_(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,T_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=bo(_(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),bc(this),T_(this))};function vh(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function T_(a){a.g=new Kn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=vn(a.qa);De(d,"RID","rpc"),De(d,"SID",a.K),De(d,"AID",a.T),De(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&De(d,"TO",a.ja),De(d,"TYPE","xmlhttp"),Oo(a,d),a.m&&a.o&&gh(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=wc(vn(d)),h.m=null,h.P=!0,Xv(h,a)}t.Za=function(){this.C!=null&&(this.C=null,bc(this),yh(this),at(19))};function Tc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function S_(a,d){var h=null;if(a.g==d){Tc(a),vh(a),a.g=null;var p=2}else if(fh(a.h,d))h=d.D,s_(a.h,d),p=1;else return;if(a.G!=0){if(d.o)if(p==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var C=a.B;p=gc(),ot(p,new Qv(p,h)),Cc(a)}else C_(a);else if(C=d.s,C==3||C==0&&0<d.X||!(p==1&&RS(a,d)||p==2&&yh(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),C){case 1:Vr(a,5);break;case 4:Vr(a,10);break;case 3:Vr(a,6);break;default:Vr(a,2)}}}function A_(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function Vr(a,d){if(a.j.info("Error code "+d),d==2){var h=_(a.fb,a),p=a.Xa;let C=!p;p=new Lr(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||_c(p,"https"),wc(p),C?DS(p.toString(),h):bS(p.toString(),h)}else at(2);a.G=0,a.l&&a.l.sa(d),M_(a),E_(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function M_(a){if(a.G=0,a.ka=[],a.l){let d=o_(a.h);(d.length!=0||a.i.length!=0)&&(x(a.ka,d),x(a.ka,a.i),a.h.i.length=0,N(a.i),a.i.length=0),a.l.ra()}}function R_(a,d,h){var p=h instanceof Lr?vn(h):new Lr(h);if(p.g!="")d&&(p.g=d+"."+p.g),Ic(p,p.s);else{var C=c.location;p=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var S=new Lr(null);p&&_c(S,p),d&&(S.g=d),C&&Ic(S,C),h&&(S.l=h),p=S}return h=a.D,d=a.ya,h&&d&&De(p,h,d),De(p,"VER",a.la),Oo(a,p),p}function x_(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new be(new Ro({eb:h})):new be(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function N_(){}t=N_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Sc(){}Sc.prototype.g=function(a,d){return new _t(a,d)};function _t(a,d){Je.call(this),this.g=new w_(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!Q(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Q(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Li(this)}A(_t,Je),_t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_t.prototype.close=function(){mh(this.g)},_t.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=ih(a),a=h);d.i.push(new fS(d.Ya++,a)),d.G==3&&Cc(d)},_t.prototype.N=function(){this.g.l=null,delete this.j,mh(this.g),delete this.g,_t.aa.N.call(this)};function P_(a){oh.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}A(P_,oh);function O_(){ah.call(this),this.status=1}A(O_,ah);function Li(a){this.g=a}A(Li,N_),Li.prototype.ua=function(){ot(this.g,"a")},Li.prototype.ta=function(a){ot(this.g,new P_(a))},Li.prototype.sa=function(a){ot(this.g,new O_)},Li.prototype.ra=function(){ot(this.g,"b")},Sc.prototype.createWebChannel=Sc.prototype.g,_t.prototype.send=_t.prototype.o,_t.prototype.open=_t.prototype.m,_t.prototype.close=_t.prototype.close,ty=$n.createWebChannelTransport=function(){return new Sc},ey=$n.getStatEventTarget=function(){return gc()},Xm=$n.Event=kr,hd=$n.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mc.NO_ERROR=0,mc.TIMEOUT=8,mc.HTTP_ERROR=6,Ja=$n.ErrorCode=mc,Yv.COMPLETE="complete",Jm=$n.EventType=Yv,qv.EventType=Eo,Eo.OPEN="a",Eo.CLOSE="b",Eo.ERROR="c",Eo.MESSAGE="d",Je.prototype.listen=Je.prototype.K,Qs=$n.WebChannel=qv,Zm=$n.FetchXmlHttpFactory=Ro,be.prototype.listenOnce=be.prototype.L,be.prototype.getLastError=be.prototype.Ka,be.prototype.getLastErrorCode=be.prototype.Ba,be.prototype.getStatus=be.prototype.Z,be.prototype.getResponseJson=be.prototype.Oa,be.prototype.getResponseText=be.prototype.oa,be.prototype.send=be.prototype.ea,be.prototype.setWithCredentials=be.prototype.Ha,Ym=$n.XhrIo=be}).apply(typeof dd<"u"?dd:typeof self<"u"?self:typeof window<"u"?window:{});var S0="@firebase/firestore";var ze=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ze.UNAUTHENTICATED=new ze(null),ze.GOOGLE_CREDENTIALS=new ze("google-credentials-uid"),ze.FIRST_PARTY=new ze("first-party-uid"),ze.MOCK_USER=new ze("mock-user");var po="10.13.1";var Ai=new Er("@firebase/firestore");function Xa(){return Ai.logLevel}function j(t,...e){if(Ai.logLevel<=ae.DEBUG){let n=e.map(Dv);Ai.debug(`Firestore (${po}): ${t}`,...n)}}function Mi(t,...e){if(Ai.logLevel<=ae.ERROR){let n=e.map(Dv);Ai.error(`Firestore (${po}): ${t}`,...n)}}function vd(t,...e){if(Ai.logLevel<=ae.WARN){let n=e.map(Dv);Ai.warn(`Firestore (${po}): ${t}`,...n)}}function Dv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ce(t="Unexpected state"){let e=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: `+t;throw Mi(e),new Error(e)}function Ue(t,e){t||ce()}function Ee(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends Tt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Hn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var _d=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},sy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ze.UNAUTHENTICATED))}shutdown(){}},oy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},ay=class{constructor(e){this.t=e,this.currentUser=ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new Hn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Hn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Hn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string"),new _d(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new ze(e)}},cy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ze.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},uy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new cy(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}},ly=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},dy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,j("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.R=n.token,new ly(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function pj(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Id=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=pj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function we(t,e){return t<e?-1:t>e?1:0}function Xs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var st=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Ae=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new st(0,0))}static max(){return new t(new st(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var wd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(),r===void 0?r=e.length-n:r>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Pe=class t extends wd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},gj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,At=class t extends wd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return gj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new H(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new H(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new H(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ne=class t{constructor(e){this.path=e}static fromPath(e){return new t(Pe.fromString(e))}static fromName(e){return new t(Pe.fromString(e).popFirst(5))}static empty(){return new t(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Pe(e.slice()))}};var hy=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};hy.UNKNOWN_ID=-1;function mj(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ae.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new Ri(i,ne.empty(),e)}function yj(t){return new Ri(t.readTime,t.key,-1)}var Ri=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Ae.min(),ne.empty(),-1)}static max(){return new t(Ae.max(),ne.empty(),-1)}};function vj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}var _j="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",fy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Q0(t){return w(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==_j)throw t;j("LocalStore","Unexpectedly lost primary lease")})}var R=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(f=>{o[l]=f,++c,c===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function Ij(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ud(t){return t.name==="IndexedDbTransactionError"}var wj=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function bv(t){return t==null}function sc(t){return t===0&&1/t==-1/0}function Ej(t){return typeof t=="number"&&Number.isInteger(t)&&!sc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Dj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Y9=[...Dj,"documentOverlays"],bj=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Cj=bj,Tj=[...Cj,"indexConfiguration","indexState","indexEntries"];var Z9=[...Tj,"globals"];function A0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function uc(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Y0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Mt=class t{constructor(e,n){this.comparator=e,this.root=n||gn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zs(this.root,e,this.comparator,!0)}},Zs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},gn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();let e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}};gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,n,r,i,s){return this}insert(e,n,r){return new gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ft=class t{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ed(this.data.getIterator())}getIteratorFrom(e){return new Ed(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Ed=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var pn=class t{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new t([])}unionWith(e){let n=new ft(At.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var py=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var qn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new py("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};qn.EMPTY_BYTE_STRING=new qn("");var Sj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xr(t){if(Ue(!!t),typeof t=="string"){let e=0,n=Sj.exec(t);if(Ue(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ne(t.seconds),nanos:Ne(t.nanos)}}function Ne(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function eo(t){return typeof t=="string"?qn.fromBase64String(t):qn.fromUint8Array(t)}function Cv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Z0(t){let e=t.mapValue.fields.__previous_value__;return Cv(e)?Z0(e):e}function Dd(t){let e=xr(t.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}var gy=class{constructor(e,n,r,i,s,o,c,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},my=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var fd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function to(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cv(t)?4:X0(t)?9007199254740991:J0(t)?10:11:ce()}function mn(t,e){if(t===e)return!0;let n=to(t);if(n!==to(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dd(t).isEqual(Dd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=xr(i.timestampValue),c=xr(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return eo(i.bytesValue).isEqual(eo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ne(i.geoPointValue.latitude)===Ne(s.geoPointValue.latitude)&&Ne(i.geoPointValue.longitude)===Ne(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ne(i.integerValue)===Ne(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Ne(i.doubleValue),c=Ne(s.doubleValue);return o===c?sc(o)===sc(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return Xs(t.arrayValue.values||[],e.arrayValue.values||[],mn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(A0(o)!==A0(c))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!mn(o[u],c[u])))return!1;return!0}(t,e);default:return ce()}}function oc(t,e){return(t.values||[]).find(n=>mn(n,e))!==void 0}function no(t,e){if(t===e)return 0;let n=to(t),r=to(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(s,o){let c=Ne(s.integerValue||s.doubleValue),u=Ne(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return M0(t.timestampValue,e.timestampValue);case 4:return M0(Dd(t),Dd(e));case 5:return we(t.stringValue,e.stringValue);case 6:return function(s,o){let c=eo(s),u=eo(o);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),u=o.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=we(c[l],u[l]);if(f!==0)return f}return we(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let c=we(Ne(s.latitude),Ne(o.latitude));return c!==0?c:we(Ne(s.longitude),Ne(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return R0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,u,l,f;let g=s.fields||{},_=o.fields||{},I=(c=g.value)===null||c===void 0?void 0:c.arrayValue,A=(u=_.value)===null||u===void 0?void 0:u.arrayValue,N=we(((l=I?.values)===null||l===void 0?void 0:l.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return N!==0?N:R0(I,A)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===fd.mapValue&&o===fd.mapValue)return 0;if(s===fd.mapValue)return 1;if(o===fd.mapValue)return-1;let c=s.fields||{},u=Object.keys(c),l=o.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){let _=we(u[g],f[g]);if(_!==0)return _;let I=no(c[u[g]],l[f[g]]);if(I!==0)return I}return we(u.length,f.length)}(t.mapValue,e.mapValue);default:throw ce()}}function M0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);let n=xr(t),r=xr(e),i=we(n.seconds,r.seconds);return i!==0?i:we(n.nanos,r.nanos)}function R0(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=no(n[i],r[i]);if(s)return s}return we(n.length,r.length)}function ro(t){return yy(t)}function yy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=xr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return eo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=yy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${yy(n.fields[o])}`;return i+"}"}(t.mapValue):ce()}function vy(t){return!!t&&"integerValue"in t}function Tv(t){return!!t&&"arrayValue"in t}function md(t){return!!t&&"mapValue"in t}function J0(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function tc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return uc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=tc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function X0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var fn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!md(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tc(n)}setAll(e){let n=At.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=tc(o):i.push(c.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());md(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];md(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){uc(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(tc(this.value))}};function eT(t){let e=[];return uc(t.fields,(n,r)=>{let i=new At([n]);if(md(r)){let s=eT(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new pn(e)}var io=class t{constructor(e,n,r,i,s,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new t(e,0,Ae.min(),Ae.min(),Ae.min(),fn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Ae.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Ae.min(),Ae.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Ae.min(),Ae.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var so=class{constructor(e,n){this.position=e,this.inclusive=n}};function x0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=no(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function N0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mn(t.position[n],e.position[n]))return!1;return!0}var oo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Aj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var bd=class{},qe=class t extends bd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Iy(e,n,r):n==="array-contains"?new Dy(e,r):n==="in"?new by(e,r):n==="not-in"?new Cy(e,r):n==="array-contains-any"?new Ty(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new wy(e,r):new Ey(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(no(n,this.value)):n!==null&&to(this.value)===to(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Nr=class t extends bd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return tT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function tT(t){return t.op==="and"}function nT(t){return Mj(t)&&tT(t)}function Mj(t){for(let e of t.filters)if(e instanceof Nr)return!1;return!0}function _y(t){if(t instanceof qe)return t.field.canonicalString()+t.op.toString()+ro(t.value);if(nT(t))return t.filters.map(e=>_y(e)).join(",");{let e=t.filters.map(n=>_y(n)).join(",");return`${t.op}(${e})`}}function rT(t,e){return t instanceof qe?function(r,i){return i instanceof qe&&r.op===i.op&&r.field.isEqual(i.field)&&mn(r.value,i.value)}(t,e):t instanceof Nr?function(r,i){return i instanceof Nr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&rT(o,i.filters[c]),!0):!1}(t,e):void ce()}function iT(t){return t instanceof qe?function(n){return`${n.field.canonicalString()} ${n.op} ${ro(n.value)}`}(t):t instanceof Nr?function(n){return n.op.toString()+" {"+n.getFilters().map(iT).join(" ,")+"}"}(t):"Filter"}var Iy=class extends qe{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){let n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}},wy=class extends qe{constructor(e,n){super(e,"in",n),this.keys=sT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Ey=class extends qe{constructor(e,n){super(e,"not-in",n),this.keys=sT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function sT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}var Dy=class extends qe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Tv(n)&&oc(n.arrayValue,this.value)}},by=class extends qe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&oc(this.value.arrayValue,n)}},Cy=class extends qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!oc(this.value.arrayValue,n)}},Ty=class extends qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Tv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>oc(this.value.arrayValue,r))}};var Sy=class{constructor(e,n=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function P0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Sy(t,e,n,r,i,s,o)}function Sv(t){let e=Ee(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>_y(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),bv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ro(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ro(r)).join(",")),e.ue=n}return e.ue}function Av(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Aj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!rT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!N0(t.startAt,e.startAt)&&N0(t.endAt,e.endAt)}var ao=class{constructor(e,n=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function Rj(t,e,n,r,i,s,o,c){return new ao(t,e,n,r,i,s,o,c)}function xj(t){return new ao(t)}function O0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Nj(t){return t.collectionGroup!==null}function nc(t){let e=Ee(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new ft(At.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new oo(s,r))}),n.has(At.keyField().canonicalString())||e.ce.push(new oo(At.keyField(),r))}return e.ce}function Ti(t){let e=Ee(t);return e.le||(e.le=Pj(e,nc(t))),e.le}function Pj(t,e){if(t.limitType==="F")return P0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new oo(i.field,s)});let n=t.endAt?new so(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new so(t.startAt.position,t.startAt.inclusive):null;return P0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ay(t,e,n){return new ao(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function oT(t,e){return Av(Ti(t),Ti(e))&&t.limitType===e.limitType}function aT(t){return`${Sv(Ti(t))}|lt:${t.limitType}`}function ec(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>iT(i)).join(", ")}]`),bv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ro(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ro(i)).join(",")),`Target(${r})`}(Ti(t))}; limitType=${t.limitType})`}function Mv(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ne.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of nc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,c,u){let l=x0(o,c,u);return o.inclusive?l<=0:l<0}(r.startAt,nc(r),i)||r.endAt&&!function(o,c,u){let l=x0(o,c,u);return o.inclusive?l>=0:l>0}(r.endAt,nc(r),i))}(t,e)}function Oj(t){return(e,n)=>{let r=!1;for(let i of nc(t)){let s=kj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function kj(t,e,n){let r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(s,o,c){let u=o.data.field(s),l=c.data.field(s);return u!==null&&l!==null?no(u,l):ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}var Pr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){uc(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return Y0(this.inner)}size(){return this.innerSize}};var Fj=new Mt(ne.comparator);function Cd(){return Fj}var cT=new Mt(ne.comparator);function pd(...t){let e=cT;for(let n of t)e=e.insert(n.key,n);return e}function uT(t){let e=cT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ci(){return rc()}function lT(){return rc()}function rc(){return new Pr(t=>t.toString(),(t,e)=>t.isEqual(e))}var Lj=new Mt(ne.comparator),Vj=new ft(ne.comparator);function it(...t){let e=Vj;for(let n of t)e=e.add(n);return e}var jj=new ft(we);function Uj(){return jj}function Rv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sc(e)?"-0":e}}function dT(t){return{integerValue:""+t}}function Bj(t,e){return Ej(e)?dT(e):Rv(t,e)}var co=class{constructor(){this._=void 0}};function $j(t,e,n){return t instanceof uo?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Cv(s)&&(s=Z0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof xi?fT(t,e):t instanceof Ni?pT(t,e):function(i,s){let o=hT(i,s),c=k0(o)+k0(i.Pe);return vy(o)&&vy(i.Pe)?dT(c):Rv(i.serializer,c)}(t,e)}function Hj(t,e,n){return t instanceof xi?fT(t,e):t instanceof Ni?pT(t,e):n}function hT(t,e){return t instanceof lo?function(r){return vy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var uo=class extends co{},xi=class extends co{constructor(e){super(),this.elements=e}};function fT(t,e){let n=gT(e);for(let r of t.elements)n.some(i=>mn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ni=class extends co{constructor(e){super(),this.elements=e}};function pT(t,e){let n=gT(e);for(let r of t.elements)n=n.filter(i=>!mn(i,r));return{arrayValue:{values:n}}}var lo=class extends co{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function k0(t){return Ne(t.integerValue||t.doubleValue)}function gT(t){return Tv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function zj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof xi&&i instanceof xi||r instanceof Ni&&i instanceof Ni?Xs(r.elements,i.elements,mn):r instanceof lo&&i instanceof lo?mn(r.Pe,i.Pe):r instanceof uo&&i instanceof uo}(t.transform,e.transform)}var My=class{constructor(e,n){this.version=e,this.transformResults=n}},Si=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function yd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ho=class{};function mT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Td(t.key,Si.none()):new Pi(t.key,t.data,Si.none());{let n=t.data,r=fn.empty(),i=new ft(At.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Gn(t.key,r,new pn(i.toArray()),Si.none())}}function qj(t,e,n){t instanceof Pi?function(i,s,o){let c=i.value.clone(),u=L0(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Gn?function(i,s,o){if(!yd(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=L0(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(yT(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ic(t,e,n,r){return t instanceof Pi?function(s,o,c,u){if(!yd(s.precondition,o))return c;let l=s.value.clone(),f=V0(s.fieldTransforms,u,o);return l.setAll(f),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Gn?function(s,o,c,u){if(!yd(s.precondition,o))return c;let l=V0(s.fieldTransforms,u,o),f=o.data;return f.setAll(yT(s)),f.setAll(l),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,c){return yd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function Gj(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=hT(r.transform,i||null);s!=null&&(n===null&&(n=fn.empty()),n.set(r.field,s))}return n||null}function F0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Xs(r,i,(s,o)=>zj(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Pi=class extends ho{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Gn=class extends ho{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function yT(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function L0(t,e,n){let r=new Map;Ue(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,Hj(o,c,n[i]))}return r}function V0(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,$j(s,o,e))}return r}var Td=class extends ho{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Ry=class extends ho{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var xy=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&qj(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ic(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ic(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=lT();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=n.has(i.key)?null:c;let u=mT(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),it())}isEqual(e){return this.batchId===e.batchId&&Xs(this.mutations,e.mutations,(n,r)=>F0(n,r))&&Xs(this.baseMutations,e.baseMutations,(n,r)=>F0(n,r))}},Ny=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ue(e.mutations.length===r.length);let i=function(){return Lj}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Py=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Re,de;function Wj(t){switch(t){default:return ce();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function Kj(t){if(t===void 0)return Mi("GRPC error has no .code"),M.UNKNOWN;switch(t){case Re.OK:return M.OK;case Re.CANCELLED:return M.CANCELLED;case Re.UNKNOWN:return M.UNKNOWN;case Re.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Re.INTERNAL:return M.INTERNAL;case Re.UNAVAILABLE:return M.UNAVAILABLE;case Re.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Re.NOT_FOUND:return M.NOT_FOUND;case Re.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Re.ABORTED:return M.ABORTED;case Re.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Re.DATA_LOSS:return M.DATA_LOSS;default:return ce()}}(de=Re||(Re={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";var X9=new Qm([4294967295,4294967295],0);var Oy=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function ky(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Yj(t,e){return ky(t,e.toTimestamp())}function Js(t){return Ue(!!t),Ae.fromTimestamp(function(n){let r=xr(n);return new st(r.seconds,r.nanos)}(t))}function vT(t,e){return Fy(t,e).canonicalString()}function Fy(t,e){let n=function(i){return new Pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Zj(t){let e=Pe.fromString(t);return Ue(sU(e)),e}function Ly(t,e){return vT(t.databaseId,e.path)}function Jj(t){let e=Zj(t);return e.length===4?Pe.emptyPath():eU(e)}function Xj(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eU(t){return Ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function j0(t,e,n){return{name:Ly(t,e),fields:n.value.mapValue.fields}}function tU(t,e){let n;if(e instanceof Pi)n={update:j0(t,e.key,e.value)};else if(e instanceof Td)n={delete:Ly(t,e.key)};else if(e instanceof Gn)n={update:j0(t,e.key,e.data),updateMask:iU(e.fieldMask)};else{if(!(e instanceof Ry))return ce();n={verify:Ly(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let c=o.transform;if(c instanceof uo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof xi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ni)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof lo)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Yj(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ce()}(t,e.precondition)),n}function nU(t,e){return t&&t.length>0?(Ue(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Js(i.updateTime):Js(s);return o.isEqual(Ae.min())&&(o=Js(s)),new My(o,i.transformResults||[])}(n,e))):[]}function rU(t){let e=Jj(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ue(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(g){let _=_T(g);return _ instanceof Nr&&nT(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(_=>function(A){return new oo(Ys(A.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(g){let _;return _=typeof g=="object"?g.value:g,bv(_)?null:_}(n.limit));let u=null;n.startAt&&(u=function(g){let _=!!g.before,I=g.values||[];return new so(I,_)}(n.startAt));let l=null;return n.endAt&&(l=function(g){let _=!g.before,I=g.values||[];return new so(I,_)}(n.endAt)),Rj(e,i,o,s,c,"F",u,l)}function _T(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ys(n.unaryFilter.field);return qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ys(n.unaryFilter.field);return qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Ys(n.unaryFilter.field);return qe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Ys(n.unaryFilter.field);return qe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(t):t.fieldFilter!==void 0?function(n){return qe.create(Ys(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Nr.create(n.compositeFilter.filters.map(r=>_T(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ce()}}(n.compositeFilter.op))}(t):ce()}function Ys(t){return At.fromServerFormat(t.fieldPath)}function iU(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sU(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Vy=class{constructor(e){this.ct=e}};function oU(t){let e=rU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ay(e,e.limit,"L"):e}var Sd=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ne(e.integerValue));else if("doubleValue"in e){let r=Ne(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),sc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=xr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(eo(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?X0(e)?this.dt(n,Number.MAX_SAFE_INTEGER):J0(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ce()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ne(c)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ne.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Sd.vt=new Sd;var jy=class{constructor(){this.un=new Uy}addToCollectionParentIndex(e,n){return this.un.add(n),R.resolve()}getCollectionParents(e,n){return R.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return R.resolve()}deleteFieldIndex(e,n){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,n){return R.resolve()}getDocumentsMatchingTarget(e,n){return R.resolve(null)}getIndexType(e,n){return R.resolve(0)}getFieldIndexes(e,n){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,n){return R.resolve(Ri.min())}getMinOffsetFromCollectionGroup(e,n){return R.resolve(Ri.min())}updateCollectionGroup(e,n,r){return R.resolve()}updateIndexEntries(e,n){return R.resolve()}},Uy=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ft(Pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ft(Pe.comparator)).toArray()}};var e5=new Uint8Array(0);var hn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(41943040,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);var ac=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var By=class{constructor(){this.changes=new Pr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,io.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?R.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var $y=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Hy=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ic(r.mutation,i,pn.empty(),st.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,it()).next(()=>r))}getLocalViewOfDocuments(e,n,r=it()){let i=Ci();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=pd();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Ci();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,it()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,i){let s=Cd(),o=rc(),c=function(){return rc()}();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Gn)?s=s.insert(l.key,l):f!==void 0?(o.set(l.key,f.mutation.getFieldMask()),ic(f.mutation,l,f.mutation.getFieldMask(),st.now())):o.set(l.key,pn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,f)=>o.set(l,f)),n.forEach((l,f)=>{var g;return c.set(l,new $y(f,(g=o.get(l))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,n){let r=rc(),i=new Mt((o,c)=>o-c),s=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let c of o)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||pn.empty();f=c.applyToLocalView(l,f),r.set(u,f);let g=(i.get(c.batchId)||it()).add(u);i=i.insert(c.batchId,g)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,g=lT();f.forEach(_=>{if(!s.has(_)){let I=mT(n.get(_),r.get(_));I!==null&&g.set(_,I),s=s.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,g))}return R.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Nj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):R.resolve(Ci()),c=-1,u=s;return o.next(l=>R.forEach(l,(f,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),s.get(f)?R.resolve():this.remoteDocumentCache.getEntry(e,f).next(_=>{u=u.insert(f,_)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,it())).next(f=>({batchId:c,changes:uT(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=pd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=pd();return this.indexManager.getCollectionParents(e,s).next(c=>R.forEach(c,u=>{let l=function(g,_){return new ao(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((g,_)=>{o=o.insert(g,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let f=l.getKey();o.get(f)===null&&(o=o.insert(f,io.newInvalidDocument(f)))});let c=pd();return o.forEach((u,l)=>{let f=s.get(u);f!==void 0&&ic(f.mutation,l,pn.empty(),st.now()),Mv(n,l)&&(c=c.insert(u,l))}),c})}};var zy=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return R.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Js(i.createTime)}}(n)),R.resolve()}getNamedQuery(e,n){return R.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:oU(i.bundledQuery),readTime:Js(i.readTime)}}(n)),R.resolve()}};var qy=class{constructor(){this.overlays=new Mt(ne.comparator),this.Ir=new Map}getOverlay(e,n){return R.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ci();return R.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),R.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),R.resolve()}getOverlaysForCollection(e,n,r){let i=Ci(),s=n.length+1,o=new ne(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return R.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Mt((l,f)=>l-f),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=s.get(l.largestBatchId);f===null&&(f=Ci(),s=s.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=Ci(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return R.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Py(n,r));let s=this.Ir.get(n);s===void 0&&(s=it(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var Gy=class{constructor(){this.sessionToken=qn.EMPTY_BYTE_STRING}getSessionToken(e){return R.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,R.resolve()}};var cc=class{constructor(){this.Tr=new ft(xe.Er),this.dr=new ft(xe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new xe(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new xe(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new ne(new Pe([])),r=new xe(n,e),i=new xe(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new ne(new Pe([])),r=new xe(n,e),i=new xe(n,e+1),s=it();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new xe(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},xe=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ne.comparator(e.key,n.key)||we(e.wr,n.wr)}static Ar(e,n){return we(e.wr,n.wr)||ne.comparator(e.key,n.key)}};var Wy=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ft(xe.Er)}checkEmpty(e){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new xy(s,n,r,i);this.mutationQueue.push(o);for(let c of i)this.br=this.br.add(new xe(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return R.resolve(o)}lookupMutationBatch(e,n){return R.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return R.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new xe(n,0),i=new xe(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let c=this.Dr(o.wr);s.push(c)}),R.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ft(we);return n.forEach(i=>{let s=new xe(i,0),o=new xe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{r=r.add(c.wr)})}),R.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;ne.isDocumentKey(s)||(s=s.child(""));let o=new xe(new ne(s),0),c=new ft(we);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.wr)),!0)},o),R.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ue(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return R.forEach(n.mutations,i=>{let s=new xe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new xe(n,0),i=this.br.firstAfterOrEqual(r);return R.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,R.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Ky=class{constructor(e){this.Mr=e,this.docs=function(){return new Mt(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return R.resolve(r?r.document.mutableCopy():io.newInvalidDocument(n))}getEntries(e,n){let r=Cd();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():io.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Cd(),o=n.path,c=new ne(o.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||vj(yj(f),r)<=0||(i.has(f.key)||Mv(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return R.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ce()}Or(e,n){return R.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Qy(this)}getSize(e){return R.resolve(this.size)}},Qy=class extends By{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),R.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Yy=class{constructor(e){this.persistence=e,this.Nr=new Pr(n=>Sv(n),Av),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new cc,this.targetCount=0,this.kr=ac.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),R.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new ac(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,R.resolve()}updateTargetData(e,n){return this.Kn(n),R.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),R.waitFor(s).next(()=>i)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return R.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),R.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),R.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),R.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return R.resolve(r)}containsKey(e,n){return R.resolve(this.Br.containsKey(n))}};var Zy=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new wj(0),this.Kr=!1,this.Kr=!0,this.$r=new Gy,this.referenceDelegate=e(this),this.Ur=new Yy(this),this.indexManager=new jy,this.remoteDocumentCache=function(i){return new Ky(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Vy(n),this.Gr=new zy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qy,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Wy(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);let i=new Jy(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return R.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Jy=class extends fy{constructor(e){super(),this.currentSequenceNumber=e}},Xy=class t{constructor(e){this.persistence=e,this.Jr=new cc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ce()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),R.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),R.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Xr,r=>{let i=ne.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Ae.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return R.or([()=>R.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var ev=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=it(),i=it();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var tv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var nv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return iC()?8:Ij(He())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new tv;return this.Xi(e,n,o).next(c=>{if(s.result=c,this.zi)return this.es(e,n,o,c.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Xa()<=ae.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",ec(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),R.resolve()):(Xa()<=ae.DEBUG&&j("QueryEngine","Query:",ec(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Xa()<=ae.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",ec(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ti(n))):R.resolve())}Yi(e,n){if(O0(n))return R.resolve(null);let r=Ti(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ay(n,null,"F"),r=Ti(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=it(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,c);return this.ns(n,l,o,u.readTime)?this.Yi(e,Ay(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return O0(n)||i.isEqual(Ae.min())?R.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?R.resolve(null):(Xa()<=ae.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ec(n)),this.rs(e,o,n,mj(i,-1)).next(c=>c))})}ts(e,n){let r=new ft(Oj(e));return n.forEach((i,s)=>{Mv(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Xa()<=ae.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",ec(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ri.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var rv=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Mt(we),this._s=new Pr(s=>Sv(s),Av),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hy(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function aU(t,e,n,r){return new rv(t,e,n,r)}function IT(t,e){return w(this,null,function*(){let n=Ee(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],u=it();for(let l of i){o.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of s){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:c}))})})})}function cU(t,e){let n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,l,f){let g=l.batch,_=g.keys(),I=R.resolve();return _.forEach(A=>{I=I.next(()=>f.getEntry(u,A)).next(N=>{let x=l.docVersions.get(A);Ue(x!==null),N.version.compareTo(x)<0&&(g.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),f.addEntry(N)))})}),I.next(()=>c.mutationQueue.removeMutationBatch(u,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=it();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function uU(t){let e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function lU(t,e){let n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var Ad=class{constructor(){this.activeTargetIds=Uj()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var iv=class{constructor(){this.so=new Ad,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ad,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var sv=class{_o(e){}shutdown(){}};var Md=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var gd=null;function ny(){return gd===null?gd=function(){return 268435456+Math.round(2147483648*Math.random())}():gd++,"0x"+gd.toString(16)}var dU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var ov=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var rt="WebChannelConnection",av=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let c=ny(),u=this.xo(n,r.toUriEncodedString());j("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(f=>(j("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw vd("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,s,o,c){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+po}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=dU[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=ny();return new Promise((o,c)=>{let u=new Ym;u.setWithCredentials(!0),u.listenOnce(Jm.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ja.NO_ERROR:let f=u.getResponseJson();j(rt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Ja.TIMEOUT:j(rt,`RPC '${e}' ${s} timed out`),c(new H(M.DEADLINE_EXCEEDED,"Request time out"));break;case Ja.HTTP_ERROR:let g=u.getStatus();if(j(rt,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let I=_?.error;if(I&&I.status&&I.message){let A=function(x){let V=x.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(V)>=0?V:M.UNKNOWN}(I.status);c(new H(A,I.message))}else c(new H(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new H(M.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{j(rt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);j(rt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=ny(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ty(),c=ey(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Zm({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=s.join("");j(rt,`Creating RPC '${e}' stream ${i}: ${f}`,u);let g=o.createWebChannel(f,u),_=!1,I=!1,A=new ov({Io:x=>{I?j(rt,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(_||(j(rt,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),j(rt,`RPC '${e}' stream ${i} sending:`,x),g.send(x))},To:()=>g.close()}),N=(x,V,Q)=>{x.listen(V,X=>{try{Q(X)}catch(ge){setTimeout(()=>{throw ge},0)}})};return N(g,Qs.EventType.OPEN,()=>{I||(j(rt,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),N(g,Qs.EventType.CLOSE,()=>{I||(I=!0,j(rt,`RPC '${e}' stream ${i} transport closed`),A.So())}),N(g,Qs.EventType.ERROR,x=>{I||(I=!0,vd(rt,`RPC '${e}' stream ${i} transport errored:`,x),A.So(new H(M.UNAVAILABLE,"The operation could not be completed")))}),N(g,Qs.EventType.MESSAGE,x=>{var V;if(!I){let Q=x.data[0];Ue(!!Q);let X=Q,ge=X.error||((V=X[0])===null||V===void 0?void 0:V.error);if(ge){j(rt,`RPC '${e}' stream ${i} received error:`,ge);let Ge=ge.status,fe=function(y){let E=Re[y];if(E!==void 0)return Kj(E)}(Ge),D=ge.message;fe===void 0&&(fe=M.INTERNAL,D="Unknown error status: "+Ge+" with message "+ge.message),I=!0,A.So(new H(fe,D)),g.close()}else j(rt,`RPC '${e}' stream ${i} received:`,Q),A.bo(Q)}}),N(c,Xm.STAT_EVENT,x=>{x.stat===hd.PROXY?j(rt,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===hd.NOPROXY&&j(rt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function ry(){return typeof document<"u"?document:null}function Bd(t){return new Oy(t,!0)}var Rd=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var cv=class{constructor(e,n,r,i,s,o,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Rd(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Mi(n.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new H(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var uv=class extends cv{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=nU(e.writeResults,e.commitTime),r=Js(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=Xj(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>tU(this.serializer,r))};this.a_(n)}};var lv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new H(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Fy(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(M.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,Fy(n,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(M.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},dv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Mi(n),this.D_=!1):j("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var hv=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>w(this,null,function*(){dc(this)&&(j("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=Ee(u);l.L_.add(4),yield lc(l),l.q_.set("Unknown"),l.L_.delete(4),yield $d(l)})}(this))}))}),this.q_=new dv(r,i)}};function $d(t){return w(this,null,function*(){if(dc(t))for(let e of t.B_)yield e(!0)})}function lc(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function dc(t){return Ee(t).L_.size===0}function wT(t,e,n){return w(this,null,function*(){if(!Ud(e))throw e;t.L_.add(1),yield lc(t),t.q_.set("Offline"),n||(n=()=>uU(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){j("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield $d(t)}))})}function ET(t,e){return e().catch(n=>wT(t,n,e))}function Hd(t){return w(this,null,function*(){let e=Ee(t),n=Or(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;hU(e);)try{let i=yield lU(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,fU(e,i)}catch(i){yield wT(e,i)}DT(e)&&bT(e)})}function hU(t){return dc(t)&&t.O_.length<10}function fU(t,e){t.O_.push(e);let n=Or(t);n.r_()&&n.V_&&n.m_(e.mutations)}function DT(t){return dc(t)&&!Or(t).n_()&&t.O_.length>0}function bT(t){Or(t).start()}function pU(t){return w(this,null,function*(){Or(t).p_()})}function gU(t){return w(this,null,function*(){let e=Or(t);for(let n of t.O_)e.m_(n.mutations)})}function mU(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=Ny.from(r,e,n);yield ET(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Hd(t)})}function yU(t,e){return w(this,null,function*(){e&&Or(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return Wj(o)&&o!==M.ABORTED}(i.code)){let s=r.O_.shift();Or(r).s_(),yield ET(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Hd(r)}})}(t,e)),DT(t)&&bT(t)})}function U0(t,e){return w(this,null,function*(){let n=Ee(t);n.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");let r=dc(n);n.L_.add(3),yield lc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield $d(n)})}function vU(t,e){return w(this,null,function*(){let n=Ee(t);e?(n.L_.delete(2),yield $d(n)):e||(n.L_.add(2),yield lc(n),n.q_.set("Unknown"))})}function Or(t){return t.U_||(t.U_=function(n,r,i){let s=Ee(n);return s.w_(),new uv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:pU.bind(null,t),mo:yU.bind(null,t),f_:gU.bind(null,t),g_:mU.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield Hd(t)):(yield t.U_.stop(),t.O_.length>0&&(j("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var fv=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Hn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,c=new t(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function CT(t,e){if(Mi("AsyncQueue",`${e}: ${t}`),Ud(t))return new H(M.UNAVAILABLE,`${e}: ${t}`);throw t}var pv=class{constructor(){this.queries=B0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=Ee(n),s=i.queries;i.queries=B0(),s.forEach((o,c)=>{for(let u of c.j_)u.onError(r)})})(this,new H(M.ABORTED,"Firestore shutting down"))}};function B0(){return new Pr(t=>aT(t),oT)}function _U(t){t.Y_.forEach(e=>{e.next()})}var $0,H0;(H0=$0||($0={})).ea="default",H0.Cache="cache";var gv=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Pr(c=>aT(c),oT),this.Ma=new Map,this.xa=new Set,this.Oa=new Mt(ne.comparator),this.Na=new Map,this.La=new cc,this.Ba={},this.ka=new Map,this.qa=ac.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function IU(t,e,n){return w(this,null,function*(){let r=bU(t);try{let i=yield function(o,c){let u=Ee(o),l=st.now(),f=c.reduce((I,A)=>I.add(A.key),it()),g,_;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let A=Cd(),N=it();return u.cs.getEntries(I,f).next(x=>{A=x,A.forEach((V,Q)=>{Q.isValidDocument()||(N=N.add(V))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,A)).next(x=>{g=x;let V=[];for(let Q of c){let X=Gj(Q,g.get(Q.key).overlayedDocument);X!=null&&V.push(new Gn(Q.key,X,eT(X.value.mapValue),Si.exists(!0)))}return u.mutationQueue.addMutationBatch(I,l,V,c)}).next(x=>{_=x;let V=x.applyToLocalDocumentSet(g,N);return u.documentOverlayCache.saveOverlays(I,x.batchId,V)})}).then(()=>({batchId:_.batchId,changes:uT(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Mt(we)),l=l.insert(c,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield zd(r,i.changes),yield Hd(r.remoteStore)}catch(i){let s=CT(i,"Failed to persist write");n.reject(s)}})}function z0(t,e,n){let r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let c=o.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let u=Ee(o);u.onlineState=c;let l=!1;u.queries.forEach((f,g)=>{for(let _ of g.j_)_.Z_(c)&&(l=!0)}),l&&_U(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function wU(t,e){return w(this,null,function*(){let n=Ee(t),r=e.batch.batchId;try{let i=yield cU(n.localStore,e);ST(n,r,null),TT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield zd(n,i)}catch(i){yield Q0(i)}})}function EU(t,e,n){return w(this,null,function*(){let r=Ee(t);try{let i=yield function(o,c){let u=Ee(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,c).next(g=>(Ue(g!==null),f=g.keys(),u.mutationQueue.removeMutationBatch(l,g))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,e);ST(r,e,n),TT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield zd(r,i)}catch(i){yield Q0(i)}})}function TT(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function ST(t,e,n){let r=Ee(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function zd(t,e,n){return w(this,null,function*(){let r=Ee(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{o.push(r.Ka(u,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let g=l?!l.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(l){i.push(l);let g=ev.Wi(u.targetId,l);s.push(g)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let f=Ee(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>R.forEach(l,_=>R.forEach(_.$i,I=>f.persistence.referenceDelegate.addReference(g,_.targetId,I)).next(()=>R.forEach(_.Ui,I=>f.persistence.referenceDelegate.removeReference(g,_.targetId,I)))))}catch(g){if(!Ud(g))throw g;j("LocalStore","Failed to update sequence numbers: "+g)}for(let g of l){let _=g.targetId;if(!g.fromCache){let I=f.os.get(_),A=I.snapshotVersion,N=I.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(_,N)}}})}(r.localStore,s))})}function DU(t,e){return w(this,null,function*(){let n=Ee(t);if(!n.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());let r=yield IT(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(c=>{c.forEach(u=>{u.reject(new H(M.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield zd(n,r.hs)}})}function bU(t){let e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EU.bind(null,e),e}var xd=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=Bd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return aU(this.persistence,new nv,e.initialUser,this.serializer)}createPersistence(e){return new Zy(Xy.Zr,this.serializer)}createSharedClientState(e){return new iv}terminate(){return w(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var mv=class{initialize(e,n){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>z0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=DU.bind(null,this.syncEngine),yield vU(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new pv}()}createDatastore(e){let n=Bd(e.databaseInfo.databaseId),r=function(s){return new av(s)}(e.databaseInfo);return function(s,o,c,u){return new lv(s,o,c,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,c){return new hv(r,i,s,o,c)}(this.localStore,this.datastore,e.asyncQueue,n=>z0(this.syncEngine,n,0),function(){return Md.D()?new Md:new sv}())}createSyncEngine(e,n){return function(i,s,o,c,u,l,f){let g=new gv(i,s,o,c,u,l);return f&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return w(this,null,function*(){var e,n;yield function(i){return w(this,null,function*(){let s=Ee(i);j("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield lc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var yv=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ze.UNAUTHENTICATED,this.clientId=Id.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>w(this,null,function*(){j("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(j("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Hn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=CT(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function iy(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield IT(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function q0(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield TU(t);j("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>U0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>U0(e.remoteStore,i)),t._onlineComponents=e})}function CU(t){return t.name==="FirebaseError"?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function TU(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{yield iy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!CU(n))throw n;vd("Error using user provided cache. Falling back to memory cache: "+n),yield iy(t,new xd)}}else j("FirestoreClient","Using default OfflineComponentProvider"),yield iy(t,new xd);return t._offlineComponents})}function SU(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),yield q0(t,t._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),yield q0(t,new mv))),t._onlineComponents})}function AU(t){return SU(t).then(e=>e.syncEngine)}function AT(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var G0=new Map;function MT(t,e,n){if(!n)throw new H(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function MU(t,e,n,r){if(e===!0&&r===!0)throw new H(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function W0(t){if(!ne.isDocumentKey(t))throw new H(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function K0(t){if(ne.isDocumentKey(t))throw new H(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce()}function RT(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=xv(t);throw new H(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Nd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new H(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new H(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new H(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},fo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new H(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new H(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new sy;switch(r.type){case"firstParty":return new uy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=G0.get(n);r&&(j("ComponentProvider","Removing Datastore"),G0.delete(n),r.terminate())}(this),Promise.resolve()}};function xT(t,e,n,r={}){var i;let s=(t=RT(t,fo))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&vd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=ze.MOCK_USER;else{c=Xb(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new H(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ze(l)}t._authCredentials=new oy(new _d(c,u))}}var vv=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},zn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Rr=class t extends vv{constructor(e,n,r){super(e,n,xj(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new ne(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function NT(t,e,...n){if(t=ht(t),MT("collection","path",e),t instanceof fo){let r=Pe.fromString(e,...n);return K0(r),new Rr(t,null,r)}{if(!(t instanceof zn||t instanceof Rr))throw new H(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Pe.fromString(e,...n));return K0(r),new Rr(t.firestore,null,r)}}function PT(t,e,...n){if(t=ht(t),arguments.length===1&&(e=Id.newId()),MT("doc","path",e),t instanceof fo){let r=Pe.fromString(e,...n);return W0(r),new zn(t,null,new ne(r))}{if(!(t instanceof zn||t instanceof Rr))throw new H(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Pe.fromString(e,...n));return W0(r),new zn(t.firestore,t instanceof Rr?t.converter:null,new ne(r))}}var _v=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Rd(this,"async_queue_retry"),this.Eu=()=>{let n=ry();n&&j("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=ry();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=ry();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new Hn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return w(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Ud(e))throw e;j("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw Mi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=fv.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&ce()}verifyOperationInProgress(){}mu(){return w(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};var Pd=class extends fo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new _v}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||kT(this),this._firestoreClient.terminate()}};function OT(t,e){let n=typeof t=="object"?t:Hs(),r=typeof t=="string"?t:e||"(default)",i=Ba(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Jb("firestore");s&&xT(i,...s)}return i}function RU(t){return t._firestoreClient||kT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function kT(t){var e,n,r;let i=t._freezeSettings(),s=function(c,u,l,f){return new gy(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,AT(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new yv(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Od=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(qn.fromBase64String(e))}catch(n){throw new H(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(qn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var kd=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Fd=class{constructor(e){this._methodName=e}};var Ld=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}};var Vd=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var xU=/^__.*__$/,Iv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pi(e,this.data,n,this.fieldTransforms)}};function FT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}var wv=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return jd(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(FT(this.wu)&&xU.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},Ev=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Bd(e)}Nu(e,n,r,i=!1){return new wv({wu:e,methodName:n,Ou:r,path:At.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function NU(t){let e=t._freezeSettings(),n=Bd(t._databaseId);return new Ev(t._databaseId,!!e.ignoreUndefinedProperties,n)}function PU(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);UT("Data must be an object, but it was:",o,r);let c=VT(r,o),u,l;if(s.merge)u=new pn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let g of s.mergeFields){let _=OU(e,g,n);if(!o.contains(_))throw new H(M.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);LU(f,_)||f.push(_)}u=new pn(f),l=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,l=o.fieldTransforms;return new Iv(new fn(c),u,l)}function LT(t,e){if(jT(t=ht(t)))return UT("Unsupported field value:",e,t),VT(t,e);if(t instanceof Fd)return function(r,i){if(!FT(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let c of r){let u=LT(c,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Bj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=st.fromDate(r);return{timestampValue:ky(i.serializer,s)}}if(r instanceof st){let s=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ky(i.serializer,s)}}if(r instanceof Ld)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Od)return{bytesValue:Qj(i.serializer,r._byteString)};if(r instanceof zn){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:vT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Vd)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw c.Mu("VectorValues must only contain numeric values.");return Rv(c.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${xv(r)}`)}(t,e)}function VT(t,e){let n={};return Y0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uc(t,(r,i)=>{let s=LT(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function jT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof Ld||t instanceof Od||t instanceof zn||t instanceof Fd||t instanceof Vd)}function UT(t,e,n){if(!jT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=xv(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function OU(t,e,n){if((e=ht(e))instanceof kd)return e._internalPath;if(typeof e=="string")return FU(t,e);throw jd("Field path arguments must be of type string or ",t,!1,void 0,n)}var kU=new RegExp("[~\\*/\\[\\]]");function FU(t,e,n){if(e.search(kU)>=0)throw jd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new kd(...e.split("."))._internalPath}catch{throw jd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jd(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new H(M.INVALID_ARGUMENT,c+t+u)}function LU(t,e){return t.some(n=>n.isEqual(e))}function VU(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function BT(t,e){let n=RT(t.firestore,Pd),r=PT(t),i=VU(t.converter,e);return jU(n,[PU(NU(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Si.exists(!1))]).then(()=>r)}function jU(t,e){return function(r,i){let s=new Hn;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return IU(yield AU(r),i,s)})),s.promise}(RU(t),e)}(function(e,n=!0){(function(i){po=i})(Cr),br(new Vt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new Pd(new ay(r.getProvider("auth-internal")),new dy(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new H(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new my(l.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),je(S0,"4.7.1",e),je(S0,"4.7.1","esm2017")})();var Oi=class{constructor(e){return e}},$T="firestore",Nv=class{constructor(){return $a($T)}};var Pv=new U("angularfire2.firestore-instances");function UU(t,e){let n=zl($T,t,e);return n&&new Oi(n)}function BU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Oi(r)}}var $U={provide:Nv,deps:[[new mt,Pv]]},HU={provide:Oi,useFactory:UU,deps:[[new mt,Pv],Vn]};function HT(t,...e){return je("angularfire",_i.full,"fst"),on([HU,$U,{provide:Pv,useFactory:BU(t),multi:!0,deps:[ye,gt,Gs,Ii,[new mt,Za],[new mt,qs],...e]}])}var zT=Zt(BT,!0);var qT=Zt(NT,!0);var GT=Zt(OT,!0);var go=class t{constructor(e,n){this.firestore=e;this.auth=n}logger(){let e=qT(this.firestore,"logs");zT(e,{fecha:new Date,user:this.auth.currentUser?.email})}static \u0275fac=function(n){return new(n||t)(Z(Oi),Z(St))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})};function qU(t,e){if(t&1){let n=yr();L(0,"div",13)(1,"div",14)(2,"div",15)(3,"span"),$(4,"Error"),F(),L(5,"span",16),Qe("click",function(){hr(n);let i=Kt();return fr(i.closeErrorAlert())}),$(6,"\xD7"),F()(),L(7,"div",17),$(8),F()()()}if(t&2){let n=Kt();$e(8),Es(" ",n.msjError," ")}}function GU(t,e){if(t&1){let n=yr();L(0,"div",13)(1,"div",18)(2,"div",15)(3,"span"),$(4,"Iniciar sesion"),F(),L(5,"span",16),Qe("click",function(){hr(n);let i=Kt();return fr(i.closeSuccessAlert())}),$(6,"\xD7"),F()(),L(7,"div",17),$(8," Inicio de sesion exitoso "),F()()()}}var qd=class t{constructor(e,n,r){this.auth=e;this.router=n;this.loggerService=r}mail="";contra="";flagError=!1;flagSuccess=!1;msjError="";login(){this.validarCampo()&&E0(this.auth,this.mail,this.contra).then(e=>{this.flagError=!1,this.flagSuccess=!0}).catch(e=>{switch(this.flagError=!0,e.code){case"auth/invalid-credential":this.msjError="usuario no encontrado";break;case"auth/user-not-found":this.msjError="No existe una cuenta con este correo electr\xF3nico.";break;case"auth/wrong-password":this.msjError="La contrase\xF1a es incorrecta.";break;case"auth/too-many-requests":this.msjError="Demasiados intentos fallidos. Por favor, intenta m\xE1s tarde o restablece tu contrase\xF1a.";break;default:this.msjError="Usuario o contrase\xF1a incorrectos.";break}})}validarCampo(){return!this.mail||this.mail.trim()===""?(this.flagError=!0,this.msjError="El campo de correo no puede estar vac\xEDo",!1):!this.contra||this.contra.trim()===""?(this.flagError=!0,this.msjError="El campo de contrase\xF1a no puede estar vac\xEDo",!1):this.contra.length<6?(this.flagError=!0,this.msjError="La contrase\xF1a debe tener al menos 6 caracteres",!1):/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(this.mail)?(this.flagError=!1,!0):(this.flagError=!0,this.msjError="Formato de correo no v\xE1lido",!1)}limpiarCampos(){this.mail="",this.contra=""}closeErrorAlert(){this.flagError=!1}closeSuccessAlert(){this.flagSuccess=!1,this.limpiarCampos(),this.loggerService.logger(),this.router.navigate(["/home"])}registroAutomatico(){this.mail="fac@gmail.com",this.contra="123123"}static \u0275fac=function(n){return new(n||t)(W(St),W(cn),W(go))};static \u0275cmp=yt({type:t,selectors:[["app-login"]],standalone:!0,features:[vt],decls:22,vars:4,consts:[[1,"main","min-vh-100"],[1,"background"],[1,"shape","separacion"],[1,"separacion"],["for","mail"],["type","text","placeholder","Ingrese su mail","name","mail",3,"ngModelChange","ngModel"],["for","contra"],["type","password","placeholder","Contrase\xF1a","name","contra",3,"ngModelChange","ngModel"],[1,"btnLogin",3,"click"],[1,"social"],["routerLink","../registrarse","routerLinkActive","active"],[1,"ar",3,"click"],["class","overlay",4,"ngIf"],[1,"overlay"],[1,"custom-alert","error-alert"],[1,"custom-alert-header"],[1,"close-btn",3,"click"],[1,"custom-alert-body"],[1,"custom-alert","success-alert"]],template:function(n,r){n&1&&(L(0,"div",0)(1,"div",1),Ve(2,"div",2)(3,"div",2),F(),L(4,"form",3)(5,"h3"),$(6,"Iniciar sesion"),F(),L(7,"label",4),$(8,"Mail"),F(),L(9,"input",5),_r("ngModelChange",function(s){return si(r.mail,s)||(r.mail=s),s}),F(),L(10,"label",6),$(11,"Contrase\xF1a"),F(),L(12,"input",7),_r("ngModelChange",function(s){return si(r.contra,s)||(r.contra=s),s}),F(),L(13,"button",8),Qe("click",function(){return r.login()}),$(14,"Iniciar sesion"),F(),L(15,"div",9)(16,"button",10),$(17," registrarse"),F(),L(18,"button",11),Qe("click",function(){return r.registroAutomatico()}),$(19," accesso rapido"),F()()(),Rn(20,qU,9,1,"div",12)(21,GU,9,0,"div",12),F()),n&2&&($e(9),vr("ngModel",r.mail),$e(3),vr("ngModel",r.contra),$e(8),Wt("ngIf",r.flagError),$e(),Wt("ngIf",r.flagSuccess))},dependencies:[Ps,ks,Ll,Fl,Us,Pl,Ol,Fa,ka,li,bs],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{padding:0;margin:0;box-sizing:border-box}.main[_ngcontent-%COMP%]{background-image:url(https://wallpapers.com/images/hd/game-night-background-poemd877bzft58ix.jpg);background-size:cover;background-position:center;background-repeat:no-repeat}.separacion[_ngcontent-%COMP%]{margin-top:50px}.background[_ngcontent-%COMP%]{width:430px;height:520px;position:absolute;transform:translate(-50%,-50%);left:50%;top:50%}.background[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{height:200px;width:200px;position:absolute;border-radius:50%}.shape[_ngcontent-%COMP%]:first-child{background:linear-gradient(#1845ad,#23a2f6);left:-80px;top:-80px}.shape[_ngcontent-%COMP%]:last-child{background:linear-gradient(to right,#ff512f,#f09819);right:-30px;bottom:-80px}form[_ngcontent-%COMP%]{height:520px;width:400px;background-color:#ffffff21;position:absolute;transform:translate(-50%,-50%);top:50%;left:50%;border-radius:10px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:2px solid rgba(255,255,255,.1);box-shadow:0 0 40px #08071099;padding:50px 35px}form[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;color:#fff;letter-spacing:.5px;outline:none;border:none}form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:32px;font-weight:500;line-height:42px;text-align:center}label[_ngcontent-%COMP%]{display:block;margin-top:30px;font-size:16px;font-weight:500}input[_ngcontent-%COMP%]{display:block;height:50px;width:100%;background-color:#ffffff12;border-radius:3px;padding:0 10px;margin-top:8px;font-size:14px;font-weight:300}[_ngcontent-%COMP%]::placeholder{color:#e5e5e5}.btnLogin[_ngcontent-%COMP%]{margin-top:50px;width:100%;background-color:#253029;color:#080710;padding:15px 0;font-size:18px;font-weight:600;border-radius:5px;cursor:pointer}.social[_ngcontent-%COMP%]{margin-top:30px;display:flex}.social[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:red;width:150px;border-radius:3px;padding:5px 10px 10px 5px;background-color:#ffffff45;color:#eaf0fb;text-align:center}.social[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ffffff78}.social[_ngcontent-%COMP%]   .ar[_ngcontent-%COMP%]{margin-left:25px}.social[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.custom-alert[_ngcontent-%COMP%]{background-color:#ffffffe6;border:1px solid #ccc;border-radius:8px;width:300px;box-shadow:0 4px 6px #0000001a}.custom-alert-header[_ngcontent-%COMP%]{padding:10px;border-top-left-radius:8px;border-top-right-radius:8px;font-weight:700;display:flex;justify-content:space-between;align-items:center}.custom-alert-body[_ngcontent-%COMP%]{padding:15px;color:#333}.close-btn[_ngcontent-%COMP%]{font-size:20px;cursor:pointer;color:#fff;padding:0 10px}.close-btn[_ngcontent-%COMP%]:hover{color:#ccc}.error-alert[_ngcontent-%COMP%]{border-color:#f44336;background-color:#f44336ea}.success-alert[_ngcontent-%COMP%]{border-color:#4caf50;background-color:#4caf4fde}@media (max-width: 768px){.background[_ngcontent-%COMP%]{display:none}form[_ngcontent-%COMP%]{width:90%;padding:20px;box-shadow:none}.social[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.social[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}.social[_ngcontent-%COMP%]   .ar[_ngcontent-%COMP%]{margin-left:0}}@media (max-width: 1024px) and (min-width: 769px){form[_ngcontent-%COMP%]{width:80%}}"]})};function WU(t,e){if(t&1){let n=yr();L(0,"div",12)(1,"div",13)(2,"div",14)(3,"span"),$(4,"Error"),F(),L(5,"span",15),Qe("click",function(){hr(n);let i=Kt();return fr(i.closeErrorAlert())}),$(6,"\xD7"),F()(),L(7,"div",16),$(8),F()()()}if(t&2){let n=Kt();$e(8),Es(" ",n.msjError," ")}}function KU(t,e){if(t&1){let n=yr();L(0,"div",12)(1,"div",17)(2,"div",14)(3,"span"),$(4,"Creado"),F(),L(5,"span",15),Qe("click",function(){hr(n);let i=Kt();return fr(i.closeSuccessAlert())}),$(6,"\xD7"),F()(),L(7,"div",16),$(8," Usuario creado con \xE9xito "),F()()()}}var Gd=class t{constructor(e,n,r){this.auth=e;this.router=n;this.loggerService=r}mail="";contra="";contraConfir="";flagError=!1;flagSuccess=!1;msjError="";limpiarCampos(){this.mail="",this.contra="",this.contraConfir=""}validacionPassword(){return this.contra!==this.contraConfir?(this.flagError=!0,this.msjError="Las contrase\xF1as no coinciden",!1):this.contra.length<6?(this.flagError=!0,this.msjError="La contrase\xF1a debe tener al menos 6 caracteres",!1):(this.flagError=!1,!0)}validateEmail(){return this.mail=this.mail.trim(),/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(this.mail)?(this.flagError=!1,!0):(this.flagError=!0,this.msjError="Formato de correo no v\xE1lido",!1)}Register(){this.validateEmail()&&this.validacionPassword()&&I0(this.auth,this.mail,this.contra).then(e=>{this.flagError=!1,this.flagSuccess=!0,console.log("Registro exitoso:",e)}).catch(e=>{switch(this.flagError=!0,console.log("Error en Firebase:",e.code),e.code){case"auth/invalid-email":this.msjError="Email inv\xE1lido";break;case"auth/email-already-in-use":this.msjError="Email ya en uso";break;case" auth/weak-password":this.msjError="La contrase\xF1a es demasiada corta";break;default:console.log(e.code),this.msjError=e.code;break}})}closeErrorAlert(){this.flagError=!1}closeSuccessAlert(){this.flagSuccess=!1,this.limpiarCampos(),this.router.navigate(["/home"]),this.loggerService.logger()}static \u0275fac=function(n){return new(n||t)(W(St),W(cn),W(go))};static \u0275cmp=yt({type:t,selectors:[["app-sign-up"]],standalone:!0,features:[vt],decls:20,vars:5,consts:[[1,"main","min-vh-100"],[1,"background","separacion"],[1,"shape","separacion"],[1,"separacion"],["for","mail"],["type","text","placeholder","Ingrese su mail","name","mail",3,"ngModelChange","ngModel"],["for","Contrase\xF1a"],["type","password","placeholder","Contrase\xF1a","name","contra",3,"ngModelChange","ngModel"],["for","RepetirContrase\xF1a"],["type","password","placeholder","Repetir Contrase\xF1a","name","contraConfir",3,"ngModelChange","ngModel"],["routerLinkActive","active",1,"btnRegistrarse",3,"click"],["class","overlay",4,"ngIf"],[1,"overlay"],[1,"custom-alert","error-alert"],[1,"custom-alert-header"],[1,"close-btn",3,"click"],[1,"custom-alert-body"],[1,"custom-alert","success-alert"]],template:function(n,r){n&1&&(L(0,"div",0)(1,"div",1),Ve(2,"div",2)(3,"div",2),F(),L(4,"form",3)(5,"h3"),$(6,"Registrarse"),F(),L(7,"label",4),$(8,"Mail"),F(),L(9,"input",5),_r("ngModelChange",function(s){return si(r.mail,s)||(r.mail=s),s}),F(),L(10,"label",6),$(11,"Contrase\xF1a"),F(),L(12,"input",7),_r("ngModelChange",function(s){return si(r.contra,s)||(r.contra=s),s}),F(),L(13,"label",8),$(14,"Repetir ontrase\xF1a"),F(),L(15,"input",9),_r("ngModelChange",function(s){return si(r.contraConfir,s)||(r.contraConfir=s),s}),F(),L(16,"button",10),Qe("click",function(){return r.Register()}),$(17,"Registrarse"),F()(),Rn(18,WU,9,1,"div",11)(19,KU,9,0,"div",11),F()),n&2&&($e(9),vr("ngModel",r.mail),$e(3),vr("ngModel",r.contra),$e(3),vr("ngModel",r.contraConfir),$e(3),Wt("ngIf",r.flagError),$e(),Wt("ngIf",r.flagSuccess))},dependencies:[ks,Ll,Fl,Us,Pl,Ol,Fa,ka,li,bs],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{padding:0;margin:0;box-sizing:border-box}.main[_ngcontent-%COMP%]{background-image:url(https://wallpapers.com/images/hd/game-night-background-poemd877bzft58ix.jpg);background-size:cover;background-position:center;background-repeat:no-repeat}.separacion[_ngcontent-%COMP%]{margin-top:50px}.background[_ngcontent-%COMP%]{width:430px;height:520px;position:absolute;transform:translate(-50%,-50%);left:50%;top:50%}.background[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{height:200px;width:200px;position:absolute;border-radius:50%}.shape[_ngcontent-%COMP%]:first-child{background:linear-gradient(#1845ad,#23a2f6);left:-80px;top:-80px}.shape[_ngcontent-%COMP%]:last-child{background:linear-gradient(to right,#ff512f,#f09819);right:-30px;bottom:-80px}form[_ngcontent-%COMP%]{height:550px;width:400px;background-color:#ffffff21;position:absolute;transform:translate(-50%,-50%);top:50%;left:50%;border-radius:10px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:2px solid rgba(255,255,255,.1);box-shadow:0 0 40px #08071099;padding:50px 35px}form[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;color:#fff;letter-spacing:.5px;outline:none;border:none}form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:32px;font-weight:500;line-height:42px;text-align:center}label[_ngcontent-%COMP%]{display:block;margin-top:30px;font-size:16px;font-weight:500}input[_ngcontent-%COMP%]{display:block;height:50px;width:100%;background-color:#ffffff12;border-radius:3px;padding:0 10px;margin-top:8px;font-size:14px;font-weight:300}[_ngcontent-%COMP%]::placeholder{color:#e5e5e5}.btnRegistrarse[_ngcontent-%COMP%]{margin-top:25px;width:100%;background-color:#253029;color:#080710;padding:15px 0;font-size:18px;font-weight:600;border-radius:5px;cursor:pointer}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.custom-alert[_ngcontent-%COMP%]{background-color:#ffffffe6;border:1px solid #ccc;border-radius:8px;width:300px;box-shadow:0 4px 6px #0000001a}.custom-alert-header[_ngcontent-%COMP%]{padding:10px;border-top-left-radius:8px;border-top-right-radius:8px;font-weight:700;display:flex;justify-content:space-between;align-items:center}.custom-alert-body[_ngcontent-%COMP%]{padding:15px;color:#333}.close-btn[_ngcontent-%COMP%]{font-size:20px;cursor:pointer;color:#fff;padding:0 10px}.close-btn[_ngcontent-%COMP%]:hover{color:#ccc}.error-alert[_ngcontent-%COMP%]{border-color:#f44336;background-color:#f44336ea}.success-alert[_ngcontent-%COMP%]{border-color:#4caf50;background-color:#4caf4fde}@media (max-width: 768px){.main[_ngcontent-%COMP%]{position:relative;overflow:hidden}.background[_ngcontent-%COMP%]{display:none}form[_ngcontent-%COMP%]{width:90%;padding:20px;box-shadow:none}.social[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.social[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}.social[_ngcontent-%COMP%]   .ar[_ngcontent-%COMP%]{margin-left:0}}@media (max-width: 1024px) and (min-width: 769px){form[_ngcontent-%COMP%]{width:80%}}"]})};var Wd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=yt({type:t,selectors:[["app-page-not-found"]],standalone:!0,features:[vt],decls:9,vars:0,consts:[[1,"main","min-vh-100"],[1,"py-5"],[1,"container","px-lg-5"],[1,"p-lg-2","rounded-3","text-center","divTitulo"],[1,"m-4","m-lg-5"],[1,"display-5","fw-bold","image-text"],[1,"display-7"]],template:function(n,r){n&1&&(L(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),$(6,"Error"),F(),L(7,"h2",6),$(8,"Esta pagina no existe"),F()()()()()())},styles:[".main[_ngcontent-%COMP%]{background-image:url(https://wallpapers.com/images/hd/game-night-background-poemd877bzft58ix.jpg);background-size:cover;background-position:center;background-repeat:no-repeat}.divTitulo[_ngcontent-%COMP%]{background-color:#f0e9e980;height:150px;display:flex;justify-content:center;align-items:center}"]})};var KT=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:bl},{path:"sobreMi",component:Cl},{path:"iniciarSesion",component:qd},{path:"registrarse",component:Gd},{path:"**",component:Wd}];var QT={apiKey:"AIzaSyDQEzCYNkwxFYQ6h-cHyNVJr8phoz2n880",authDomain:"sala-de-juego-447fd.firebaseapp.com",projectId:"sala-de-juego-447fd",storageBucket:"sala-de-juego-447fd.appspot.com",messagingSenderId:"365194083432",appId:"1:365194083432:web:035aaa0da9e6d141494fdd"};var YT={providers:[wD({eventCoalescing:!0}),Tb(KT),EC(()=>DC(QT)),_0(()=>w0()),HT(()=>GT())]};function QU(t,e){t&1&&(L(0,"a",14),$(1,"Iniciar sesi\xF3n"),F())}function YU(t,e){if(t&1&&(L(0,"a",15),$(1),F()),t&2){let n=Kt();$e(),kp(n.auth.currentUser.email?n.auth.currentUser.email:"No email available")}}function ZU(t,e){if(t&1){let n=yr();L(0,"a",16),Qe("click",function(){hr(n);let i=Kt();return fr(i.cerrarSesion())}),$(1,"Cerrar sesi\xF3n"),F()}}var Kd=class t{constructor(e,n){this.router=e;this.auth=n}title="Sala-de-juego";cerrarSesion(){D0(this.auth).then(()=>{console.log(this.auth.currentUser?.email)})}goTo(e){this.router.navigate([e])}static \u0275fac=function(n){return new(n||t)(W(cn),W(St))};static \u0275cmp=yt({type:t,selectors:[["app-root"]],standalone:!0,features:[vt],decls:22,vars:3,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid","px-lg-5"],["routerLink","/home",1,"navbar-brand"],["src","favicon.ico","alt","Logo",1,"logo"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarToggler","aria-controls","navbarToggler","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","ms-auto"],[1,"navbar-toggler-icon"],["id","navbarToggler",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","home","routerLinkActive","active",1,"nav-link"],["routerLink","sobreMi","routerLinkActive","active",1,"nav-link"],["class","nav-link","routerLink","iniciarSesion","routerLinkActive","active",4,"ngIf"],["href","#","class","nav-link",4,"ngIf"],["href","#","class","nav-link",3,"click",4,"ngIf"],["routerLink","iniciarSesion","routerLinkActive","active",1,"nav-link"],["href","#",1,"nav-link"],["href","#",1,"nav-link",3,"click"]],template:function(n,r){n&1&&(L(0,"nav",0)(1,"div",1)(2,"a",2),Ve(3,"img",3),$(4," Sala de juego "),F(),L(5,"button",4),Ve(6,"span",5),F(),L(7,"div",6)(8,"ul",7)(9,"li",8)(10,"a",9),$(11,"Home"),F()(),L(12,"li",8)(13,"a",10),$(14,"Sobre m\xED"),F()(),L(15,"li",8),Rn(16,QU,2,0,"a",11),F(),L(17,"li",8),Rn(18,YU,2,1,"a",12),F(),L(19,"li",8),Rn(20,ZU,2,0,"a",13),F()()()()(),Ve(21,"router-outlet")),n&2&&($e(16),Wt("ngIf",!r.auth.currentUser),$e(2),Wt("ngIf",r.auth.currentUser),$e(2),Wt("ngIf",r.auth.currentUser))},dependencies:[Sg,Ps,ks,li,bs],styles:[".logo[_ngcontent-%COMP%]{width:50px;height:auto}"]})};HD(Kd,YT).catch(t=>console.error(t));
